/*! For license information please see main.3b86bede.js.LICENSE.txt */
(function(){var __webpack_modules__={569:function(e,t,n){e.exports=n(36)},381:function(e,t,n){"use strict";var r=n(589),i=n(297),a=n(301),o=n(774),s=n(804),u=n(145),c=n(411),l=n(789),f=n(531),h=n(795),d=n(261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+_)}var w=s(e.baseURL,e.url);function x(){if(k){var r="getAllResponseHeaders"in k?u(k.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=x:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(x)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var E=d(w);E&&-1===["http","https","file"].indexOf(E)?n(new f("Unsupported protocol "+E+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},36:function(e,t,n){"use strict";var r=n(589),i=n(49),a=n(773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(709));s.Axios=a,s.CanceledError=n(795),s.CancelToken=n(857),s.isCancel=n(517),s.VERSION=n(600).version,s.toFormData=n(397),s.AxiosError=n(531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(89),s.isAxiosError=n(580),e.exports=s,e.exports.default=s},857:function(e,t,n){"use strict";var r=n(795);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},795:function(e,t,n){"use strict";var r=n(531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},773:function(e,t,n){"use strict";var r=n(589),i=n(774),a=n(470),o=n(733),s=n(777),u=n(804),c=n(835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},531:function(e,t,n){"use strict";var r=n(589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,u){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},470:function(e,t,n){"use strict";var r=n(589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},804:function(e,t,n){"use strict";var r=n(44),i=n(549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},733:function(e,t,n){"use strict";var r=n(589),i=n(693),a=n(517),o=n(709),s=n(795);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},297:function(e,t,n){"use strict";var r=n(531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},693:function(e,t,n){"use strict";var r=n(589),i=n(709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},709:function(e,t,n){"use strict";var r=n(589),i=n(341),a=n(531),o=n(789),s=n(397),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(35)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(u)})),e.exports=l},789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},600:function(e){e.exports={version:"0.27.2"}},49:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},774:function(e,t,n){"use strict";var r=n(589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},301:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},44:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},580:function(e,t,n){"use strict";var r=n(589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},411:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},341:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},35:function(e){e.exports=null},145:function(e,t,n){"use strict";var r=n(589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},89:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},397:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,u=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(o,i(a))}(e),t}},835:function(e,t,n){"use strict";var r=n(600).version,i=n(531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var u=e[o],c=void 0===u||s(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},589:function(e,t,n){"use strict";var r,i=n(49),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),v=s("Blob"),m=s("FileList");function y(e){return"[object Function]"===a.call(e)}var g=s("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,_=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:m}},647:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return gapi}});var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime(),function(){var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},da=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},ea=da(this),fa=function(e,t){if(t)e:{var n=ea;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&aa(n,e,{configurable:!0,writable:!0,value:t})}},ha=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}};fa("Symbol",(function(e){if(e)return e;var t=function(e,t){this.ba=e,aa(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.ba};var n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),fa("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=ea[t[n]];"function"===typeof r&&"function"!=typeof r.prototype[e]&&aa(r.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e}));var ia=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},ja=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i};fa("Array.prototype.keys",(function(e){return e||function(){return ja(this,(function(e){return e}))}}));var m=this||self,ka=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},la=function(e,t,n){return e.call.apply(e.bind,arguments)},ma=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},_na=function(e,t,n){return(_na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma).apply(null,arguments)},oa=function(e,t){function n(){}n.prototype=t.prototype,e.ma=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.A=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}},pa=function(e){return e},qa=function(e){var t=null,n=m.trustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(r){m.console&&m.console.error(r.message)}return t};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");q.call(this,n+e[r])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var a=r}else e&&(i+=": "+e,a=t);throw new ra(""+i,a||[])},ta=function(e,t,n){return e||sa("",null,t,Array.prototype.slice.call(arguments,2)),e},ua=function(e,t){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,t,n){"string"!==typeof e&&sa("Expected string but got %s: %s.",[ka(e),e],t,Array.prototype.slice.call(arguments,2))},xa=function(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||m).Element&&r.Location){var i=r;break e}}catch(o){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if("object"==(i=typeof e)&&null!=e||"function"==i)try{var a=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(o){a="<object could not be stringified>"}else a=void 0===e?"undefined":null===e?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,a)}return e},ya,t=function(e,t){this.P=e===za&&t||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,t){this.N=t===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e="object"==typeof e&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,t,n){this.M=n===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!t.parentElement)}(),n=!0),t}}(),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,t,n){return e[t]=e[t]||n},Oa=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1},Pa=function(e){e=e.sort();for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];i!=n&&t.push(i),n=i}return t},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else for(var t in e={})e[t]=void 0;return e},C=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var t,n=[];for(t in e)C(e,t)&&n.push(t);return n},D=function(e,t){for(var n in e=e||{})C(e,n)&&(t[n]=e[n])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,t){if(!e)throw Error(t||"")},F=A(x,"gapi",{}),H=function(e,t,n){var r=new RegExp("([#].*&|[#])"+t+"=([^&#]*)","g");if(t=new RegExp("([?#].*&|[?#])"+t+"=([^&#]*)","g"),e=e&&(r.exec(e)||t.exec(e)))try{n=decodeURIComponent(e[2])}catch(i){}return n},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=(e=(e=String(e)).replace($a,(function(e){try{return encodeURIComponent(e)}catch(t){return encodeURIComponent(e.replace(/^[^%]+$/g,"\ufffd"))}})).replace(ab,(function(e){return e.replace(/%/g,"%25")})).replace(bb,(function(e){return e.toUpperCase()}))).match(Za)||[];var t=B(),n=function(e){return e.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},r=!!(e[1]||"").match(cb);return t.A=n((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&r?"/":""))),r=function(e){return n(e.replace(/\?/g,"%3F").replace(/#/g,"%23"))},t.query=e[5]?[r(e[5])]:[],t.g=e[7]?[r(e[7])]:[],t},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,t){var n=[];if(e)for(var r in e)if(C(e,r)&&null!=e[r]){var i=t?t(e[r]):e[r];n.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}return n},fb=function(e,t,n,r){return(e=I(e)).query.push.apply(e.query,eb(t,r)),e.g.push.apply(e.g,eb(n,r)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,n){var r=I(n);n=r.A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join(""));var i="";2e3<n.length&&(i=n,n=(n=n.substr(0,2e3)).replace(gb,""),i=i.substr(n.length));var a=e.createElement("div");if(e=e.createElement("a"),n=(r=I(n)).A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join("")),n=new v(n,Ca),xa(e,"HTMLAnchorElement"),n=n instanceof v?n:Fa(n),e.href=Da(n),a.appendChild(e),n=a.innerHTML,r=new t(za,"Assignment to self."),va(Ba(r),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(r)),"must provide non-empty justification"),void 0===ya&&(ya=qa("gapi#html")),n=(r=ya)?r.createHTML(n):n,n=new w(n,null,Ga),a.tagName&&Ja[a.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+a.tagName+".");if(Ka())for(;a.lastChild;)a.removeChild(a.lastChild);return a.innerHTML=Ha(n),n=String(a.firstChild.href),a.parentNode&&a.parentNode.removeChild(a),i=(r=I(n+i)).A,r.query.length&&(i+="?"+r.query.join("")),r.g.length&&(i+="#"+r.g.join("")),i},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,t,n,r){x[n+"EventListener"]?x[n+"EventListener"](e,t,!1):x[r+"tachEvent"]&&x[r+"tachEvent"]("on"+e,t)},kb=function(){var e=z.readyState;return"complete"===e||"interactive"===e&&-1==navigator.userAgent.indexOf("MSIE")},nb=function(e){var t=lb;if(!kb())try{t()}catch(n){}mb(e)},mb=function(e){if(kb())e();else{var t=!1,n=function(){if(!t)return t=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",n,!1),x.addEventListener("DOMContentLoaded",n,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",(function(){kb()&&n.apply(this,arguments)})),x.attachEvent("onload",n))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var t=A(K,"sws",[]);t.push.apply(t,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var t=A(K,"PQ",[]);K.PQ=[];var n=t.length;if(0===n)e();else for(var r=0,i=function(){++r===n&&e()},a=0;a<n;a++)t[a](i)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,t,n){var r=vb.r;"function"===typeof r?r(e,t,n):r.push([e,t,n])},L=function(e,t,n){wb[e]=!t&&wb[e]||n||(new Date).getTime(),yb(e)},Ab=function(e,t,n){t&&0<t.length&&(t=zb(t),n&&0<n.length&&(t+="___"+zb(n)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),n=t,t=A(xb,"_p",B()),A(t,n,B())[e]=(new Date).getTime(),yb(e,"_p",n))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var t in e)if(C(e,t)){var n=e[t];"object"==typeof n?K[t]=A(K,t,[]).concat(n):A(K,t,n)}(t=e.u)&&((e=A(K,"us",[])).push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,t,n,r){var i=e.split(";"),a=i.shift(),o=Bb[a],s=null;return o?s=o(i,t,n,r):O("no hint processor for: "+a),s||O("failed to generate load url"),n=(t=s).match(Hb),(r=t.match(Ib))&&1===r.length&&Jb.test(t)&&n&&1===n.length||O("failed sanity: "+e),s},Nb=function(e,t,n,r){e=Lb(e),Fb.test(n)||O("invalid_callback"),t=Mb(t),r=r&&r.length?Mb(r):null;var i=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",i(e.version),"/m=",i(t),r?"/exm="+i(r):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+i(e.S):"",e.Z?"/rs="+i(e.Z):"",e.aa?"/t="+i(e.aa):"","/cb=",i(n)].join("")},Lb=function(e){"/"!==e.charAt(0)&&O("relative path");for(var t=e.substring(1).split("/"),n=[];t.length;){if((e=t.shift()).length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else O("empty/relative directory");n.push(e)}e={};for(var r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]);2==a.length&&o&&s&&(e[o]=e[o]||s)}for(t="/"+n.join("/"),Cb.test(t)||O("invalid_prefix"),n=0,r=Db.length;n<r;++n)Db[n].test(t)&&O("invalid_prefix");return{pathPrefix:t,version:n=Ob(e,"k",!0),S:r=Ob(e,"am"),Z:i=Ob(e,"rs"),aa:e=Ob(e,"t")}},Mb=function(e){for(var t=[],n=0,r=e.length;n<r;++n){var i=e[n].replace(/\./g,"_").replace(/-/g,"_");Gb.test(i)&&t.push(i)}return t.join(",")},Ob=function(e,t,n){if(!(e=e[t])&&n&&O("missing: "+t),e){if(Eb.test(e))return e;O("invalid: "+t)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,t,n,r){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,t,n,r)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,t){for(var n=[],r=0;r<e.length;++r){var i=e[r];i&&0>Oa.call(t,i)&&n.push(i)}return n},Tb=function(){var e=K.nonce;return void 0!==e?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"")&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null:null},Wb=function(e){if("loading"!=z.readyState)Ub(e);else{var t=Tb(),n="";null!==t&&(n=' nonce="'+t+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+n+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var t=z.createElement(Qb);t.setAttribute("src",Vb?Vb.createScriptURL(e):e),null!==(e=Tb())&&t.setAttribute("nonce",e),t.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(t,e):(z.head||z.body||z.documentElement).appendChild(t)},Xb=function(e,t){var n=t&&t._c;if(n)for(var r=0;r<N.length;r++){var i=N[r][0],a=N[r][1];a&&C(n,i)&&a(n[i],e,t)}},Zb=function(e,t,n){Yb((function(){var n=t===qb(La.href)?A(F,"_",B()):B();n=A(ub(t),"_",n),e(n)}),n)},ac=function(e,t){var n=t||{};"function"==typeof t&&((n={}).callback=t),Xb(e,n),t=e?e.split(":"):[];var r=n.h||Pb(),i=A(K,"ah",B());if(i["::"]&&t.length){e=[];for(var a=null;a=t.shift();){var o=a.split(".");o=i[a]||i[o[1]&&"ns:"+o[0]||""]||r;var s=e.length&&e[e.length-1]||null,u=s;s&&s.hint==o||(u={hint:o,V:[]},e.push(u)),u.V.push(a)}var c=e.length;if(1<c){var l=n.callback;l&&(n.callback=function(){0==--c&&l()})}for(;t=e.shift();)$b(t.V,n,t.hint)}else $b(t||[],n,r)},$b=function(e,t,n){e=Pa(e)||[];var r=t.callback,i=t.config,a=t.timeout,o=t.ontimeout,s=t.onerror,u=void 0;"function"==typeof s&&(u=s);var c=null,l=!1;if(a&&!o||!a&&o)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";s=A(ub(n),"r",[]).sort();var f=A(ub(n),"L",[]).sort(),h=[].concat(s),d=function(e,t){if(l)return 0;x.clearTimeout(c),f.push.apply(f,p);var r=((F||{}).config||{}).update;if(r?r(i):i&&A(K,"cu",[]).push(i),t){Ab("me0",e,h);try{Zb(t,n,u)}finally{Ab("me1",e,h)}}return 1};0<a&&(c=x.setTimeout((function(){l=!0,o()}),a));var p=Sb(e,f);if(p.length){p=Sb(e,s);var v=A(K,"CP",[]),m=v.length;if(v[m]=function(e){if(!e)return 0;Ab("ml1",p,h);var t=function(t){v[m]=null,d(p,e)&&tb((function(){r&&r(),t()}))},n=function(){var e=v[m+1];e&&e()};0<m&&v[m-1]?v[m]=function(){t(n)}:t(n)},p.length){var y="loaded_"+K.I++;F[y]=function(e){v[m](e),F[y]=null},e=Kb(n,p,"gapi."+y,s),s.push.apply(s,p),Ab("ml0",p,h),t.sync||x.___gapisync?Wb(e):Ub(e)}else v[m](Ma)}else d(p)&&r&&r()},Vb=qa("gapi#gapi"),Yb=function(e,t){if(K.hee&&0<K.hel)try{return e()}catch(n){t&&t(n),K.hel--,ac("debug_error",(function(){try{window.___jsl.hefn(n)}catch(e){throw n}}))}else try{return e()}catch(n){throw t&&t(n),n}};F.load=function(e,t){return Yb((function(){return ac(e,t)}))};var bc=function(e){var t=window.___jsl=window.___jsl||{};return t[e]=t[e]||[],t[e]},cc=function(e){var t=window.___jsl=window.___jsl||{};return t.cfg=!e&&t.cfg||{},t.cfg},dc=function(e){return"object"===typeof e&&/\[native code\]/.test(e.push)},P=function e(t,n,r){if(n&&"object"===typeof n)for(var i in n)!Object.prototype.hasOwnProperty.call(n,i)||r&&"___goc"===i&&"undefined"===typeof n[i]||(t[i]&&n[i]&&"object"===typeof t[i]&&"object"===typeof n[i]&&!dc(t[i])&&!dc(n[i])?e(t[i],n[i]):n[i]&&"object"===typeof n[i]?(t[i]=dc(n[i])?[]:{},e(t[i],n[i])):t[i]=n[i])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;0==e.charCodeAt(e.length-1);)e=e.substring(0,e.length-1);try{var t=window.JSON.parse(e)}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ("+e+"\n)")()}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ({"+e+"\n})")()}catch(n){}return"object"===typeof t?t:{}}},fc=function(e,t){var n={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&"undefined"===typeof e[e.length-1].___goc&&(n=e.pop()),P(n,t),e.push(n)},gc=function(e){cc(!0);var t=window.___gcfg,n=bc("cu"),r=window.___gu;t&&t!==r&&(fc(n,t),window.___gu=t),t=bc("cu");var i=document.scripts||document.getElementsByTagName("script")||[];r=[];var a=[];a.push.apply(a,bc("us"));for(var o=0;o<i.length;++o)for(var s=i[o],u=0;u<a.length;++u)s.src&&0==s.src.indexOf(a[u])&&r.push(s);for(0==r.length&&0<i.length&&i[i.length-1].src&&r.push(i[i.length-1]),i=0;i<r.length;++i)r[i].getAttribute("gapi_processed")||(r[i].setAttribute("gapi_processed",!0),(a=r[i])?a=3==(o=a.nodeType)||4==o?a.nodeValue:a.textContent||a.innerText||a.innerHTML||"":a=void 0,(a=ec(a))&&t.push(a));for(e&&fc(n,e),e=0,t=(r=bc("cd")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=(r=bc("ci")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=n.length;e<t;++e)P(cc(),n[e],!0)},Q=function(e){var t=cc();if(!e)return t;for(var n=0,r=(e=e.split("/")).length;t&&"object"===typeof t&&n<r;++n)t=t[e[n]];return n===e.length&&void 0!==t?t:void 0},hc=function(e,t){var n;if("string"===typeof e){for(var r=n={},i=0,a=(e=e.split("/")).length;i<a-1;++i){r=r[e[i]]={}}r[e[i]]=t}else n=e;gc(n)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;++t){var n=e[t].name.toLowerCase();if(0==n.lastIndexOf("google-signin-",0)){n=n.substring(14);var r=e[t].content;jc[n]&&r&&(lc[n]=r)}}if(window.self!==window.top)for(var i in e=document.location.toString(),jc)0<jc[i]&&(t=H(e,i,""))&&(lc[i]=t);kc=!0}return i=B(),D(lc,i),i},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var t in R)e(R[t])},tc=function(e,t){(e=R[e])&&e.state<t&&(e.state=t)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var t=Q("googleapis.config/sessionIndex");if("string"===typeof t&&254<t.length&&(t=null),null==t&&(t=window.__X_GOOG_AUTHUSER),"string"===typeof t&&254<t.length&&(t=null),null==t){var n=window.google;n&&(t=n.authuser)}return"string"===typeof t&&254<t.length&&(t=null),null==t&&(e=e||window.location.href,null==(t=H(e,"authuser")||null)&&(t=(t=e.match(vc))?t[1]:null)),null==t?null:(254<(t=String(t)).length&&(t=null),t)},yc=function(e){var t=Q("googleapis.config/sessionDelegate");return"string"===typeof t&&21<t.length&&(t=null),null==t&&(t=(e=(e||window.location.href).match(wc))?e[1]:null),null==t?null:(21<(t=String(t)).length&&(t=null),t)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch(t){return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function e(t,n){if(n)for(var r=0,i=n.length;r<i;++r)if(t===n[r])throw new TypeError("Converting circular structure to JSON");if("undefined"!==(i=typeof t)){(r=Array.prototype.slice.call(n||[],0))[r.length]=t,n=[];var a=V(t);if(null!=t&&"function"===typeof t.toJSON&&(Object.prototype.hasOwnProperty.call(t,"toJSON")||(a!==Fc||t.constructor!==Array&&t.constructor!==Object)&&(a!==Ec||t.constructor!==Array&&t.constructor!==Object)&&a!==Dc&&a!==Ac&&a!==Cc&&a!==Bc))return e(t.toJSON.call(t),r);if(null==t)n[n.length]="null";else if(a===Ac)t=Number(t),isNaN(t)||isNaN(t-t)?t="null":-0===t&&0>1/t&&(t="-0"),n[n.length]=String(t);else if(a===Cc)n[n.length]=String(!!Number(t));else{if(a===Bc)return e(t.toISOString.call(t),r);if(a===Fc&&V(t.length)===Ac){n[n.length]="[";var o=0;for(i=Number(t.length)>>0;o<i;++o)o&&(n[n.length]=","),n[n.length]=e(t[o],r)||"null";n[n.length]="]"}else if(a==Dc&&V(t.length)===Ac){for(n[n.length]='"',o=0,r=Number(t.length)>>0;o<r;++o)i=String.prototype.charAt.call(t,o),a=String.prototype.charCodeAt.call(t,o),n[n.length]="\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":"\\"===i||'"'===i?"\\"+i:31>=a?"\\u"+(a+65536).toString(16).substr(1):32<=a&&65535>=a?i:"\ufffd";n[n.length]='"'}else{if("object"!==i)return;for(o in n[n.length]="{",i=0,t)Object.prototype.hasOwnProperty.call(t,o)&&(void 0!==(a=e(t[o],r))&&(i++&&(n[n.length]=","),n[n.length]=e(o),n[n.length]=":",n[n.length]=a));n[n.length]="}"}}return n.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function Xc(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b))return!1;if(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,"")))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+a+"\n)")}catch(c){return!1}return!(!b||1!==b.length)&&b[0]},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((void 0===zc||void 0===T||S!==e)&&-1!==S){zc=T=!1,S=-1;try{try{T=!!m.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===U("true")&&3===U('[{"a":3}]')[0].a}catch(t){}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return-1!==S&&(Yc(),(zc?U:Xc)(e))},$c=function(e){if(-1!==S)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==new Date(0).toISOString(),bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,t,n){n||(n=0);var r=e.da;if("string"===typeof t)for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var a=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(a<<1|a>>>31)}t=e.b[0],n=e.b[1];var o=e.b[2],s=e.b[3],u=e.b[4];for(i=0;80>i;i++){if(40>i)if(20>i){a=s^n&(o^s);var c=1518500249}else a=n^o^s,c=1859775393;else 60>i?(a=n&o|s&(n|o),c=2400959708):(a=n^o^s,c=3395469782);a=(t<<5|t>>>27)+a+u+c+r[i]&4294967295,u=s,s=o,o=4294967295&(n<<30|n>>>2),n=t,t=a}e.b[0]=e.b[0]+t&4294967295,e.b[1]=e.b[1]+n&4294967295,e.b[2]=e.b[2]+o&4294967295,e.b[3]=e.b[3]+s&4294967295,e.b[4]=e.b[4]+u&4294967295};dd.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.j,r=0,i=this.G,a=this.o;r<t;){if(0==a)for(;r<=n;)ed(this,e,r),r+=this.j;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a==this.j){ed(this,i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a==this.j){ed(this,i),a=0;break}}this.o=a,this.D+=t}},dd.prototype.digest=function(){var e=[],t=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var n=this.j-1;56<=n;n--)this.G[n]=255&t,t/=256;for(ed(this,this.G),n=t=0;5>n;n++)for(var r=24;0<=r;r-=8)e[t]=this.b[n]>>r&255,++t;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function e(t){var n=(t=t||x.event).screenX+t.clientX<<16;n+=t.screenY+t.clientY,n*=(new Date).getTime()%1e6,kd=kd*n%ld,0<id&&++jd==id&&jb("mousemove",e,"remove","de")},od=function(e){for(var t=new fd,n=[],r=0,i=(e=unescape(encodeURIComponent(e))).length;r<i;++r)n.push(e.charCodeAt(r));for(t.O.update(n),t=t.O.digest(),e="",n=0;n<t.length;n++)e+="0123456789ABCDEF".charAt(Math.floor(t[n]/16))+"0123456789ABCDEF".charAt(t[n]%16);return e};hd=!!gd&&"function"==typeof gd.getRandomValues,hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+(new Date).getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,0!=id&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),Number("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var t=B();e.e=function(e){var n=t[e];n&&(delete t[e],n())},e.a=function(e,n){t[e]=n},e.r=function(e){delete t[e]}}return e},sd=function(e,t){return"function"===typeof(t=t.onload)?(rd().a(e,t),t):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,t,n,r,i){yd(n.src);var a,o=sd(r,n),s=o?td(r):"";try{document.all&&(a=e.createElement('<iframe frameborder="'+Wa(String(n.frameborder))+'" scrolling="'+Wa(String(n.scrolling))+'" '+s+' name="'+Wa(String(n.name))+'"/>'))}catch(c){}finally{a||(a=e.createElement("iframe"),o&&(a.onload=function(){a.onload=null,o.call(this)},ud(r)))}for(var u in a.setAttribute("ng-non-bindable",""),n)e=n[u],"style"===u&&"object"===typeof e?D(e,a.style):wd[u]||a.setAttribute(u,String(e));return(u=i&&i.beforeNode||null)||i&&i.dontclear||ob(t),t.insertBefore(a,u),a=u?u.previousSibling:t.lastChild,n.allowtransparency&&(a.allowTransparency=!0),a},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",t=yc(),n=xc(void 0)||e,r=yc(void 0),i="";n&&(i+="u/"+encodeURIComponent(String(n))+"/"),r&&(i+="b/"+encodeURIComponent(String(r))+"/"),n=i||null,(i=(r=!1===Q("isLoggedIn"))?"_/im/":"")&&(n="");var a=Q("iframes/:socialhost:"),o=Q("iframes/:im_socialhost:");return uc={socialhost:a,ctx_socialhost:r?o:a,session_index:e,session_delegate:t,session_prefix:n,im_prefix:i}},Dd=function(e,t){return Cd()[t]||""},Ed=function(e){return function(t,n){return e?Cd()[n]||e[n]||"":Cd()[n]||""}},Fd=function(e){var t;return e.match(/^https?%3A/i)&&(t=decodeURIComponent(e)),hb(document,t||e)},Gd=function(e){e=e||"canonical";for(var t=document.getElementsByTagName("link"),n=0,r=t.length;n<r;n++){var i=t[n],a=i.getAttribute("rel");if(a&&a.toLowerCase()==e&&(i=i.getAttribute("href"))&&(i=Fd(i))&&null!=i.match(/^https?:\/\/[\w\-_\.]+/i))return i}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,t,n){var r,i={},a=r=e;for(var o in"plus"==e&&t.action&&(r=e+"_"+t.action,a=e+"/"+t.action),(r=Q("iframes/"+r+"/url"))||(r=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+a+"?usegapi=1"),Hd)i[o]=o+"/"+(t[o]||Hd[o])+"/";if(i=hb(z,r.replace(Bd,Ed(i))),o="iframes/"+e+"/params/",D(t,a={}),(r=Q("lang")||Q("gwidget/lang"))&&(a.hl=r),Id[e]||(a.origin=window.location.origin||window.location.protocol+"//"+window.location.host),a.exp=Q(o+"exp"),o=Q(o+"location"))for(r=0;r<o.length;r++){var s=o[r];a[s]=x.location[s]}switch(e){case"plus":case"follow":o=a.href,r=t.action?void 0:"publisher",o=(o="string"==typeof o?o:void 0)?Fd(o):Gd(r),a.url=o,delete a.href;break;case"plusone":o=(o=t.href)?Fd(o):Gd(),a.url=o,o=t.db,r=Q(),null==o&&r&&(null==(o=r.db)&&(o=r.gwidget&&r.gwidget.db)),a.db=o||void 0,o=t.ecp,r=Q(),null==o&&r&&(null==(o=r.ecp)&&(o=r.gwidget&&r.gwidget.ecp)),a.ecp=o||void 0,delete a.href;break;case"signin":a.url=Gd()}for(var u in K.ILI&&(a.iloader="1"),delete a["data-onload"],delete a.rd,Hd)a[u]&&delete a[u];for(var c in a.gsrc=Q("iframes/:source:"),"undefined"!==typeof(u=Q("inline/css"))&&0<n&&u>=n&&(a.ic="1"),u=/^#|^fr-/,n={},a)C(a,c)&&u.test(c)&&(n[c.replace(u,"")]=a[c],delete a[c]);for(var l in c="q"==Q("iframes/"+e+"/params/si")?a:n,u=mc())!C(u,l)||C(a,l)||C(n,l)||(c[l]=u[l]);for(var f in l=[].concat(Kd),(c=Q("iframes/"+e+"/methods"))&&"object"===typeof c&&Na.test(c.push)&&(l=l.concat(c)),t)C(t,f)&&/^on/.test(f)&&("plus"!=e||"onconnect"!=f)&&(l.push(f),delete a[f]);return delete a.callback,n._methods=l.join(","),fb(i,a,n)},Nd=["style","data-gapiscan"],Pd=function(e){for(var t=B(),n=0!=e.nodeName.toLowerCase().indexOf("g:"),r=0,i=e.attributes.length;r<i;r++){var a=e.attributes[r],o=a.name,s=a.value;0<=Oa.call(Nd,o)||n&&0!=o.indexOf("data-")||"null"===s||"specified"in a&&!a.specified||(n&&(o=o.substr(5)),t[o.toLowerCase()]=s)}return e=e.style,(n=Od(e&&e.height))&&(t.height=String(n)),(e=Od(e&&e.width))&&(t.width=String(e)),t},Od=function(e){var t=void 0;return"number"===typeof e?t=e:"string"===typeof e&&(t=parseInt(e,10)),t},Rd=function(){var e=K.drw;sc((function(t){if(e!==t.id&&4!=t.state&&"share"!=t.type){var n=t.id,r=t.type,i=t.url;t=t.userParams;var a=z.getElementById(n);if(a){var o=Md(r,t,0);o?(a=a.parentNode,i.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==o.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(t.dontclear=!0,t.rd=!0,t.ri=!0,t.type=r,Qd(a,t),(r=R[a.lastChild.id])&&(r.oid=n),tc(n,4))):delete R[n]}else delete R[n]}}))},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,t){Yd(void 0,!1,e,t)},Yd=function(e,t,n,r){L("ps0",!0),n=("string"===typeof n?document.getElementById(n):n)||z;var i=z.documentMode;if(n.querySelectorAll&&(!i||8<i)){i=r?[r]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(".g-"+s,"g\\:"+s)}i=n.querySelectorAll(a.join(","))}else i=n.getElementsByTagName("*");for(n=B(),a=0;a<i.length;a++){var u=o=i[a];s=r;var c=u.nodeName.toLowerCase(),l=void 0;if(u.getAttribute("data-gapiscan"))s=null;else{var f=c.indexOf("g:");0==f?l=c.substr(2):(f=(f=String(u.className||u.getAttribute("class")))&&Wd.exec(f))&&(l=f[1]),s=!l||!(Sd[l]||Td[l]||X[l])||s&&l!==s?null:l}s&&(Xd[s]||0==o.nodeName.toLowerCase().indexOf("g:")||0!=Xa(Pd(o)).length)&&(o.setAttribute("data-gapiscan",!0),A(n,s,[]).push(o))}if(t)for(var h in n)for(t=n[h],r=0;r<t.length;r++)t[r].setAttribute("data-onload",!0);for(var d in n)Ud.push(d);if(L("ps1",!0),(h=Ud.join(":"))||e)try{F.load(h,e)}catch(v){return void pc(v)}if($d(Vd||{}))for(var p in n){for(d=0,t=(e=n[p]).length;d<t;d++)e[d].removeAttribute("data-gapiscan");ae(p)}else{for(p in r=[],n)for(d=0,t=(e=n[p]).length;d<t;d++)i=e[d],be(p,i,Pd(i),r,t);ce(h,r)}},de=function(e){var t=A(F,e,{});t.go||(t.go=function(t){return Zd(t,e)},t.render=function(t,n){return(n=n||{}).type=e,Qd(t,n)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,t){var n=sb(e);t&&n?(n(t),(n=t.iframeNode)&&n.setAttribute("data-gapiattached",!0)):F.load(e,(function(){var n=sb(e),r=t&&t.iframeNode,i=t&&t.userParams;r&&n?(n(t),r.setAttribute("data-gapiattached",!0)):(n=F[e].go)("signin2"==e?r:r&&r.parentNode,i)}))},$d=function(){return!1},ce=function(){},be=function(e,t,n,r,i,a,o){switch(he(t,e,a)){case 0:e=X[e]?e+"_annotation":e,(r={}).iframeNode=t,r.userParams=n,ae(e,r);break;case 1:if(t.parentNode){for(var s in n)if((a=C(n,s))&&(a=!!(a=n[s])&&"object"===typeof a&&(!a.toString||a.toString===Object.prototype.toString||a.toString===Array.prototype.toString)),a)try{n[s]=$c(n[s])}catch(p){delete n[s]}if(a=!0,n.dontclear&&(a=!1),delete n.dontclear,rc(),s=Md(e,n,i),(i=o||{}).allowPost=1,i.attributes=Jd,i.dontclear=!a,(o={}).userParams=n,o.url=s,o.type=e,n.rd)var u=t;else u=document.createElement("div"),t.setAttribute("data-gapistub",!0),u.style.cssText="position:absolute;width:450px;left:-10000px;",t.parentNode.insertBefore(u,t);o.siteElement=u,u.id||(t=u,A(Ld,e,0),a="___"+e+"_"+Ld[e]++,t.id=a),(t=B())[">type"]=e,D(n,t),a=s,n=u,t=(s=i||{}).attributes||{},E(!(s.allowPost||s.forcePost)||!t.onload,"onload is not supported by post iframe (allowPost or forcePost)"),i=t=a,Ad.test(t)&&(i=Q("iframes/"+i.substring(1)+"/url"),E(!!i,"Unknown iframe url config for - "+t)),a=hb(z,i.replace(Bd,Dd)),t=n.ownerDocument||z,u=0;do{i=s.id||["I",xd++,"_",(new Date).getTime()].join("")}while(t.getElementById(i)&&5>++u);E(5>u,"Error creating iframe id"),u={};var c={};t.documentMode&&9>t.documentMode&&(u.hostiemode=t.documentMode),D(s.queryParams||{},u),D(s.fragmentParams||{},c);var l=s.pfname,f=B();Q("iframes/dropLegacyIdParam")||(f.id=i),f._gfid=i,f.parent=t.location.protocol+"//"+t.location.host;var h=H(t.location.href,"parent");if(!(l=l||"")&&h&&(h=H(t.location.href,"_gfid","")||H(t.location.href,"id",""),l=H(t.location.href,"pfname",""),l=h?l+"/"+h:""),l||(h=Zc(H(t.location.href,"jcp","")))&&"object"==typeof h&&(l=(l=h.id)?h.pfname+"/"+l:""),f.pfname=l,s.connectWithJsonParam&&((h={}).jcp=$c(f),f=h),(h=H(a,"rpctoken")||u.rpctoken||c.rpctoken)||(h=s.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),f.rpctoken=h),s.rpctoken=h,D(f,s.connectWithQueryParams?u:c),h=t.location.href,f=B(),(l=H(h,"_bsh",K.bsh))&&(f._bsh=l),(h=qb(h))&&(f.jsh=h),s.hintInFragment?D(f,c):D(f,u),a=fb(a,u,c,s.paramsSerializer),c=B(),D(vd,c),D(s.attributes,c),c.name=c.id=i,c.src=a,s.eurl=a,f=!!(u=s||{}).allowPost,u.forcePost||f&&2e3<a.length){if(u=I(a),c.src="",s.dropDataPostorigin||(c["data-postorigin"]=a),a=zd(t,n,c,i),-1!=navigator.userAgent.indexOf("WebKit")){var d=a.contentWindow.document;d.open(),c=d.createElement("div"),(f={}).name=h=i+"_inner",f.src="",f.style="display:none",zd(t,c,f,h,s)}for(c=(s=u.query[0])?s.split("&"):[],s=[],f=0;f<c.length;f++)h=c[f].split("=",2),s.push([decodeURIComponent(h[0]),decodeURIComponent(h[1])]);for(u.query=[],c=db(u),E(ib.test(c),"Invalid URL: "+c),(u=t.createElement("form")).method="POST",u.target=i,u.style.display="none",i=c instanceof v?c:Fa(c),xa(u,"HTMLFormElement").action=Da(i),i=0;i<s.length;i++)(c=t.createElement("input")).type="hidden",c.name=s[i][0],c.value=s[i][1],u.appendChild(c);n.appendChild(u),u.submit(),u.parentNode.removeChild(u),d&&d.close(),d=a}else d=zd(t,n,c,i,s);o.iframeNode=d,o.id=d.getAttribute("id"),d=o.id,(n=B()).id=d,n.userParams=o.userParams,n.url=o.url,n.type=o.type,n.state=1,R[d]=n,d=o}else d=null;d&&((o=d.id)&&r.push(o),ae(e,d))}},he=function(e,t,n){if(e&&1===e.nodeType&&t){if(n)return 1;if(X[t]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[t])return 0;if(Sd[t])return 1}}return null},Qd=function(e,t){var n=t.type;delete t.type;var r=("string"===typeof e?document.getElementById(e):e)||void 0;if(r){for(var i in e={},t)C(t,i)&&(e[i.toLowerCase()]=t[i]);e.rd=1,(t=!!e.ri)&&delete e.ri,be(n,r,e,i=[],0,t,void 0),ce(n,i)}else pc("string"==="gapi."+n+".render: missing element "+typeof e?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var t=["_c","jsl","h"],n=0;n<t.length&&e;n++)e=e[t[n]];return t=qb(La.href),!e||0!=e.indexOf("n;")&&0!=t.indexOf("n;")&&e!==t},ce=function(e,t){ie(e,t)};var lb=function(e){Yd(e,!0)},je=function(e,t){t=t||[];for(var n=0;n<t.length;++n)e(t[n]);for(e=0;e<t.length;e++)de(t[e])};N.push(["platform",function(e,t,n){if(Vd=n,t&&Ud.push(t),je(ee,e),je(fe,n._c.annotation),je(ge,n._c.bimodal),ic(),gc(),"explicit"!=Q("parsetags")){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),n&&(e=n.callback)){var r=Ya(e);delete n.callback}nb((function(){lb(r)}))}}]),F._pl=!0;var ke=function e(t){if(t=(t=R[t])?t.oid:void 0){var n=z.getElementById(t);n&&n.parentNode.removeChild(n),delete R[t],e(t)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,t){function n(){jb("message",r,"remove","de")}function r(r){var a=r.data,o=r.origin;if(oe(a,t)){var s=i;i=!1,s&&L("rqe"),pe(e,(function(){s&&L("rqd"),n();for(var e=A(K,"RPMQ",[]),t=0;t<e.length;t++)e[t]({data:a,origin:o})}))}}if(0!==t.length){ne=H(La.href,"pfname","");var i=!0;jb("message",r,"add","at"),ac(e,n)}},oe=function(e,t){if(e=String(e),le.test(e))return!0;var n=!1;if(me.test(e)&&(n=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var r=Zc(e);if(!r)return!1;if(e=r.f,r.s&&e&&-1!=Oa.call(t,e)){if(("_renderstart"===r.s||r.s===ne+"/"+e+"::_renderstart")&&(r=r.a&&r.a[n?0:1],t=z.getElementById(e),tc(e,2),r&&t&&r.width&&r.height)){e:{if(n=t.parentNode,e=r||{},qc()){var i=t.id;if(i){if(1===(r=(r=R[i])?r.state:void 0)||4===r)break e;ke(i)}}(r=n.nextSibling)&&r.getAttribute&&r.getAttribute("data-gapistub")&&(n.parentNode.removeChild(r),n.style.cssText=""),r=e.width;var a=e.height,o=n.style;o.textIndent="0",o.margin="0",o.padding="0",o.background="transparent",o.borderStyle="none",o.cssFloat="none",o.styleFloat="none",o.lineHeight="normal",o.fontSize="1px",o.verticalAlign="baseline",(n=n.style).display="inline-block",(o=t.style).position="static",o.left="0",o.top="0",o.visibility="visible",r&&(n.width=o.width=r+"px"),a&&(n.height=o.height=a+"px"),e.verticalAlign&&(n.verticalAlign=e.verticalAlign),i&&tc(i,3)}t["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},pe=function(e,t){ac(e,t)},qe=function(e,t){this.L=e,e=t||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n];if(0==r.indexOf(e))return r.substr(e.length)}},qe.prototype.write=function(e,t){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),0<=(t="number"===typeof t?t:this.fa)){var n=new Date;n.setSeconds(n.getSeconds()+t),e+=";expires="+n.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n].split("=");e(r.shift(),r.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var t in Y)Y.hasOwnProperty(t)&&e(t,Y[t])};var ue="https:"===window.location.protocol,ve=ue||"http:"===window.location.protocol?qe:te,we=function(e){var t=e.substr(1),n="",r=window.location.hostname;if(""!==t){if(n=parseInt(t,10),isNaN(n))return null;if((t=r.split(".")).length<n-1)return null;t.length==n-1&&(r="."+r)}else r="";return{i:"S"==e.charAt(0),domain:r,l:n}},xe=function(){var e,t=null;return ve.iterate((function(n,r){0===n.indexOf("G_AUTHUSER_")&&(n=we(n.substring(11)),!e||n.i&&!e.i||n.i==e.i&&n.l>e.l)&&(e=n,t=r)})),{ea:e,F:t}},ye=function(e){if(0!==e.indexOf("GCSC"))return null;var t={W:!1};if(!(e=e.substr(4)))return t;var n=e.charAt(0),r=(e=e.substr(1)).lastIndexOf("_");if(-1==r)return t;var i=we(e.substr(r+1));return null==i||"_"!==(e=e.substring(0,r)).charAt(0)||!(r="E"===n&&i.i)&&("U"!==n||i.i)||r&&!ue?t:{W:!0,i:r,ja:e.substr(1),domain:i.domain,l:i.l}},ze=function(e){return e&&(e=e.split("="))[1]?e[1].split("|"):[]},Ae=function(e){return{clientId:(e=e.split(":"))[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e,t=xe(),n=t.ea;if(null!==(t=t.F)&&(ve.iterate((function(t,r){(t=ye(t))&&t.W&&t.i==n.i&&t.l==n.l&&(e=r)})),e)){var r=Ae(e),i=r&&r.ia[Number(t)];if(r=r&&r.clientId,i)return{F:t,ha:i,clientId:r}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(_na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),(e=Ee).$&&e.$()};var Ce=function(){var e=Be(),t=e&&e.ha||null,n=e&&e.clientId;return ac("auth",{callback:function(){var e=x.gapi.auth,r={client_id:n,session_state:t};e.checkSessionState(r,(function(t){var n=r.session_state,i=Q("isLoggedIn");(i=i!=(t=!Q("debug/forceIm")&&(n&&t||!n&&!t)))&&(hc("isLoggedIn",t),rc(),Rd(),t||((t=e.signOut)?t():(t=e.setToken)&&t(null))),t=mc();var a=Q("savedUserState");a=a!=(n=e._guss(t.cookiepolicy))&&"undefined"!=typeof a,hc("savedUserState",n),(i||a)&&nc(t)&&!Q("disableRealtimeCallback")&&e._pimf(t,!0)}))}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}.call(void 0);var gapiComplete=gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}})},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function qe(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,xt,St,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==At&&qt(At,e),null!==Nt&&qt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=_e(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ir:case Tr:case Cr:u=yn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Wn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ii(e,t){xi++,wi[xi]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function qi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){zi[Wi++]=Hi,zi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function wa(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case w:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function qo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return qo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Au.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ou,Ru),Ru|=r;return _s(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Hs(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return wa(t.type._context),Hs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Hs(t),null}else 2*Je()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Xs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Xs=u):wu(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,$s=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):bu(e)}}function bu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Su=Math.ceil,Eu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Cu=0,Au=null,Nu=null,Pu=0,Ru=0,Ou=Si(0),Du=0,Lu=null,Mu=0,Fu=0,ju=0,Uu=null,Vu=null,qu=0,Bu=1/0,zu=null,Wu=!1,Ku=null,Hu=null,Gu=!1,Qu=null,$u=0,Yu=0,Ju=null,Xu=-1,Zu=0;function ec(){return 0!==(6&Cu)?Je():-1!==Xu?Xu:Xu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Au||(e===Au&&(0===(2&Cu)&&(Fu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Bu=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(uc.bind(null,e)):qi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Au===e&&Pu===t||(zu=null,Bu=Je()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}_a(),Eu.current=o,Cu=i,null!==Nu?t=0:(Au=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=qu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vu,zu),t);break}_c(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vu,zu),r);break}_c(e,Vu,zu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vu,zu),rc(e,Je()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Je()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&wc();var t=Cu;Cu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Cu=t))&&Bi()}}function fc(){Ru=Ou.current,Ei(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Au=e,Nu=e=Oc(e.current,null),Pu=Ru=t,Du=0,Lu=null,ju=Fu=Mu=0,Vu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(_a(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Du=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hu||!Hu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Au,Pu)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Au===e&&Pu===t||(zu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(_a(),Cu=n,Eu.current=r,null!==Nu)throw Error(a(261));return Au=null,Pu=0,Du}function yc(){for(;null!==Nu;)kc(Nu)}function gc(){for(;null!==Nu&&!$e();)kc(Nu)}function kc(e){var t=xu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Nu=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Du=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function _c(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Nu=Au=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Ac(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Cu=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,Bi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function wc(){if(null!==Qu){var e=bt($u),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var k=e.current;for(Xs=k;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=k;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(w){Sc(u,u.return,w)}if(u===s){Xs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Xs=_;break e}Xs=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Je()-qu?hc(e,0):ju|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),Ka(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cu)&&(Bu=Je()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,_i,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},929:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return r={},t.m=n=[function(t){t.exports=e},function(e,t,n){e.exports=n(2)()},function(e,t,n){"use strict";function r(){}function i(){}var a=n(3);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,i,a){var o=e.getElementsByTagName(t)[0],s=o,u=o;(u=e.createElement(t)).id=n,u.src=r,s&&s.parentNode?s.parentNode.insertBefore(u,s):e.head.appendChild(u),u.onerror=a,u.onload=i}function h(e,t){var n=e.getElementById(t);n&&n.parentNode.removeChild(n)}function d(e){return y.a.createElement("span",{style:{paddingRight:10,fontWeight:500,paddingLeft:e.icon?0:10,paddingTop:10,paddingBottom:10}},e.children)}function p(e){return y.a.createElement("div",{style:{marginRight:10,background:e.active?"#eee":"#fff",padding:10,borderRadius:2}},y.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"#000",fillRule:"evenodd"},y.a.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),y.a.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),y.a.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),y.a.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),y.a.createElement("path",{fill:"none",d:"M0 0h18v18H0z"}))))}function v(e){var t=a(Object(m.useState)(!1),2),n=t[0],r=t[1],i=a(Object(m.useState)(!1),2),o=i[0],s=i[1],u=e.tag,c=e.type,l=e.className,f=e.disabledStyle,h=e.buttonText,v=e.children,k=e.render,b=e.theme,_=e.icon,w=e.disabled,x=g({onSuccess:e.onSuccess,onAutoLoadFinished:e.onAutoLoadFinished,onRequest:e.onRequest,onFailure:e.onFailure,onScriptLoadFailure:e.onScriptLoadFailure,clientId:e.clientId,cookiePolicy:e.cookiePolicy,loginHint:e.loginHint,hostedDomain:e.hostedDomain,autoLoad:e.autoLoad,isSignedIn:e.isSignedIn,fetchBasicProfile:e.fetchBasicProfile,redirectUri:e.redirectUri,discoveryDocs:e.discoveryDocs,uxMode:e.uxMode,scope:e.scope,accessType:e.accessType,responseType:e.responseType,jsSrc:e.jsSrc,prompt:e.prompt}),S=x.signIn,E=w||!x.loaded;if(k)return k({onClick:S,disabled:E});var I={backgroundColor:"dark"===b?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===b?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},T={cursor:"pointer",backgroundColor:"dark"===b?"#3367D6":"#eee",color:"dark"===b?"#fff":"rgba(0, 0, 0, .54)",opacity:1},C=E?Object.assign({},I,f):o?Object.assign({},I,T):n?Object.assign({},I,{cursor:"pointer",opacity:.9}):I;return y.a.createElement(u,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){r(!1),s(!1)},onMouseDown:function(){return s(!0)},onMouseUp:function(){return s(!1)},onClick:S,style:C,type:c,disabled:E,className:l},[_&&y.a.createElement(p,{key:1,active:o}),y.a.createElement(d,{icon:_,key:2},v||h)])}n.r(t),n.d(t,"default",(function(){return b})),n.d(t,"GoogleLogin",(function(){return b})),n.d(t,"GoogleLogout",(function(){return w})),n.d(t,"useGoogleLogin",(function(){return g})),n.d(t,"useGoogleLogout",(function(){return _}));var m=n(0),y=n.n(m),g=(n(1),function(e){function t(e){var t=e.getBasicProfile(),n=e.getAuthResponse(!0);e.googleId=t.getId(),e.tokenObj=n,e.tokenId=n.id_token,e.accessToken=n.access_token,e.profileObj={googleId:t.getId(),imageUrl:t.getImageUrl(),email:t.getEmail(),name:t.getName(),givenName:t.getGivenName(),familyName:t.getFamilyName()},a(e)}function n(e){if(e&&e.preventDefault(),O){var n=window.gapi.auth2.getAuthInstance(),r={prompt:P};d(),"code"===C?n.grantOfflineAccess(r).then((function(e){return a(e)}),(function(e){return c(e)})):n.signIn(r).then((function(e){return t(e)}),(function(e){return c(e)}))}}var i=e.onSuccess,a=void 0===i?function(){}:i,o=e.onAutoLoadFinished,s=void 0===o?function(){}:o,u=e.onFailure,c=void 0===u?function(){}:u,l=e.onRequest,d=void 0===l?function(){}:l,p=e.onScriptLoadFailure,v=e.clientId,y=e.cookiePolicy,g=e.loginHint,k=e.hostedDomain,b=e.autoLoad,_=e.isSignedIn,w=e.fetchBasicProfile,x=e.redirectUri,S=e.discoveryDocs,E=e.uxMode,I=e.scope,T=e.accessType,C=e.responseType,A=e.jsSrc,N=void 0===A?"https://apis.google.com/js/api.js":A,P=e.prompt,R=r(Object(m.useState)(!1),2),O=R[0],D=R[1];return Object(m.useEffect)((function(){var e=!1,n=p||c;return f(document,"script","google-login",N,(function(){var r={client_id:v,cookie_policy:y,login_hint:g,hosted_domain:k,fetch_basic_profile:w,discoveryDocs:S,ux_mode:E,redirect_uri:x,scope:I,access_type:T};"code"===C&&(r.access_type="offline"),window.gapi.load("auth2",(function(){var i=window.gapi.auth2.getAuthInstance();i?i.then((function(){e||(_&&i.isSignedIn.get()?(D(!0),s(!0),t(i.currentUser.get())):(D(!0),s(!1)))}),(function(e){c(e)})):window.gapi.auth2.init(r).then((function(n){if(!e){D(!0);var r=_&&n.isSignedIn.get();s(r),r&&t(n.currentUser.get())}}),(function(e){D(!0),s(!1),n(e)}))}))}),(function(e){n(e)})),function(){e=!0,h(document,"google-login")}}),[]),Object(m.useEffect)((function(){b&&n()}),[O]),{signIn:n,loaded:O}});function k(e){var t=c(Object(m.useState)(!1),2),n=t[0],r=t[1],i=c(Object(m.useState)(!1),2),a=i[0],o=i[1],s=e.tag,u=e.type,l=e.className,f=e.disabledStyle,h=e.buttonText,v=e.children,g=e.render,k=e.theme,b=e.icon,w=e.disabled,x=_({jsSrc:e.jsSrc,onFailure:e.onFailure,onScriptLoadFailure:e.onScriptLoadFailure,clientId:e.clientId,cookiePolicy:e.cookiePolicy,loginHint:e.loginHint,hostedDomain:e.hostedDomain,fetchBasicProfile:e.fetchBasicProfile,discoveryDocs:e.discoveryDocs,uxMode:e.uxMode,redirectUri:e.redirectUri,scope:e.scope,accessType:e.accessType,onLogoutSuccess:e.onLogoutSuccess}),S=x.signOut,E=w||!x.loaded;if(g)return g({onClick:S,disabled:E});var I={backgroundColor:"dark"===k?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===k?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},T={cursor:"pointer",backgroundColor:"dark"===k?"#3367D6":"#eee",color:"dark"===k?"#fff":"rgba(0, 0, 0, .54)",opacity:1},C=E?Object.assign({},I,f):a?Object.assign({},I,T):n?Object.assign({},I,{cursor:"pointer",opacity:.9}):I;return y.a.createElement(s,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){r(!1),o(!1)},onMouseDown:function(){return o(!0)},onMouseUp:function(){return o(!1)},onClick:S,style:C,type:u,disabled:E,className:l},[b&&y.a.createElement(p,{key:1,active:a}),y.a.createElement(d,{icon:b,key:2},v||h)])}v.defaultProps={type:"button",tag:"button",buttonText:"Sign in with Google",scope:"profile email",accessType:"online",prompt:"",cookiePolicy:"single_host_origin",fetchBasicProfile:!0,isSignedIn:!1,uxMode:"popup",disabledStyle:{opacity:.6},icon:!0,theme:"light",onRequest:function(){}};var b=v,_=function(e){var t=e.jsSrc,n=void 0===t?"https://apis.google.com/js/api.js":t,r=e.onFailure,i=e.onScriptLoadFailure,a=e.clientId,o=e.cookiePolicy,u=e.loginHint,c=e.hostedDomain,l=e.fetchBasicProfile,d=e.discoveryDocs,p=e.uxMode,v=e.redirectUri,y=e.scope,g=e.accessType,k=e.onLogoutSuccess,b=s(Object(m.useState)(!1),2),_=b[0],w=b[1],x=Object(m.useCallback)((function(){if(window.gapi){var e=window.gapi.auth2.getAuthInstance();null!=e&&e.then((function(){e.signOut().then((function(){e.disconnect(),k()}))}),(function(e){return r(e)}))}}),[k]);return Object(m.useEffect)((function(){var e=i||r;return f(document,"script","google-login",n,(function(){var t={client_id:a,cookie_policy:o,login_hint:u,hosted_domain:c,fetch_basic_profile:l,discoveryDocs:d,ux_mode:p,redirect_uri:v,scope:y,access_type:g};window.gapi.load("auth2",(function(){window.gapi.auth2.getAuthInstance()?w(!0):window.gapi.auth2.init(t).then((function(){return w(!0)}),(function(t){return e(t)}))}))}),(function(t){e(t)})),function(){h(document,"google-login")}}),[]),{signOut:x,loaded:_}};k.defaultProps={type:"button",tag:"button",buttonText:"Logout of Google",disabledStyle:{opacity:.6},icon:!0,theme:"light",jsSrc:"https://apis.google.com/js/api.js"};var w=k}],t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4);function t(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n,r}(n(791))},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(w);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(_,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(_,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/vexpenses-contatcs/";var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FirebaseError:function(){return Ti},SDK_VERSION:function(){return Ga},_DEFAULT_ENTRY_NAME:function(){return Da},_addComponent:function(){return ja},_addOrOverwriteComponent:function(){return Ua},_apps:function(){return Ma},_clearComponents:function(){return za},_components:function(){return Fa},_getProvider:function(){return qa},_registerComponent:function(){return Va},_removeServiceInstance:function(){return Ba},deleteApp:function(){return Ja},getApp:function(){return $a},getApps:function(){return Ya},initializeApp:function(){return Qa},onLog:function(){return eo},registerVersion:function(){return Za},setLogLevel:function(){return to}});var t,n=__webpack_require__(791),r=__webpack_require__(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var l=function(e){return e};var f="beforeunload",h="popstate";function d(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=g(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,u=void 0===s?"":s,c=i.state||{};return[c.idx,l({pathname:n,search:o,hash:u,state:c.usr||null,key:c.key||"default"})]}var o=null;function s(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=k-r;s&&(o={action:e,location:i,retry:function(){C(-1*s)}},C(s))}}else T(e)}}r.addEventListener(h,s),r.addEventListener("hashchange",(function(){y(a()[1])!==y(b)&&s()}));var u=t.Pop,d=a(),k=d[0],b=d[1],_=v(),w=v();function x(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:y(e))}function S(e,t){return void 0===t&&(t=null),l(c({pathname:b.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){u=e;var t=a();k=t[0],b=t[1],_.call({action:u,location:b})}function C(e){i.go(e)}null==k&&(k=0,i.replaceState(c({},i.state,{idx:k}),""));var A={get action(){return u},get location(){return b},createHref:x,push:function e(n,a){var o=t.Push,s=S(n,a);if(I(o,s,(function(){e(n,a)}))){var u=E(s,k+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(ip){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(I(a,o,(function(){e(n,r)}))){var s=E(o,k),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return _.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(f,p),function(){t(),w.length||r.removeEventListener(f,p)}}};return A}function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,n.createContext)(null);var b=(0,n.createContext)(null);var _=(0,n.createContext)({outlet:null,matches:[]});function w(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),S(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:s})})),t}var E=/^:\w+$/,I=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!I(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:O(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(ip){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:D(a),hash:L(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},D=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(){return null!=(0,n.useContext)(b)}function F(){return M()||w(!1),(0,n.useContext)(b).location}function j(){M()||w(!1);var e=(0,n.useContext)(k),t=e.basename,r=e.navigator,i=(0,n.useContext)(_).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,n.useRef)(!1);(0,n.useEffect)((function(){s.current=!0}));var u=(0,n.useCallback)((function(e,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(n.replace?r.replace:r.push)(i,n.state)}else r.go(e)}),[t,r,o,a]);return u}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,n.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:t.concat(e.slice(0,a+1))}})}),null)}function V(e){w(!1)}function q(e){var r=e.basename,i=void 0===r?"/":r,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&w(!1);var d=O(i),p=(0,n.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,_=v.search,x=void 0===_?"":_,S=v.hash,E=void 0===S?"":S,I=v.state,T=void 0===I?null:I,C=v.key,A=void 0===C?"default":C,N=(0,n.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:x,hash:E,state:T,key:A}}),[d,y,x,E,T,A]);return null==N?null:(0,n.createElement)(k.Provider,{value:p},(0,n.createElement)(b.Provider,{children:o,value:{location:N,navigationType:c}}))}function B(e){var t=e.children,r=e.location;return function(e,t){M()||w(!1);var r,i=(0,n.useContext)(_).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||w(!1),r=l}else r=u;var f=r.pathname||"/",h=x(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(z(t),r)}function z(e){var t=[];return n.Children.forEach(e,(function(e){if((0,n.isValidElement)(e))if(e.type!==n.Fragment){e.type!==V&&w(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=z(e.props.children)),t.push(r)}else t.push.apply(t,z(e.props.children))})),t}function W(e){var t=e.basename,r=e.children,i=e.window,a=(0,n.useRef)();null==a.current&&(a.current=d({window:i}));var o=a.current,s=u((0,n.useState)({action:o.action,location:o.location}),2),c=s[0],l=s[1];return(0,n.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,n.createElement)(q,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o})}function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function H(){H=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==K(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function G(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ip){return void n(ip)}s.done?t(u):Promise.resolve(u).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){G(a,r,i,o,s,"next",e)}function s(e){G(a,r,i,o,s,"throw",e)}o(void 0)}))}}var $="@vexpenses/user",Y={remove:function(){return localStorage.removeItem($)},set:function(e){return localStorage.setItem($,e)},get:function(){return localStorage.getItem($)}},J=__webpack_require__(184),X=(0,n.createContext)({login:function(){return!1},logout:function(){return!1},user:{},children:"",signedIn:!1}),Z=function(e){var t=e.children,r=u((0,n.useState)({}),2),i=r[0],a=r[1],o=u((0,n.useState)(!1),2),s=o[0],c=o[1];(0,n.useEffect)((function(){if(Y.get()){var e=JSON.parse(Y.get());c(!0),a(e)}}),[]);return(0,J.jsx)(X.Provider,{value:{user:i,login:function(e){try{return a(e),c(!0),Y.set(JSON.stringify(e)),!0}catch(t){return!1}},logout:function(){try{return c(!1),a({}),Y.remove(),!0}catch(e){return!1}},signedIn:s},children:t})},ee=X,te=__webpack_require__(647),ne=__webpack_require__(929),re=__webpack_require__.n(ne);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ue(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ce(e){return function(e){if(Array.isArray(e))return a(e)}(e)||ue(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=le(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var fe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=le(e))&&(r&&(r+=" "),r+=t);return r},he=["theme","type"],de=["delay","staleId"];function pe(e){return"number"===typeof e&&!isNaN(e)}function ve(e){return"boolean"===typeof e}function me(e){return"string"===typeof e}function ye(e){return"function"===typeof e}function ge(e){return me(e)||ye(e)?e:null}function ke(e){return null!=e}function be(e){return(0,n.isValidElement)(e)||me(e)||ye(e)||pe(e)}var _e={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},we={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function xe(e){var t=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?t+"--"+o:t,p=a?r+"--"+o:r,v=(0,n.useRef)(0);return(0,n.useLayoutEffect)((function(){var e=f.current,t=d.split(" "),n=function n(r){var i;r.target===f.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===v.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,ce(t)))};!function(){var r;(r=e.classList).add.apply(r,ce(t)),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}()}),[]),(0,n.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(v.current=1,e.className+=" "+p,e.addEventListener("animationend",t)))}),[h]),n.createElement(n.Fragment,null,i)}}function Se(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var Ee={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,ce([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},Ie=function(e){var t=e.theme,r=e.type,i=se(e,he);return n.createElement("svg",oe({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var Te={info:function(e){return n.createElement(Ie,oe({},e),n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return n.createElement(Ie,oe({},e),n.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return n.createElement(Ie,oe({},e),n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return n.createElement(Ie,oe({},e),n.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return n.createElement("div",{className:"Toastify__spinner"})}};function Ce(e){var t=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:t,type:r};return!1===a||(ye(a)?o=a(s):(0,n.isValidElement)(a)?o=(0,n.cloneElement)(a,s):me(a)||pe(a)?o=a:i?o=Te.spinner():function(e){return e in Te}(r)&&(o=Te[r](s))),o}function Ae(e){var t=(0,n.useReducer)((function(e){return e+1}),0),r=u(t,2)[1],i=u((0,n.useState)([]),2),a=i[0],o=i[1],s=(0,n.useRef)(null),c=(0,n.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},f=(0,n.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return c.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function d(e){o((function(t){return ke(e)?t.filter((function(t){return t!==e})):[]}))}function p(){var e=f.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function v(e,t){var i=t.delay,a=t.staleId,o=se(t,de);if(be(e)&&!function(e){return!s.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||c.has(e.toastId)&&null==e.updateId}(o)){var u=o.toastId,l=o.updateId,h=o.data,v=f.props,y=function(){return d(u)},g=null==l;g&&f.count++;var k,b,_={toastId:u,updateId:l,data:h,containerId:o.containerId,isLoading:o.isLoading,theme:o.theme||v.theme,icon:null!=o.icon?o.icon:v.icon,isIn:!1,key:o.key||f.toastKey++,type:o.type,closeToast:y,closeButton:o.closeButton,rtl:v.rtl,position:o.position||v.position,transition:o.transition||v.transition,className:ge(o.className||v.toastClassName),bodyClassName:ge(o.bodyClassName||v.bodyClassName),style:o.style||v.toastStyle,bodyStyle:o.bodyStyle||v.bodyStyle,onClick:o.onClick||v.onClick,pauseOnHover:ve(o.pauseOnHover)?o.pauseOnHover:v.pauseOnHover,pauseOnFocusLoss:ve(o.pauseOnFocusLoss)?o.pauseOnFocusLoss:v.pauseOnFocusLoss,draggable:ve(o.draggable)?o.draggable:v.draggable,draggablePercent:o.draggablePercent||v.draggablePercent,draggableDirection:o.draggableDirection||v.draggableDirection,closeOnClick:ve(o.closeOnClick)?o.closeOnClick:v.closeOnClick,progressClassName:ge(o.progressClassName||v.progressClassName),progressStyle:o.progressStyle||v.progressStyle,autoClose:!o.isLoading&&(k=o.autoClose,b=v.autoClose,!1===k||pe(k)&&k>0?k:b),hideProgressBar:ve(o.hideProgressBar)?o.hideProgressBar:v.hideProgressBar,progress:o.progress,role:o.role||v.role,deleteToast:function(){var e=Se(c.get(u),"removed");c.delete(u),Ee.emit(4,e);var t=f.queue.length;if(f.count=ke(u)?f.count-1:f.count-f.displayedToast,f.count<0&&(f.count=0),t>0){var n=ke(u)?1:f.props.limit;if(1===t||1===n)f.displayedToast++,p();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)p()}}else r()}};_.iconOut=Ce(_),ye(o.onOpen)&&(_.onOpen=o.onOpen),ye(o.onClose)&&(_.onClose=o.onClose),_.closeButton=v.closeButton,!1===o.closeButton||be(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!be(v.closeButton)||v.closeButton);var w=e;(0,n.isValidElement)(e)&&!me(e.type)?w=(0,n.cloneElement)(e,{closeToast:y,toastProps:_,data:h}):ye(e)&&(w=e({closeToast:y,toastProps:_,data:h})),v.limit&&v.limit>0&&f.count>v.limit&&g?f.queue.push({toastContent:w,toastProps:_,staleId:a}):pe(i)?setTimeout((function(){m(w,_,a)}),i):m(w,_,a)}}function m(e,t,n){var r=t.toastId;n&&c.delete(n);var i={content:e,props:t};c.set(r,i),o((function(e){return[].concat(ce(e),[r]).filter((function(e){return e!==n}))})),Ee.emit(4,Se(i,null==i.props.updateId?"added":"updated"))}return(0,n.useEffect)((function(){return f.containerId=e.containerId,Ee.cancelEmit(3).on(0,v).on(1,(function(e){return s.current&&d(e)})).on(5,h).emit(2,f),function(){c.clear(),Ee.emit(3,f)}}),[]),(0,n.useEffect)((function(){f.props=e,f.isToastActive=l,f.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(c.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function Ne(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Pe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Re(e){var t=u((0,n.useState)(!1),2),r=t[0],i=t[1],a=u((0,n.useState)(!1),2),o=a[0],s=a[1],c=(0,n.useRef)(null),l=(0,n.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,n.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){l.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",w),document.addEventListener("touchmove",_),document.addEventListener("touchend",w);var n=c.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=Ne(t.nativeEvent),l.y=Pe(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&l.x>=i&&l.x<=a&&l.y>=n&&l.y<=r?b():k()}}function k(){i(!0)}function b(){i(!1)}function _(t){var n=c.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=Ne(t),l.y=Pe(t),"x"===e.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function w(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",w);var t=c.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,n.useEffect)((function(){f.current=e})),(0,n.useEffect)((function(){return c.current&&c.current.addEventListener("d",k,{once:!0}),ye(e.onOpen)&&e.onOpen((0,n.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;ye(e.onClose)&&e.onClose((0,n.isValidElement)(e.children)&&e.children.props)}}),[]),(0,n.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",k),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return h&&d&&(x.onMouseEnter=b,x.onMouseLeave=k),m&&(x.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:c,eventHandlers:x}}function Oe(e){var t=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return n.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},n.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function De(e){var t=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=e.hide,s=e.className,u=e.style,c=e.controlledProgress,l=e.progress,f=e.rtl,h=e.isIn,d=e.theme,p=oe(oe({},u),{},{animationDuration:t+"ms",animationPlayState:r?"running":"paused",opacity:o?0:1});c&&(p.transform="scaleX("+l+")");var v=fe("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+d,"Toastify__progress-bar--"+a,ie({},"Toastify__progress-bar--rtl",f)),m=ye(s)?s({rtl:f,type:a,defaultClassName:v}):fe(v,s),y=ie({},c&&l>=1?"onTransitionEnd":"onAnimationEnd",c&&l<1?null:function(){h&&i()});return n.createElement("div",oe({role:"progressbar","aria-hidden":o?"true":"false","aria-label":"notification timer",className:m,style:p},y))}De.defaultProps={type:we.DEFAULT,hide:!1};var Le=function(e){var t=Re(e),r=t.isRunning,i=t.preventExitTransition,a=t.toastRef,o=t.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,f=e.type,h=e.hideProgressBar,d=e.closeToast,p=e.transition,v=e.position,m=e.className,y=e.style,g=e.bodyClassName,k=e.bodyStyle,b=e.progressClassName,_=e.progressStyle,w=e.updateId,x=e.role,S=e.progress,E=e.rtl,I=e.toastId,T=e.deleteToast,C=e.isIn,A=e.isLoading,N=e.iconOut,P=e.theme,R=fe("Toastify__toast","Toastify__toast-theme--"+P,"Toastify__toast--"+f,ie({},"Toastify__toast--rtl",E)),O=ye(m)?m({rtl:E,position:v,type:f,defaultClassName:R}):fe(R,m),D=!!S,L={closeToast:d,type:f,theme:P},M=null;return!1===s||(M=ye(s)?s(L):n.isValidElement(s)?n.cloneElement(s,L):Oe(L)),n.createElement(p,{isIn:C,done:T,position:v,preventExitTransition:i,nodeRef:a},n.createElement("div",oe(oe({id:I,onClick:l,className:O},o),{},{style:y,ref:a}),n.createElement("div",oe(oe({},C&&{role:x}),{},{className:ye(g)?g({type:f}):fe("Toastify__toast-body",g),style:k}),null!=N&&n.createElement("div",{className:fe("Toastify__toast-icon",ie({},"Toastify--animate-icon Toastify__zoom-enter",!A))},N),n.createElement("div",null,u)),M,(c||D)&&n.createElement(De,oe(oe({},w&&!D?{key:"pb-"+w}:{}),{},{rtl:E,theme:P,delay:c,isRunning:r,isIn:C,closeToast:d,hide:h,type:f,style:_,className:b,controlledProgress:D,progress:S}))))},Me=xe({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),Fe=(xe({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),xe({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),xe({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,n.forwardRef)((function(e,t){var r=Ae(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=fe("Toastify__toast-container","Toastify__toast-container--"+e,ie({},"Toastify__toast-container--rtl",c));return ye(s)?s({position:e,rtl:c,defaultClassName:t}):fe(t,ge(s))}return(0,n.useEffect)((function(){t&&(t.current=a.current)}),[]),n.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,t){var r=t.length?oe({},u):oe(oe({},u),{},{pointerEvents:"none"});return n.createElement("div",{className:f(e),style:r,key:"container-"+e},t.map((function(e,r){var i=e.content,a=e.props;return n.createElement(Le,oe(oe({},a),{},{isIn:o(a.toastId),style:oe(oe({},a.style),{},{"--nth":r+1,"--len":t.length}),key:"toast-"+a.key}),i)})))})))})));Fe.displayName="ToastContainer",Fe.defaultProps={position:_e.TOP_RIGHT,transition:Me,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:Oe,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var je,Ue=new Map,Ve=[];function qe(){return Math.random().toString(36).substring(2,9)}function Be(e){return e&&(me(e.toastId)||pe(e.toastId))?e.toastId:qe()}function ze(e,t){return Ue.size>0?Ee.emit(0,e,t):Ve.push({content:e,options:t}),t.toastId}function We(e,t){return oe(oe({},t),{},{type:t&&t.type||e,toastId:Be(t)})}function Ke(e){return function(t,n){return ze(t,We(e,n))}}function He(e,t){return ze(e,We(we.DEFAULT,t))}function Ge(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}He.loading=function(e,t){return ze(e,We(we.DEFAULT,oe({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},He.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=me(i)?He.loading(i,n):He.loading(i.render,oe(oe({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var a=oe(oe(oe({type:e},s),n),{},{data:i}),o=me(t)?{render:t}:t;return r?He.update(r,oe(oe({},a),o)):He(o.render,oe(oe({},a),o)),i}He.dismiss(r)},c=ye(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},He.success=Ke(we.SUCCESS),He.info=Ke(we.INFO),He.error=Ke(we.ERROR),He.warning=Ke(we.WARNING),He.warn=He.warning,He.dark=function(e,t){return ze(e,We(we.DEFAULT,oe({theme:"dark"},t)))},He.dismiss=function(e){Ue.size>0?Ee.emit(1,e):Ve=Ve.filter((function(t){return ke(e)&&t.options.toastId!==e}))},He.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ee.emit(5,e)},He.isActive=function(e){var t=!1;return Ue.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},He.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Ue.get(n||je);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=oe(oe(oe({},r),t),{},{toastId:t.toastId||e,updateId:qe()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,ze(o,a)}}),0)},He.done=function(e){He.update(e,{progress:1})},He.onChange=function(e){return Ee.on(4,e),function(){Ee.off(4,e)}},He.POSITION=_e,He.TYPE=we,Ee.on(2,(function(e){je=e.containerId||e,Ue.set(je,e),Ve.forEach((function(e){Ee.emit(0,e.content,e.options)})),Ve=[]})).on(3,(function(e){Ue.delete(e.containerId||e),0===Ue.size&&Ee.off(0).off(1).off(5)}));var Qe={colors:{gradient:{primary:{from:"#fff",to:"#00000021"},circle:{big:{from:"#E44F26",to:"#FED503"},medium:{from:"#FED503",to:"#FF6584"},small:{from:"#E65724",to:"#FED503"}}},legend:"#00000074",card:"#00000074",icons:"#ffffff",active:"#FED503",footer:"#000000"}},$e=__webpack_require__(441),Ye=__webpack_require__(613),Je=__webpack_require__.n(Ye);var Xe=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,w=0,x=0,S=0,E=0,I=0,R=0,D=v=d=0,M=0,F=0,j=0,U=0,V=u.length,q=V-1,B="",z="",W="",K="";M<V;){if(p=u.charCodeAt(M),M===q&&0!==x+E+S+w&&(0!==x&&(p=47===x?10:47),E=S=w=0,V++,q++),0===x+E+S+w){if(M===q&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<q;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,h+1)).length,0<O&&(b=s(3,v,F=n(P,B,j),r,C,T,U,p,h,c),B=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(_,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<O&&void 0!==(b=s(1,B,r,e,C,T,z.length,c,h,c))&&0===(U=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<O*L&&s(0,B,r,e,C,T,z.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===x+E+S+w){T++;break}default:switch(T++,m=u.charAt(M),p){case 9:case 32:if(0===E+w+x)switch(I){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+x+w&&(F=j=1,m="\f"+m);break;case 108:if(0===E+x+w+A&&0<D)switch(M-D){case 2:112===I&&58===u.charCodeAt(M-3)&&(A=I);case 8:111===R&&(A=R)}break;case 58:0===E+x+w&&(D=M);break;case 44:0===x+S+E+w&&(F=1,m+="\r");break;case 34:case 39:0===x&&(E=E===p?0:0===E?p:E);break;case 91:0===E+x+S&&w++;break;case 93:0===E+x+S&&w--;break;case 41:0===E+x+w&&S--;break;case 40:if(0===E+x+w){if(0===d)if(2*I+3*R===533);else d=1;S++}break;case 64:0===x+S+E+w+D+v&&(v=1);break;case 42:case 47:if(!(0<E+w+S))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===I&&U+2!==M&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,M+1)),m="",x=0)}}0===x&&(B+=m)}R=I,I=p,M++}if(0<(U=z.length)){if(F=r,0<O&&(void 0!==(b=s(2,z,F,e,C,T,U,c,h,c))&&0===(z=b).length))return K+z+W;if(z=F.join(",")+"{"+z+"}",0!==N*A){switch(2!==N||a(z,2)||(A=0),A){case 111:z=z.replace(k,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}A=0}}return K+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<O;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,P=[],R=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"===typeof t)R[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},Ze={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var et=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},tt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nt=et((function(e){return tt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),rt=nt,it=__webpack_require__(110),at=__webpack_require__.n(it);function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var st=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ut=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,$e.typeOf)(e)},ct=Object.freeze([]),lt=Object.freeze({});function ft(e){return"function"==typeof e}function ht(e){return e.displayName||e.name||"Component"}function dt(e){return e&&"string"==typeof e.styledComponentId}var pt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.SC_ATTR)||"data-styled",vt="undefined"!=typeof window&&"HTMLElement"in window,mt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.SC_DISABLE_SPEEDY));function yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var gt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&yt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),kt=new Map,bt=new Map,_t=1,wt=function(e){if(kt.has(e))return kt.get(e);for(;bt.has(_t);)_t++;var t=_t++;return kt.set(e,t),bt.set(t,e),t},xt=function(e){return bt.get(e)},St=function(e,t){t>=_t&&(_t=t+1),kt.set(e,t),bt.set(t,e)},Et="style["+pt+'][data-styled-version="5.3.5"]',It=new RegExp("^"+pt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Tt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ct=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(It);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(St(c,u),Tt(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},At=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Nt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(pt))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(pt,"active"),r.setAttribute("data-styled-version","5.3.5");var o=At();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Pt=function(){function e(e){var t=this.element=Nt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}yt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Rt=function(){function e(e){var t=this.element=Nt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ot=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Dt=vt,Lt={isServer:!vt,useCSSOMInjection:!mt},Mt=function(){function e(e,t,n){void 0===e&&(e=lt),void 0===t&&(t={}),this.options=ot({},Lt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&vt&&Dt&&(Dt=!1,function(e){for(var t=document.querySelectorAll(Et),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(pt)&&(Ct(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return wt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ot({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ot(i):r?new Pt(i):new Rt(i),new gt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(wt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(wt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(wt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=xt(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=pt+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ft=/(a)(d)/gi,jt=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ut(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=jt(t%52)+n;return(jt(t%52)+n).replace(Ft,"$1-$2")}var Vt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},qt=function(e){return Vt(5381,e)};function Bt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ft(n)&&!dt(n))return!1}return!0}var zt=qt("5.3.5"),Wt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Bt(e),this.componentId=t,this.baseHash=Vt(zt,t),this.baseStyle=n,Mt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=cn(this.rules,e,t,n).join(""),o=Ut(Vt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Vt(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=cn(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Vt(c,p+f),l+=p}}if(l){var v=Ut(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Kt=/^\s*\/\/.*$/gm,Ht=[":","[",".","#"];function Gt(e){var t,n,r,i,a=void 0===e?lt:e,o=a.options,s=void 0===o?lt:o,u=a.plugins,c=void 0===u?ct:u,l=new Xe(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Ht.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Kt,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||yt(15),Vt(e,t.name)}),5381).toString():"",p}var Qt=n.createContext(),$t=(Qt.Consumer,n.createContext()),Yt=($t.Consumer,new Mt),Jt=Gt();function Xt(){return(0,n.useContext)(Qt)||Yt}function Zt(){return(0,n.useContext)($t)||Jt}function en(e){var t=(0,n.useState)(e.stylisPlugins),r=t[0],i=t[1],a=Xt(),o=(0,n.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,n.useMemo)((function(){return Gt({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,n.useEffect)((function(){Je()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),n.createElement(Qt.Provider,{value:o},n.createElement($t.Provider,{value:s},e.children))}var tn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Jt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return yt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Jt),this.name+e.hash},e}(),nn=/([A-Z])/,rn=/([A-Z])/g,an=/^ms-/,on=function(e){return"-"+e.toLowerCase()};function sn(e){return nn.test(e)?e.replace(rn,on).replace(an,"-ms-"):e}var un=function(e){return null==e||!1===e||""===e};function cn(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=cn(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return un(e)?"":dt(e)?"."+e.styledComponentId:ft(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:cn(e(t),t,n,r):e instanceof tn?n?(e.inject(n,r),e.getName(r)):e:ut(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!un(t[o])&&(Array.isArray(t[o])&&t[o].isCss||ft(t[o])?a.push(sn(o)+":",t[o],";"):ut(t[o])?a.push.apply(a,e(t[o],o)):a.push(sn(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Ze?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var ln=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ft(e)||ut(e)?ln(cn(st(ct,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ln(cn(st(e,n)))}new Set;var hn=function(e,t,n){return void 0===n&&(n=lt),e.theme!==n.theme&&e.theme||t||n.theme},dn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pn=/(^-|-$)/g;function vn(e){return e.replace(dn,"-").replace(pn,"")}var mn=function(e){return Ut(qt(e)>>>0)};function yn(e){return"string"==typeof e&&!0}var gn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},kn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function bn(e,t,n){var r=e[n];gn(t)&&gn(r)?_n(r,t):e[n]=t}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(gn(o))for(var s in o)kn(s)&&bn(e,o[s],s)}return e}var wn=n.createContext();wn.Consumer;var xn={};function Sn(e,t,r){var i=dt(e),a=!yn(e),o=t.attrs,s=void 0===o?ct:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":vn(e);xn[n]=(xn[n]||0)+1;var r=n+"-"+mn("5.3.5"+n+xn[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return yn(e)?"styled."+e:"Styled("+ht(e)+")"}(e):l,h=t.displayName&&t.componentId?vn(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Wt(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=lt);var r=ot({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in ft(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(hn(t,(0,n.useContext)(wn),s)||lt,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Xt(),a=Zt();return t?e.generateAndInjectStyles(lt,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||t.$as||p.as||t.as||f,g=yn(y),k=p!==t?ot({},t,{},p):t,b={};for(var _ in k)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?b.as=k[_]:(c?c(_,rt,y):!g||rt(_))&&(b[_]=k[_]));return t.style&&p.style!==t.style&&(b.style=ot({},t.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,n.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=n.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ct,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=n&&n+"-"+(yn(e)?e:vn(ht(e)));return Sn(e,ot({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?_n({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&at()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var En=function(e){return function e(t,n,r){if(void 0===r&&(r=lt),!(0,$e.isValidElementType)(n))return yt(1,String(n));var i=function(){return t(n,r,fn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ot({},r,{},i))},i.attrs=function(i){return e(t,n,ot({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Sn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){En[e]=En(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Bt(e),Mt.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(cn(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Mt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function In(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=fn.apply(void 0,[e].concat(n)).join(""),a=mn(i);return new tn(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=At();return"<style "+[n&&'nonce="'+n+'"',pt+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?yt(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return yt(2);var r=((t={})[pt]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=At();return i&&(r.nonce=i),[n.createElement("style",ot({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Mt({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?yt(2):n.createElement(en,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return yt(3)}}();var Tn,Cn,An,Nn,Pn,Rn,On,Dn,Ln,Mn,Fn,jn,Un,Vn,qn,Bn=En,zn=Bn.div(Tn||(Tn=Ge(["\n\twidth: ","px;\n\theight: ","px;\n\tfilter: blur(0) !important;\n\tborder-radius: 50%;\n\tbackground-image: ",";\n\tposition: absolute;\n\t",";\n\tz-index: -2;\n\t@media screen and (max-width: 1024px) {\n\t\t",";\n\n\t}\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return 1===e.type?"linear-gradient(180deg, ".concat(Qe.colors.gradient.circle.big.from,", ").concat(Qe.colors.gradient.circle.big.to,")"):"linear-gradient(180deg, ".concat(Qe.colors.gradient.circle.medium.from,", ").concat(Qe.colors.gradient.circle.medium.to,")")}),(function(e){return e.position}),(function(e){return 1===e.type?"width : ".concat(e.size/1.7,"px;\n\t\t\theight: ").concat(e.size/1.7,"px;"):"width : ".concat(e.size,"px;\n\t\t\theight: ").concat(e.size,"px;")})),Wn=function(e){var t=e.size,n=e.position,r=e.type;return(0,J.jsx)(zn,{type:r,size:t,position:n})},Kn=Bn.footer(Cn||(Cn=Ge(["\n\theight: 5em;\n\tbackground-color: ",";\n\twidth: 100%;\n\tmargin-top: auto;\n\tfont-size: 12px;\n\tfont-weight: bolder;\n\tcolor:  ",";\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\tjustify-content: center;\n\talign-items: center;\n"])),Qe.colors.footer,Qe.colors.icons),Hn=function(){return(0,J.jsx)(Kn,{children:"\xa9 2022 Samuel Vasconcelos"})},Gn=Bn.nav(An||(An=Ge(["\n\theight: 5em;\n\twidth: 100%;\n\tpadding-right: 2em;\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\tjustify-content: end;\n\talign-items: center;\n"]))),Qn=Bn.a(Nn||(Nn=Ge(["\n\ttext-decoration: none;\n\ttext-transform: uppercase;\n\tcolor: ",";\n\tfont-size: 1.1em;\n\tfont-weight: bolder;\n\tmargin-right: 1em;\n\ttransition: all .2s ease-in-out;\n\tcursor: pointer;\n\t&:hover{\n\t\tcolor: ",";\n\t}\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .9em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .7em;\n\t}\n"])),Qe.colors.icons,Qe.colors.active),$n=function(e){e.user;var t=j();return(0,J.jsxs)(Gn,{children:[(0,J.jsx)(Qn,{onClick:function(){return t("/")},children:"Home"}),(0,J.jsx)(Qn,{onClick:function(){return t("/\t")},children:"About"})]})},Yn=Bn.div(Pn||(Pn=Ge(["\n\theight: 100%;\n\twidth: 100%;\n\t/* background-image: linear-gradient(90deg, ",", ","); */\n\t/* opacity: .1; */\n\tfilter: blur(6px);\n\tposition: absolute;\n\tz-index: -1;\n"])),Qe.colors.gradient.primary.from,Qe.colors.gradient.primary.to),Jn=Bn.div(Rn||(Rn=Ge(["\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\tjustify-content: space-around;\n\talign-items: center;\n\tpadding: 0;\n\tmargin: 0;\n"]))),Xn=function(e){var t=e.children;return(0,J.jsxs)(Jn,{children:[(0,J.jsx)($n,{}),(0,J.jsxs)(Yn,{children:[(0,J.jsx)(Wn,{size:200,position:"top: 45vh; left: 15vw; opacity: .3",type:1}),(0,J.jsx)(Wn,{size:400,position:"top: -25vh; left: 35vw; opacity: .9;",type:1}),(0,J.jsx)(Wn,{size:300,position:"top: 45vh; right: 10%; opacity: .5;",type:2})]}),t,(0,J.jsx)(Hn,{})]})},Zn=(Bn.p(On||(On=Ge(["\n\tbackground-color:  ",";\n\tfont-family: 'Monsterrat';\n\tfont-size: xx-large;\n\tfont-weight: bolder;\n\tfont-style: italic;\n\tz-index: 1;\n"])),Qe.colors.icons),Bn.h1(Dn||(Dn=Ge(["\n\tcolor: white;\n\tfont-weight: bolder;\n\ttext-align: center;\n\tfont-size: 4em;\n\ttext-shadow: 2px 1px #ff0000;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: 3em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: 1.5em;\n\t}\n"])))),er=Bn.div(Ln||(Ln=Ge(["\n\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\talign-items: space-around;\n\n"]))),tr=Bn.div(Mn||(Mn=Ge(["\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tjustify-content: center;\n\talign-items: center;\n\toverflow: auto;\n\t@media screen and (max-width: 600px) {\n\t\t/* display: block; */\n\t\tflex-direction: column;\n\t}\n"]))),nr=Bn.div(Fn||(Fn=Ge(["\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 30%;\n\tjustify-content: space-around;\n\talign-items: center;\n\tpadding: 2em;\n\tborder-radius: 5px;\n\tbackground-color: ",";\n\tmargin-right: 1em;\n\t@media screen and (max-width: 1024px) {\n\t\t/* font-size: .8em; */\n\t\tmargin-right: 0;\n\t\tmargin: 0 1em;\n\t\twidth: 45%;\n\t\tpadding: 1.5em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\t/* font-size: .8em; */\n\t\tmargin-right: 0;\n\t\tmargin: 1em 0;\n\t\twidth: 80%;\n\t\tpadding: 1.5em;\n\t}\n"])),Qe.colors.legend),rr=Bn.h4(jn||(jn=Ge(["\n\tcolor: white;\n\tfont-weight: bolder;\n\tpadding-right: 1em;\n\twidth: 30%;\n\tmargin-right: 1.2em;\n\tborder-right: 2px solid white;\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .6em;\n\t}\n"]))),ir=Bn.span(Un||(Un=Ge(["\n\tcolor: white;\n\tfont-size: small;\n\tfont-weight: lighter;\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .45em;\n\t}\n"]))),ar=Bn.div(Vn||(Vn=Ge(["\n\tmargin: 0 auto;\n\tpadding: 1em 2em;\n\tbackground-color: rgba(0,0,0,.2);\n\tbox-shadow: 3px 3px 3px black;\n\tcolor: white;\n\tfont-weight: bolder;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tfont-size: small;\n\tborder-radius: 5px;\n\tcursor: pointer;\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: x-small;\n\t\tfont-weight: normal;\n\t\tpadding: .5em 1em;\n\t}\n"]))),or=Bn.img(qn||(qn=Ge(["\n\twidth: 25px;\n\theight: 25px;\n\tmargin-right: 1em;\n\t@media screen and (max-width: 600px) {\n\t\twidth: 18px;\n\t\theight: 18px;\n\t}\n"])));var sr,ur,cr,lr,fr,hr,dr=__webpack_require__.p+"static/media/google.9cd7467419dd00c2e591e7bcf920f803.svg",pr=function(){var e=(0,n.useContext)(ee),t=(e.user,e.login),r=j(),i=function(){var e=Q(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),t({data:n.profileObj,accessToken:n.accessToken})?r("/search"):He.error("Erro ao realizar login, tente novamente");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){te.M.load("client:auth2",(function(){te.M.client.init({clientId:"".concat("365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com"),scope:"profile email https://www.googleapis.com/auth/contacts.readonly"})}))}),[]),(0,J.jsxs)(er,{children:[(0,J.jsxs)(Zn,{children:["VEXPENSES ",(0,J.jsx)("br",{})," CONTATOS"]}),(0,J.jsx)(re(),{clientId:"".concat("365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com"),buttonText:"Login com google",onSuccess:i,render:function(e){return(0,J.jsxs)(ar,{onClick:e.onClick,children:[(0,J.jsx)(or,{src:dr})," Login com google"]})},onFailure:function(){He.error("Erro ao realizar login, tente novamente.")},cookiePolicy:"single_host_origin",theme:"dark"}),(0,J.jsxs)(tr,{children:[(0,J.jsxs)(nr,{children:[(0,J.jsx)(rr,{children:"GERENCIE SEUS CONTATOS"}),(0,J.jsx)(ir,{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Et officiis adipisci sit id."})]}),(0,J.jsxs)(nr,{children:[(0,J.jsx)(rr,{children:"GERENCIE SEUS CONTATOS"}),(0,J.jsx)(ir,{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Et officiis adipisci sit id."})]})]})]})},vr=function(){return(0,J.jsx)(Xn,{children:(0,J.jsx)(pr,{})})},mr=Bn.input(sr||(sr=Ge(["\n\tall: unset;\n\tborder-bottom: 1px solid rgba(255,255,255,.2);\n\t/* background-color: #cccccc10; */\n\t/* padding: 1em; */\n\t/* border-radius: 5px; */\n\twidth: 100%;\n\tcolor: black;\n\tfont-weight: 400;\n\tpadding-bottom: .2em;\n\tcolor: rgba(255,255,255,.7);\n\tfont-size: .8em;\n\ttransition: border  .5s ease-in-out;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .6em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .4em;\n\t}\n\t&:focus {\n\t\tborder-bottom: 1px solid rgba(255,255,255,1);\n\t}\n"]))),yr=Bn.h4(ur||(ur=Ge(["\n\tcolor: white;\n\tmargin-right: .5em;\n\ttext-transform: uppercase;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .8em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .5em;\n\t}\n"]))),gr=Bn.div(cr||(cr=Ge(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: end;\n\talign-items: end;\n\twidth: 100%;\n\tmargin-top: .2em;\n\n"]))),kr=Bn.div(lr||(lr=Ge(["\n\tmargin-top: .5em;\n\tbackground-color: rgba(0,0,0,0.9);\n\tpadding: 1em;\n\tmax-height: 150px;\n\tmin-height: 150px;\n\tmin-width: 100%;\n\toverflow: auto;\n\tborder-radius: 5px;\n\tposition: absolute;\n\tbottom: -28vh;\n\tz-index: 99;\n"]))),br=Bn.p(fr||(fr=Ge(["\n\tcolor: ","66;\n\tfont-weight: bolder;\n\tfont-style: italic;\n\ttext-align: start;\n\tcursor: pointer;\n\tfont-size: .6em;\n\ttransition: all .2s ease-in-out;\n\tmargin: .5em 0;\n\t&:hover{\n\t\tcolor: ",";\n\t}\n"])),Qe.colors.icons,Qe.colors.icons),_r=Bn.div(hr||(hr=Ge(["\n\tdisplay: block;\n\tposition: relative;\n"])));function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){return t&&xr(e.prototype,t),n&&xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Er=function(){function e(){wr(this,e)}return Sr(e,null,[{key:"getDescendantProperty",value:function(t,n){var r,i,a,o,s,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n){if(-1===(a=n.indexOf("."))?r=n:(r=n.slice(0,a),i=n.slice(a+1)),null!==(o=t[r])&&"undefined"!==typeof o)if(i||"string"!==typeof o&&"number"!==typeof o)if("[object Array]"===Object.prototype.toString.call(o))for(s=0,u=o.length;s<u;s++)e.getDescendantProperty(o[s],i,c);else i&&e.getDescendantProperty(o,i,c);else c.push(o)}else c.push(t);return c}}]),e}(),Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wr(this,e),Array.isArray(n)||(r=n,n=[]),this.haystack=t,this.keys=n,this.options=Object.assign({caseSensitive:!1,sort:!1},r)}return Sr(e,[{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t)return this.haystack;for(var n=[],r=0;r<this.haystack.length;r++){var i=this.haystack[r];if(0===this.keys.length){var a=e.isMatch(i,t,this.options.caseSensitive);a&&n.push({item:i,score:a})}else for(var o=0;o<this.keys.length;o++){for(var s=Er.getDescendantProperty(i,this.keys[o]),u=!1,c=0;c<s.length;c++){var l=e.isMatch(s[c],t,this.options.caseSensitive);if(l){u=!0,n.push({item:i,score:l});break}}if(u)break}}return this.options.sort&&n.sort((function(e,t){return e.score-t.score})),n.map((function(e){return e.item}))}}],[{key:"isMatch",value:function(t,n,r){t=String(t),n=String(n),r||(t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase());var i=e.nearestIndexesFor(t,n);return!!i&&(t===n?1:i.length>1?i[i.length-1]-i[0]+2:2+i[0])}},{key:"nearestIndexesFor",value:function(t,n){var r=n.split(""),i=[];return e.indexesOfFirstLetter(t,n).forEach((function(e,n){var a=e+1;i[n]=[e];for(var o=1;o<r.length;o++){var s=r[o];if(-1===(a=t.indexOf(s,a))){i[n]=!1;break}i[n].push(a),a++}})),!!(i=i.filter((function(e){return!1!==e}))).length&&i.sort((function(e,t){return 1===e.length?e[0]-t[0]:(e=e[e.length-1]-e[0])-(t=t[t.length-1]-t[0])}))[0]}},{key:"indexesOfFirstLetter",value:function(e,t){var n=t[0];return e.split("").map((function(e,t){return e===n&&t})).filter((function(e){return!1!==e}))}}]),e}();var Tr,Cr,Ar={similarity:function(e,t){var n=e,r=t;e.length<t.length&&(n=t,r=e);var i=n.length;return 0===i?1:(i-function(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=[],r=0;r<=e.length;r++){for(var i=r,a=0;a<=t.length;a++)if(0===r)n[a]=a;else if(a>0){var o=n[a-1];e.charAt(r-1)!=t.charAt(a-1)&&(o=Math.min(Math.min(o,i),n[a])+1),n[a-1]=i,i=o}r>0&&(n[t.length]=i)}return n[t.length]}(n,r))/parseFloat(i.toString())}},Nr=Ar,Pr=function(e){var t=e.label,r=e.onChange,i=e.autoCompleteItems,a=u((0,n.useState)(""),2),o=a[0],s=a[1],c=u((0,n.useState)(!1),2),l=c[0],f=c[1],h=u((0,n.useState)([]),2),d=h[0],p=h[1],v=new Ir(i||[],["name","email","phone","job","address"],{caseSensitive:!1}),m=function(e,t){return Nr.similarity(e.toLowerCase(),t.toLowerCase())>=.28||e.toLowerCase().includes(t.toLowerCase())},y=function(e){var t=[];e.map((function(e){return Object.values(e).map((function(e){"string"===typeof e?m(e,o)&&t.push(e):Array.isArray(e)&&e.map((function(e){"string"===typeof e?m(e,o)&&t.push(e):Object.values(e).map((function(e){m(e,o)&&t.push(e)}))}))}))})),console.log({filteredAutoCompleteItems:d}),p(t)},g=function(e){s(e),f(""!==e),r&&(""===e&&r(""),y(v.search(e)))};return(0,J.jsxs)(_r,{children:[(0,J.jsxs)(gr,{children:[(0,J.jsx)(yr,{children:t}),(0,J.jsx)(mr,{value:o,onChange:function(e){return g(e.target.value)},placeholder:t})]}),l&&0!==d.length&&(0,J.jsx)(kr,{children:d.map((function(e,t){return(0,J.jsx)(br,{onClick:function(){r(e),s(e),f(!1)},children:e},"autocomplete-".concat(t))}))})]})},Rr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Or=242.776657104492,Dr=In(Tr||(Tr=Rr(["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"],["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"])),.14*Or,Or,.11*Or,.35*Or,Or,.35*Or,.01*Or,Or,.99*Or),Lr=(Bn.path(Cr||(Cr=Rr(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"],["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),.01*Or,Or,Dr,1.6),function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof n[e])return n[e];if(e&&e.indexOf(".")>0){for(var r=e.split("."),i=r.length,a=n[r[0]],o=1;null!=a&&o<i;)a=a[r[o]],o+=1;if("undefined"!==typeof a)return a}return t}});var Mr,Fr,jr,Ur=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Vr=In(Mr||(Mr=Ur(["\n to {\n    transform: rotate(360deg);\n  }\n"],["\n to {\n    transform: rotate(360deg);\n  }\n"])));Bn.svg(Fr||(Fr=Ur(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"],["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"])),Vr,Lr("speed","0.75")),Bn.polyline(jr||(jr=Ur(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"],["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(function(e){return e.width}));var qr,Br,zr,Wr=function(){return Wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wr.apply(this,arguments)},Kr=function(e){return{display:e?"flex":"none"}},Hr=function(e){var t=e.height,r=void 0===t?80:t,i=e.width,a=void 0===i?80:i,o=e.radius,s=void 0===o?1:o,u=e.color,c=void 0===u?"#4fa94d":u,l=e.ariaLabel,f=void 0===l?"tail-spin-loading":l,h=e.wrapperStyle,d=e.wrapperClass,p=e.visible,v=void 0===p||p;return n.createElement("div",{style:Wr(Wr({},Kr(v)),h),className:d,"data-testid":"tail-spin-loading"},n.createElement("svg",{width:a,height:r,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg","aria-label":f,"data-testid":"tail-spin-svg"},n.createElement("defs",null,n.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},n.createElement("stop",{stopColor:c,stopOpacity:"0",offset:"0%"}),n.createElement("stop",{stopColor:c,stopOpacity:".631",offset:"63.146%"}),n.createElement("stop",{stopColor:c,offset:"100%"}))),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("g",{transform:"translate(1 1)"},n.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:c,strokeWidth:"2"},n.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),n.createElement("circle",{fill:"#fff",cx:"36",cy:"18",r:s},n.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}))))))},Gr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qr=In(qr||(qr=Gr(["\n to {\n    stroke-dashoffset: 136;\n  }\n"],["\n to {\n    stroke-dashoffset: 136;\n  }\n"]))),$r=(Bn.polygon(Br||(Br=Gr(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"],["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),Qr),Bn.svg(zr||(zr=Gr(["\n  transform-origin: 50% 65%;\n"],["\n  transform-origin: 50% 65%;\n"]))),{apiKey:"AIzaSyDTMfrouYfvF0bNCbuv_wyv0xBey89zHbI",authDomain:"vexpenses-contacts.firebaseapp.com",projectId:"vexpenses-contacts",storageBucket:"vexpenses-contacts.appspot.com",messagingSenderId:"79775020640",appId:"1:79775020640:web:83f5c06a06333f6913b505"});function Yr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e,t){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xr(e,t)}function Zr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}function ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ni(e,t){if(t&&("object"===K(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function ri(e){var t=ti();return function(){var n,r=ei(e);if(t){var i=ei(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni(this,n)}}function ii(e,t,n){return ii=ti()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xr(i,n.prototype),i},ii.apply(null,arguments)}function ai(e){var t="function"===typeof Map?new Map:void 0;return ai=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ii(e,arguments,ei(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xr(n,e)},ai(e)}var oi=!1,si=!1,ui="${JSCORE_VERSION}",ci=function(e,t){if(!e)throw li(t)},li=function(e){return new Error("Firebase Database ("+ui+") INTERNAL ASSERT FAILED: "+e)},fi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},di=function(e){var t=fi(e);return hi.encodeByteArray(t,!0)},pi=function(e){return di(e).replace(/\./g,"")},vi=function(e){try{return hi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mi(e[n],t[n]));return e}var yi=function(){function e(){var t=this;wr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Sr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pi(JSON.stringify({alg:"none",type:"JWT"})),pi(JSON.stringify(a)),""].join(".")}function ki(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function _i(){try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(e){return!1}}function wi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function xi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Si(){var e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ei(){return!0===oi||!0===si}function Ii(){return"object"===typeof indexedDB}var Ti=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Jr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Jr(a),Ci.prototype.create),a}return Sr(n)}(ai(Error)),Ci=function(){function e(t,n,r){wr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Sr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ai(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ti(n,a,t);return o}}]),e}();function Ai(e,t){return e.replace(Ni,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ni=/\{\$([^}]+)}/g;function Pi(e){return JSON.parse(e)}function Ri(e){return JSON.stringify(e)}var Oi=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Pi(vi(a[0])||""),n=Pi(vi(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Di(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Li(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Mi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fi(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ji(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ui(s)&&Ui(u)){if(!ji(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ui(e){return null!==e&&"object"===typeof e}function Vi(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function qi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var zi=function(){function e(){wr(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Sr(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Wi(e,t){var n=new Ki(e,t);return n.subscribe.bind(n)}var Ki=function(){function e(t,n){var r=this;wr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Sr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Yr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Hi),void 0===r.error&&(r.error=Hi),void 0===r.complete&&(r.complete=Hi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Hi(){}var Gi=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Qi(e,t){return"".concat(e," failed: ").concat(t," argument ")}function $i(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Qi(e,t)+"must be a valid function.")}function Yi(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Qi(e,t)+"must be a valid context object.")}var Ji=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Xi(e){return e&&e._delegate?e._delegate:e}var Zi=function(){function e(t,n,r){wr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Sr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ea="[DEFAULT]",ta=function(){function e(t,n){wr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Sr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new yi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch(c){}var t,n=Yr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ce(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ce(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Yr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ea?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.component?this.component.multipleInstances?e:ea:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var na,ra,ia=function(){function e(t){wr(this,e),this.name=t,this.providers=new Map}return Sr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ta(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),aa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ra||(ra={}));var oa={debug:ra.DEBUG,verbose:ra.VERBOSE,info:ra.INFO,warn:ra.WARN,error:ra.ERROR,silent:ra.SILENT},sa=ra.INFO,ua=(ie(na={},ra.DEBUG,"log"),ie(na,ra.VERBOSE,"log"),ie(na,ra.INFO,"info"),ie(na,ra.WARN,"warn"),ie(na,ra.ERROR,"error"),na),ca=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ua[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},la=function(){function e(t){wr(this,e),this.name=t,this._logLevel=sa,this._logHandler=ca,this._userLogHandler=null,aa.push(this)}return Sr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ra))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?oa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ra.DEBUG].concat(t)),this._logHandler.apply(this,[this,ra.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ra.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ra.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ra.INFO].concat(t)),this._logHandler.apply(this,[this,ra.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ra.WARN].concat(t)),this._logHandler.apply(this,[this,ra.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ra.ERROR].concat(t)),this._logHandler.apply(this,[this,ra.ERROR].concat(t))}}]),e}();var fa,ha;var da=new WeakMap,pa=new WeakMap,va=new WeakMap,ma=new WeakMap,ya=new WeakMap;var ga={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||va.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ka(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ha||(ha=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wa(this),n),_a(da.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _a(e.apply(wa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[wa(this),t].concat(r));return va.set(a,t.sort?t.sort():[t]),_a(a)}}function ba(e){return"function"===typeof e?ka(e):(e instanceof IDBTransaction&&function(e){if(!pa.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pa.set(e,t)}}(e),t=e,(fa||(fa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ga):e);var t}function _a(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_a(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&da.set(t,e)})).catch((function(){})),ya.set(t,e),t}(e);if(ma.has(e))return ma.get(e);var t=ba(e);return t!==e&&(ma.set(e,t),ya.set(t,e)),t}var wa=function(e){return ya.get(e)};var xa,Sa,Ea,Ia=["get","getKey","getAll","getAllKeys","count"],Ta=["put","add","delete","clear"],Ca=new Map;function Aa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ca.get(t))return Ca.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ta.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ia.includes(n))){var a=function(){var e=Q(H().mark((function e(t){var a,o,s,u,c,l,f=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ca.set(t,a),a}}}xa=function(e){return oe(oe({},e),{},{get:function(t,n,r){return Aa(t,n)||e.get(t,n,r)},has:function(t,n){return!!Aa(t,n)||e.has(t,n)}})},ga=xa(ga);var Na=function(){function e(t){wr(this,e),this.container=t}return Sr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Pa="@firebase/app",Ra="0.7.30",Oa=new la("@firebase/app"),Da="[DEFAULT]",La=(ie(Sa={},Pa,"fire-core"),ie(Sa,"@firebase/app-compat","fire-core-compat"),ie(Sa,"@firebase/analytics","fire-analytics"),ie(Sa,"@firebase/analytics-compat","fire-analytics-compat"),ie(Sa,"@firebase/app-check","fire-app-check"),ie(Sa,"@firebase/app-check-compat","fire-app-check-compat"),ie(Sa,"@firebase/auth","fire-auth"),ie(Sa,"@firebase/auth-compat","fire-auth-compat"),ie(Sa,"@firebase/database","fire-rtdb"),ie(Sa,"@firebase/database-compat","fire-rtdb-compat"),ie(Sa,"@firebase/functions","fire-fn"),ie(Sa,"@firebase/functions-compat","fire-fn-compat"),ie(Sa,"@firebase/installations","fire-iid"),ie(Sa,"@firebase/installations-compat","fire-iid-compat"),ie(Sa,"@firebase/messaging","fire-fcm"),ie(Sa,"@firebase/messaging-compat","fire-fcm-compat"),ie(Sa,"@firebase/performance","fire-perf"),ie(Sa,"@firebase/performance-compat","fire-perf-compat"),ie(Sa,"@firebase/remote-config","fire-rc"),ie(Sa,"@firebase/remote-config-compat","fire-rc-compat"),ie(Sa,"@firebase/storage","fire-gcs"),ie(Sa,"@firebase/storage-compat","fire-gcs-compat"),ie(Sa,"@firebase/firestore","fire-fst"),ie(Sa,"@firebase/firestore-compat","fire-fst-compat"),ie(Sa,"fire-js","fire-js"),ie(Sa,"firebase","fire-js-all"),Sa),Ma=new Map,Fa=new Map;function ja(e,t){try{e.container.addComponent(t)}catch(n){Oa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ua(e,t){e.container.addOrOverwriteComponent(t)}function Va(e){var t=e.name;if(Fa.has(t))return Oa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fa.set(t,e);var n,r=Yr(Ma.values());try{for(r.s();!(n=r.n()).done;){ja(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ba(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Da;qa(e,t).clearInstance(n)}function za(){Fa.clear()}var Wa=(ie(Ea={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(Ea,"bad-app-name","Illegal App name: '{$appName}"),ie(Ea,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ie(Ea,"app-deleted","Firebase App named '{$appName}' already deleted"),ie(Ea,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ie(Ea,"invalid-log-argument","First argument to `onLog` must be null or a function."),ie(Ea,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ie(Ea,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ie(Ea,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ie(Ea,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ea),Ka=new Ci("app","Firebase",Wa),Ha=function(){function e(t,n,r){var i=this;wr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",(function(){return i}),"PUBLIC"))}return Sr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}]),e}(),Ga="9.9.2";function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Da,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ka.create("bad-app-name",{appName:String(i)});var a=Ma.get(i);if(a){if(ji(e,a.options)&&ji(r,a.config))return a;throw Ka.create("duplicate-app",{appName:i})}var o,s=new ia(i),u=Yr(Fa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ha(e,r,s);return Ma.set(i,l),l}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=Ma.get(e);if(!t)throw Ka.create("no-app",{appName:e});return t}function Ya(){return Array.from(Ma.values())}function Ja(e){return Xa.apply(this,arguments)}function Xa(){return Xa=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ma.has(n)){e.next=6;break}return Ma.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Za(e,t,n){var r,i=null!==(r=La[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Oa.warn(s.join(" "))}Va(new Zi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function eo(e,t){if(null!==e&&"function"!==typeof e)throw Ka.create("invalid-log-argument");!function(e,t){var n,r=Yr(aa);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=oa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ra[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function to(e){var t;t=e,aa.forEach((function(e){e.setLogLevel(t)}))}var no="firebase-heartbeat-store",ro=null;function io(){return ro||(ro=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=_a(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(_a(s.result),e.oldVersion,e.newVersion,_a(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(no)}}).catch((function(e){throw Ka.create("idb-open",{originalErrorMessage:e.message})}))),ro}function ao(e){return oo.apply(this,arguments)}function oo(){return oo=Q(H().mark((function e(t){var n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,io();case 3:return r=e.sent,e.abrupt("return",r.transaction(no).objectStore(no).get(co(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ti?Oa.warn(e.t0.message):(i=Ka.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Oa.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),oo.apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=Q(H().mark((function e(t,n){var r,i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,io();case 3:return i=e.sent,a=i.transaction(no,"readwrite"),o=a.objectStore(no),e.next=8,o.put(n,co(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ti?Oa.warn(e.t0.message):(s=Ka.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Oa.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),uo.apply(this,arguments)}function co(e){return"".concat(e.name,"!").concat(e.options.appId)}var lo=function(){function e(t){var n=this;wr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Sr(e,[{key:"triggerHeartbeat",value:function(){var e=Q(H().mark((function e(){var t,n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Q(H().mark((function e(){var t,n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fo(),n=ho(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=pi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fo(){return(new Date).toISOString().substring(0,10)}function ho(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Yr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),yo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),yo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var po,vo,mo=function(){function e(t){wr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Sr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ii()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ip){t(ip)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ao(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",so(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",so(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ce(r.heartbeats),ce(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yo(e){return pi(JSON.stringify({version:2,heartbeats:e})).length}po="",Va(new Zi("platform-logger",(function(e){return new Na(e)}),"PRIVATE")),Va(new Zi("heartbeat",(function(e){return new lo(e)}),"PRIVATE")),Za(Pa,Ra,po),Za(Pa,Ra,"esm2017"),Za("fire-js","");var go=function(){function e(t,n){var r=this;wr(this,e),this._delegate=t,this.firebase=n,ja(t,new Zi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Sr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ja(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Da;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Da;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ja(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ua(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ko=(ie(vo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(vo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vo),bo=new Ci("app-compat","Firebase",ko);var _o=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Di(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Za,setLogLevel:to,onLog:eo,apps:null,SDK_VERSION:Ga,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Va(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw bo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&mi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Di(n,e=e||Da))throw bo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(go);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){mi(n,e)},createSubscribe:Wi,ErrorFactory:Ci,deepExtend:mi}),n}(),wo=new la("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xo=self.firebase.SDK_VERSION;xo&&xo.indexOf("LITE")>=0&&wo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var So=_o;!function(e){Za("@firebase/app-compat","0.1.31",e)}();function Eo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ei(e)););return e}function Io(){return Io="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Eo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Io.apply(this,arguments)}So.registerVersion("firebase","9.9.2","app-compat");function To(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Co;Object.create;var Ao="facebook.com",No="github.com",Po="google.com",Ro="password",Oo="twitter.com",Do="EMAIL_SIGNIN",Lo="PASSWORD_RESET",Mo="RECOVER_EMAIL",Fo="REVERT_SECOND_FACTOR_ADDITION",jo="VERIFY_AND_CHANGE_EMAIL",Uo="VERIFY_EMAIL";function Vo(){return ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qo=function(){var e;return ie(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ie(e,"argument-error",""),ie(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ie(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ie(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ie(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ie(e,"cordova-not-ready","Cordova framework is not ready."),ie(e,"cors-unsupported","This browser is not supported."),ie(e,"credential-already-in-use","This credential is already associated with a different user account."),ie(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ie(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ie(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ie(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ie(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ie(e,"email-already-in-use","The email address is already in use by another account."),ie(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ie(e,"expired-action-code","The action code has expired."),ie(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ie(e,"internal-error","An internal AuthError has occurred."),ie(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ie(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ie(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ie(e,"invalid-auth-event","An internal AuthError has occurred."),ie(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ie(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ie(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ie(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ie(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ie(e,"invalid-email","The email address is badly formatted."),ie(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ie(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ie(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ie(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ie(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ie(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ie(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ie(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ie(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ie(e,"wrong-password","The password is invalid or the user does not have a password."),ie(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ie(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ie(e,"invalid-provider-id","The specified provider ID is invalid."),ie(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ie(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ie(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ie(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ie(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ie(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ie(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ie(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ie(e,"missing-continue-uri","A continue URL must be provided in the request."),ie(e,"missing-iframe-start","An internal AuthError has occurred."),ie(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ie(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ie(e,"missing-multi-factor-info","No second factor identifier is provided."),ie(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ie(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ie(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ie(e,"app-deleted","This instance of FirebaseApp has been deleted."),ie(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ie(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ie(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ie(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ie(e,"no-auth-event","An internal AuthError has occurred."),ie(e,"no-such-provider","User was not linked to an account with the given provider."),ie(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ie(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ie(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ie(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ie(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ie(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ie(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ie(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ie(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ie(e,"rejected-credential","The request contains malformed or mismatching credentials."),ie(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ie(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ie(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ie(e,"timeout","The operation has timed out."),ie(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ie(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ie(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ie(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ie(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ie(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ie(e,"unverified-email","The operation requires a verified email."),ie(e,"user-cancelled","The user did not grant your application the permissions it requested."),ie(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ie(e,"user-disabled","The user account has been disabled by an administrator."),ie(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ie(e,"user-signed-out",""),ie(e,"weak-password","The password must be 6 characters long or more."),ie(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ie(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Bo=Vo,zo=new Ci("auth","Firebase",Vo()),Wo=new la("@firebase/auth");function Ko(e){if(Wo.logLevel<=ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wo.error.apply(Wo,["Auth (".concat(Ga,"): ").concat(e)].concat(n))}}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yo.apply(void 0,[e].concat(n))}function Go(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yo.apply(void 0,[e].concat(n))}function Qo(e,t,n){var r=Object.assign(Object.assign({},Bo()),ie({},t,n));return new Ci("auth","Firebase",r).create(t,{appName:e.name})}function $o(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ho(e,"argument-error"),Qo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Yo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ce(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ce(o)))}return zo.create.apply(zo,[e].concat(n))}function Jo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yo.apply(void 0,[t].concat(r))}}function Xo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function Zo(e,t){e||Xo(t)}var es=new Map;function ts(e){Zo(e instanceof Function,"Expected a class definition");var t=es.get(e);return t?(Zo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,es.set(e,t),t)}function ns(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rs(){return"http:"===is()||"https:"===is()}function is(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var as=function(){function e(t,n){wr(this,e),this.shortDelay=t,this.longDelay=n,Zo(n>t,"Short delay should be less than long delay!"),this.isMobile=bi()||xi()}return Sr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rs()||wi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function os(e,t){Zo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ss=function(){function e(){wr(this,e)}return Sr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),us=(ie(Co={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ie(Co,"MISSING_CUSTOM_TOKEN","internal-error"),ie(Co,"INVALID_IDENTIFIER","invalid-email"),ie(Co,"MISSING_CONTINUE_URI","internal-error"),ie(Co,"INVALID_PASSWORD","wrong-password"),ie(Co,"MISSING_PASSWORD","internal-error"),ie(Co,"EMAIL_EXISTS","email-already-in-use"),ie(Co,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ie(Co,"INVALID_IDP_RESPONSE","invalid-credential"),ie(Co,"INVALID_PENDING_TOKEN","invalid-credential"),ie(Co,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ie(Co,"MISSING_REQ_TYPE","internal-error"),ie(Co,"EMAIL_NOT_FOUND","user-not-found"),ie(Co,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ie(Co,"EXPIRED_OOB_CODE","expired-action-code"),ie(Co,"INVALID_OOB_CODE","invalid-action-code"),ie(Co,"MISSING_OOB_CODE","internal-error"),ie(Co,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ie(Co,"INVALID_ID_TOKEN","invalid-user-token"),ie(Co,"TOKEN_EXPIRED","user-token-expired"),ie(Co,"USER_NOT_FOUND","user-token-expired"),ie(Co,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ie(Co,"INVALID_CODE","invalid-verification-code"),ie(Co,"INVALID_SESSION_INFO","invalid-verification-id"),ie(Co,"INVALID_TEMPORARY_PROOF","invalid-credential"),ie(Co,"MISSING_SESSION_INFO","missing-verification-id"),ie(Co,"SESSION_EXPIRED","code-expired"),ie(Co,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ie(Co,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ie(Co,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ie(Co,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ie(Co,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ie(Co,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ie(Co,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ie(Co,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ie(Co,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ie(Co,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ie(Co,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Co),cs=new as(3e4,6e4);function ls(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fs(e,t,n,r){return hs.apply(this,arguments)}function hs(){return hs=Q(H().mark((function e(t,n,r,i){var a,o=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ds(t,a,Q(H().mark((function e(){var a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Vi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ss.fetch()(ys(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t,n){return ps.apply(this,arguments)}function ps(){return(ps=Q(H().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},us),n),e.prev=2,a=new gs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ks(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ks(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ks(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ks(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Qo(t,p,d);case 34:Ho(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ti)){e.next=41;break}throw e.t0;case 41:Ho(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function vs(e,t,n,r){return ms.apply(this,arguments)}function ms(){return ms=Q(H().mark((function e(t,n,r,i){var a,o,s=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,fs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ho(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?os(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var gs=function(){function e(t){var n=this;wr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Go(n.auth,"network-request-failed"))}),cs.get())}))}return Sr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ks(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Go(e,t,r);return i.customData._tokenResponse=n,i}function bs(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t){return xs.apply(this,arguments)}function xs(){return(xs=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t){return Es.apply(this,arguments)}function Es(){return(Es=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ts(){return Ts=Q(H().mark((function e(t){var n,r,i,a,o,s,u=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Xi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Jo((a=As(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Is(Cs(a.auth_time)),issuedAtTime:Is(Cs(a.iat)),expirationTime:Is(Cs(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e){return 1e3*Number(e)}function As(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{var o=vi(i);return o?JSON.parse(o):(Ko("Failed to decode base64 JWT payload"),null)}catch(s){return Ko("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Ns(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=Q(H().mark((function e(t,n){var r=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ti&&Rs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ps.apply(this,arguments)}function Rs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Os=function(){function e(t){wr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Sr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ds=function(){function e(t,n){wr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Sr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Is(this.lastLoginAt),this.creationTime=Is(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ls(e){return Ms.apply(this,arguments)}function Ms(){return Ms=Q(H().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ns(t,Ss(r,{idToken:i}));case 6:Jo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Us(o.providerUserInfo):[],u=js(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ds(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Fs(){return Fs=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xi(t),e.next=3,Ls(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function js(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ce(n),ce(t))}function Us(e){return e.map((function(e){var t=e.providerId,n=To(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Vs(e,t){return qs.apply(this,arguments)}function qs(){return(qs=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds(t,{},Q(H().mark((function e(){var r,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ys(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ss.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bs=function(){function e(){wr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Sr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Jo(e.idToken,"internal-error"),Jo("undefined"!==typeof e.idToken,"internal-error"),Jo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=As(e);return Jo(t,"internal-error"),Jo("undefined"!==typeof t.exp,"internal-error"),Jo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Q(H().mark((function e(t){var n,r=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Jo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Jo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Jo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Jo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zs(e,t){Jo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ws=function(){function e(t){wr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=To(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ce(a.providerData):[],this.metadata=new Ds(a.createdAt||void 0,a.lastLoginAt||void 0)}return Sr(e,[{key:"getIdToken",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Jo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ts.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Fs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Jo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Jo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Q(H().mark((function e(t){var n,r,i=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ls(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ns(this,bs(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Jo(k&&x,t,"internal-error");var S=Bs.fromJSON(this.name,x);Jo("string"===typeof k,t,"internal-error"),zs(f,t.name),zs(h,t.name),Jo("boolean"===typeof b,t,"internal-error"),Jo("boolean"===typeof _,t,"internal-error"),zs(d,t.name),zs(p,t.name),zs(v,t.name),zs(m,t.name),zs(y,t.name),zs(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Q(H().mark((function t(n,r){var i,a,o,s=arguments;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Bs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ls(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ks=function(){function e(){wr(this,e),this.type="NONE",this.storage={}}return Sr(e,[{key:"_isAvailable",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ks.type="NONE";var Hs=Ks;function Gs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Qs=function(){function e(t,n,r){wr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Gs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Sr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ws._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Q(H().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ts(Hs),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ts(Hs),s=Gs(i,n.config.apiKey,n.name),u=null,c=Yr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ws._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $s(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ys(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tu(t))return"Blackberry";if(nu(t))return"Webos";if(Js(t))return"Safari";if((t.includes("chrome/")||Xs(t))&&!t.includes("edge/"))return"Chrome";if(eu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/firefox\//i.test(e)}function Js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/crios\//i.test(e)}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iemobile/i.test(e)}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/android/i.test(e)}function tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/blackberry/i.test(e)}function nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/webos/i.test(e)}function ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return ru(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function au(){return Si()&&10===document.documentMode}function ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return ru(e)||eu(e)||nu(e)||tu(e)||/windows phone/i.test(e)||Zs(e)}function su(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$s(ki());break;case"Worker":t="".concat($s(ki()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ga,"/").concat(r)}var uu=function(){function e(t){wr(this,e),this.auth=t,this.queue=[]}return Sr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Q(H().mark((function e(t){var n,r,i,a,o,s,u,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Yr(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Yr(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(ht){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),cu=function(){function e(t,n,r){wr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fu(this),this.idTokenSubscription=new fu(this),this.beforeStateQueue=new uu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Sr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(Q(H().mark((function r(){var i,a;return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Qs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Q(H().mark((function e(t){var n,r,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Jo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ls(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Xi(t):null)&&Jo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Q(H().mark((function e(t){var n,r=this,i=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Jo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Q(H().mark((function n(){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ts(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ci("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Jo(n=t&&ts(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Qs.create(this,[ts(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Q(H().mark((function e(t){var n=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Jo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Jo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=su(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Q(H().mark((function e(){var t,n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lu(e){return Xi(e)}var fu=function(){function e(t){var n=this;wr(this,e),this.auth=t,this.observer=null,this.addObserver=Wi((function(e){return n.observer=e}))}return Sr(e,[{key:"next",get:function(){return Jo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function hu(e,t,n){var r=lu(e);Jo(r._canInitEmulator,r,"emulator-config-failed"),Jo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=du(t),o=function(e){var t=du(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:pu(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:pu(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function du(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var vu=function(){function e(t,n){wr(this,e),this.providerId=t,this.signInMethod=n}return Sr(e,[{key:"toJSON",value:function(){return Xo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xo("not implemented")}}]),e}();function mu(e,t){return yu.apply(this,arguments)}function yu(){return(yu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:resetPassword",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return(ku=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){return _u.apply(this,arguments)}function _u(){return(_u=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:update",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithPassword",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:sendOobCode",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ju=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return wr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Sr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Du(t,{email:this._email,oobCode:this._password}));case 5:Ho(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Mu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ho(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(vu);function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithIdp",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Sr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Uu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Uu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Uu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ho("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=To(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(vu);function Bu(e,t){return zu.apply(this,arguments)}function zu(){return(zu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:sendVerificationCode",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(){return(Wu=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithPhoneNumber",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(){return(Ku=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t,"POST","/v1/accounts:signInWithPhoneNumber",ls(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ks(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=ie({},"USER_NOT_FOUND","user-not-found");function Gu(){return(Gu=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithPhoneNumber",ls(t,r),Hu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qu=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Sr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Wu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ku.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Gu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(vu);var $u=function(){function e(t){var n,r,i,a,o,s;wr(this,e);var u=qi(Bi(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Jo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Sr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=qi(Bi(e)).link,n=t?qi(Bi(t)).deep_link_id:null,r=qi(Bi(e)).deep_link_id;return(r?qi(Bi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Yu=function(){function e(){wr(this,e),this.providerId=e.PROVIDER_ID}return Sr(e,null,[{key:"credential",value:function(e,t){return ju._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=$u.parseLink(t);return Jo(n,"argument-error"),ju._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Yu.PROVIDER_ID="password",Yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ju=function(){function e(t){wr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Sr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Xu=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Sr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ce(this.scopes)}}]),n}(Ju),Zu=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Jo(e.idToken||e.accessToken,"argument-error"),qu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Jo("providerId"in t&&"signInMethod"in t,"argument-error"),qu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Xu),ec=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.call(this,"facebook.com")}return Sr(n,null,[{key:"credential",value:function(e){return qu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xu);ec.FACEBOOK_SIGN_IN_METHOD="facebook.com",ec.PROVIDER_ID="facebook.com";var tc=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Sr(n,null,[{key:"credential",value:function(e,t){return qu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xu);tc.GOOGLE_SIGN_IN_METHOD="google.com",tc.PROVIDER_ID="google.com";var nc=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.call(this,"github.com")}return Sr(n,null,[{key:"credential",value:function(e){return qu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xu);nc.GITHUB_SIGN_IN_METHOD="github.com",nc.PROVIDER_ID="github.com";var rc=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Sr(n,[{key:"_getIdTokenResponse",value:function(e){return Uu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Uu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Uu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vu),ic=function(e){Zr(n,e);var t=ri(n);function n(e){return wr(this,n),Jo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Sr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=rc.fromJSON(e);return Jo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return rc._create(r,n)}catch(i){return null}}}]),n}(Ju),ac=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.call(this,"twitter.com")}return Sr(n,null,[{key:"credential",value:function(e,t){return qu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xu);function oc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signUp",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ac.TWITTER_SIGN_IN_METHOD="twitter.com",ac.PROVIDER_ID="twitter.com";var uc=function(){function e(t){wr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Sr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Q(H().mark((function t(n,r,i){var a,o,s,u,c=arguments;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ws._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=cc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Q(H().mark((function t(n,r,i){var a;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=cc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function cc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function lc(){return lc=Q(H().mark((function e(t){var n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new uc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,oc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,uc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a){var o,s;return wr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Jr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Sr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ti);function hc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw fc._fromErrorAndOperation(e,n,t,r);throw n}))}function dc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,gc(!0,r,n);case 3:return e.t0=ws,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=dc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Q(H().mark((function e(t,n){var r,i,a=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ns,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",uc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t,n){return kc.apply(this,arguments)}function kc(){return kc=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(n);case 2:i=dc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Jo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Q(H().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ns(t,hc(a,o,n,t),r);case 6:return Jo((s=e.sent).idToken,a,"internal-error"),Jo(u=As(s.idToken),a,"internal-error"),c=u.sub,Jo(t.uid===c,a,"user-mismatch"),e.abrupt("return",uc._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Ho(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),_c.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Q(H().mark((function e(t,n){var r,i,a,o,s=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,hc(t,i,n);case 4:return a=e.sent,e.next=7,uc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Sc(e,t){return Ec.apply(this,arguments)}function Ec(){return(Ec=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(lu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,gc(!1,r,n.providerId);case 3:return e.abrupt("return",mc(r,n));case 4:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(Xi(t),n));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:signInWithCustomToken",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(){return(Rc=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,Nc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,uc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oc=function(){function e(t,n){wr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Sr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Dc._fromServerResponse(e,t):Ho(e,"internal-error")}}]),e}(),Dc=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Sr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Oc);function Lc(e,t,n){var r;Jo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Jo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Jo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Jo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Mc(){return(Mc=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),a={requestType:"PASSWORD_RESET",email:n},r&&Lc(i,a,r),e.next=5,Cu(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(){return(Fc=Q(H().mark((function e(t,n,r){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(Xi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(){return(jc=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(Xi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return(Vc=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,mu(r,{oobCode:n});case 3:i=e.sent,Jo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Jo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Jo(i.mfaInfo,r,"internal-error");case 13:Jo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Oc._fromServerResponse(lu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(){return(qc=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(Xi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(e,t,n){return zc.apply(this,arguments)}function zc(){return(zc=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),e.next=3,oc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,uc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(){return(Wc=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),a={requestType:"EMAIL_SIGNIN",email:n},Jo(r.handleCodeInApp,i,"argument-error"),r&&Lc(i,a,r),e.next=6,Nu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(){return(Kc=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),Jo((a=Yu.credentialWithLink(n,r||ns()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Sc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:createAuthUri",ls(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(){return(Qc=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs()?ns():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Hc(Xi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(){return $c=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Lc(r.auth,a,n),e.next=8,Iu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Yc(){return Yc=Q(H().mark((function e(t,n,r){var i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Lc(i.auth,o,r),e.next=8,Ru(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(e,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(){return Zc=Q(H().mark((function e(t,n){var r,i,a,o,s,u,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Xi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ns(a,Jc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(e,t,n){return tl.apply(this,arguments)}function tl(){return tl=Q(H().mark((function e(t,n,r){var i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ns(t,gu(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}var nl=Sr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),rl=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a){var o;return wr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Sr(n)}(nl),il=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"facebook.com",r)}return Sr(n)}(nl),al=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Sr(n)}(rl),ol=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"google.com",r)}return Sr(n)}(nl),sl=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){return wr(this,n),t.call(this,e,"twitter.com",r,i)}return Sr(n)}(rl);function ul(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=As(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new nl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new il(a,i);case"github.com":return new al(a,i);case"google.com":return new ol(a,i);case"twitter.com":return new sl(a,i,e.screenName||null);case"custom":case"anonymous":return new nl(a,null);default:return new nl(a,r,i)}}(n)}var cl=function(){function e(t,n){wr(this,e),this.type=t,this.credential=n}return Sr(e,[{key:"toJSON",value:function(){return{multiFactorSession:ie({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ll=function(){function e(t,n,r){wr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Sr(e,[{key:"resolveSignIn",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=lu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Oc._fromServerResponse(r,e)}));Jo(i.mfaPendingCredential,r,"internal-error");var o=cl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Q(H().mark((function e(t){var a,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,uc._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Jo(n.user,r,"internal-error"),e.abrupt("return",uc._forOperation(n.user,n.operationType,s));case 17:Ho(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function fl(e,t){return fs(e,"POST","/v2/accounts/mfaEnrollment:start",ls(e,t))}var hl=function(){function e(t){var n=this;wr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Oc._fromServerResponse(t.auth,e)})))}))}return Sr(e,[{key:"getSession",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ns(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Q(H().mark((function e(t){var n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ns(this.user,fs(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ls(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dl=new WeakMap;var pl="__sak",vl=function(){function e(t,n){wr(this,e),this.storageRetriever=t,this.type=n}return Sr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ml=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ki();return Js(e)||ru(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ou(),e._shouldAllowMigration=!0,e}return Sr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);au()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Q(H().mark((function e(t,r){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(ei(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(H().mark((function e(t){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(ei(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(ei(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vl);ml.type="LOCAL";var yl=ml,gl=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Sr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vl);gl.type="SESSION";var kl=gl;function bl(e){return Promise.all(e.map(function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var _l=function(){function e(t){wr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Sr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Q(H().mark((function e(t){var n,r,i,a,o,s,u,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bl(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function wl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_l.receivers=[];var xl=function(){function e(t){wr(this,e),this.target=t,this.handlers=new Set}return Sr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Q(H().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=wl("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Sl(){return window}function El(){return"undefined"!==typeof Sl().WorkerGlobalScope&&"function"===typeof Sl().importScripts}function Il(){return Tl.apply(this,arguments)}function Tl(){return(Tl=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Cl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Al="firebaseLocalStorageDb",Nl="firebaseLocalStorage",Pl="fbase_key",Rl=function(){function e(t){wr(this,e),this.request=t}return Sr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ol(e,t){return e.transaction([Nl],t?"readwrite":"readonly").objectStore(Nl)}function Dl(){var e=indexedDB.deleteDatabase(Al);return new Rl(e).toPromise()}function Ll(){var e=indexedDB.open(Al,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Nl,{keyPath:Pl})}catch(r){n(r)}})),e.addEventListener("success",Q(H().mark((function n(){var r;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Nl)){n.next=12;break}return r.close(),n.next=5,Dl();case 5:return n.t0=t,n.next=8,Ll();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ml(e,t,n){return Fl.apply(this,arguments)}function Fl(){return Fl=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ol(t,!0).put((ie(i={},Pl,n),ie(i,"value",r),i)),e.abrupt("return",new Rl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function jl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t,!1).get(n),e.next=3,new Rl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function Vl(e,t){var n=Ol(e,!0).delete(t);return new Rl(n).toPromise()}var ql=function(){function e(){wr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Sr(e,[{key:"_openDb",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ll();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Q(H().mark((function e(){var t=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=_l._getInstance(El()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Q(H().mark((function e(n,r){var i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Q(H().mark((function e(){var t,n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Cl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ll();case 5:return t=e.sent,e.next=8,Ml(t,pl,"1");case 8:return e.next=10,Vl(t,pl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Q(H().mark((function e(t,n){var r=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ml(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return jl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Q(H().mark((function e(t){var n=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Vl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Q(H().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ol(e,!1).getAll();return new Rl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Yr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ql.type="LOCAL";var Bl=ql;function zl(e,t){return fs(e,"POST","/v2/accounts/mfaSignIn:start",ls(e,t))}function Wl(e){return Kl.apply(this,arguments)}function Kl(){return(Kl=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Go("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Gl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ql=1e12,$l=function(){function e(t){wr(this,e),this.auth=t,this.counter=Ql,this._widgets=new Map}return Sr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Yl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ql;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ql;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ql,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Yl=function(){function e(t,n,r){var i=this;wr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Jo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Sr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Jl=Gl("rcb"),Xl=new as(3e4,6e4),Zl="https://www.google.com/recaptcha/api.js?",ef=function(){function e(){var t;wr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Sl().grecaptcha)||void 0===t?void 0:t.render)}return Sr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Jo(tf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Sl().grecaptcha):new Promise((function(r,i){var a=Sl().setTimeout((function(){i(Go(e,"network-request-failed"))}),Xl.get());Sl()[Jl]=function(){Sl().clearTimeout(a),delete Sl()[Jl];var o=Sl().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Go(e,"internal-error"))},Hl("".concat(Zl,"?").concat(Vi({onload:Jl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Go(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Sl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function tf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var nf=function(){function e(){wr(this,e)}return Sr(e,[{key:"load",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),rf="recaptcha",af={theme:"light",type:"image"},of=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},af),r=arguments.length>2?arguments[2]:void 0;wr(this,e),this.parameters=n,this.type=rf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lu(r),this.isInvisible="invisible"===this.parameters.size,Jo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Jo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nf:new ef,this.validateStartingState()}return Sr(e,[{key:"verify",value:function(){var e=Q(H().mark((function e(){var t,n,r,i=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Jo(!this.parameters.sitekey,this.auth,"argument-error"),Jo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Jo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Sl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Jo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Q(H().mark((function e(){var t,n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(rs()&&!El(),this.auth,"internal-error"),e.next=3,sf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Wl(this.auth);case 8:Jo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Jo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function sf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var uf=function(){function e(t,n){wr(this,e),this.verificationId=t,this.onConfirmation=n}return Sr(e,[{key:"confirm",value:function(e){var t=Qu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function cf(){return(cf=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),e.next=3,df(i,n,Xi(r));case 3:return a=e.sent,e.abrupt("return",new uf(a,(function(e){return Sc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return ff=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),e.next=3,gc(!1,i,"phone");case 3:return e.next=5,df(i.auth,n,Xi(r));case 5:return a=e.sent,e.abrupt("return",new uf(a,(function(e){return Ic(i,e)})));case 7:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(){return hf=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),e.next=3,df(i.auth,n,Xi(r));case 3:return a=e.sent,e.abrupt("return",new uf(a,(function(e){return Cc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t,n){return pf.apply(this,arguments)}function pf(){return pf=Q(H().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Jo("string"===typeof a,t,"argument-error"),Jo(r.type===rf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Jo("enroll"===s.type,t,"internal-error"),e.next=13,fl(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Jo("signin"===s.type,t,"internal-error"),Jo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,zl(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Bu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),pf.apply(this,arguments)}function vf(){return vf=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc(Xi(t),n);case 2:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}var mf=function(){function e(t){wr(this,e),this.providerId=e.PROVIDER_ID,this.auth=lu(t)}return Sr(e,[{key:"verifyPhoneNumber",value:function(e,t){return df(this.auth,e,Xi(t))}}],[{key:"credential",value:function(e,t){return Qu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Qu._fromTokenResponse(n,r):null}}]),e}();function yf(e,t){return t?ts(t):(Jo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mf.PROVIDER_ID="phone",mf.PHONE_SIGN_IN_METHOD="phone";var gf=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Sr(n,[{key:"_getIdTokenResponse",value:function(e){return Uu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Uu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Uu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vu);function kf(e){return wc(e.auth,new gf(e),e.bypassAuthState)}function bf(e){var t=e.auth,n=e.user;return Jo(n,t,"internal-error"),bc(n,new gf(e),e.bypassAuthState)}function _f(e){return wf.apply(this,arguments)}function wf(){return wf=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Jo(r=t.user,n,"internal-error"),e.abrupt("return",mc(r,new gf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}var xf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];wr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Sr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Q(H().mark((function t(n,r){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Q(H().mark((function e(t){var n,r,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kf;case"linkViaPopup":case"linkViaRedirect":return _f;case"reauthViaPopup":case"reauthViaRedirect":return bf;default:Ho(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Sf=new as(2e3,1e4);function Ef(e,t,n){return If.apply(this,arguments)}function If(){return(If=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),$o(t,n,Ju),a=yf(i,r),o=new Nf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tf(){return Tf=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=Xi(t)).auth,n,Ju),a=yf(i.auth,r),o=new Nf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Cf(e,t,n){return Af.apply(this,arguments)}function Af(){return Af=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=Xi(t)).auth,n,Ju),a=yf(i.auth,r),o=new Nf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}var Nf=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a,o){var s;return wr(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Jr(s),s}return Sr(n,[{key:"executeNotNull",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Jo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Q(H().mark((function e(){var t,n=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(1===this.filter.length,"Popup operations only handle one event"),t=wl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Go(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Go(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Go(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Sf.get())}()}}]),n}(xf);Nf.currentPopupAction=null;var Pf=new Map,Rf=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return wr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Sr(n,[{key:"execute",value:function(){var e=Q(H().mark((function e(){var t,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Of(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Io(ei(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Q(H().mark((function e(t){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Io(ei(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Io(ei(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(xf);function Of(e,t){return Df.apply(this,arguments)}function Df(){return(Df=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(n),i=jf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return(Mf=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t)._set(Uf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){Pf.set(e._key(),t)}function jf(e){return ts(e._redirectPersistence)}function Uf(e){return Gs("pendingRedirect",e.config.apiKey,e.name)}function Vf(e,t,n){return function(e,t,n){return qf.apply(this,arguments)}(e,t,n)}function qf(){return(qf=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),$o(t,n,Ju),a=yf(i,r),e.next=5,Lf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(e,t,n){return function(e,t,n){return zf.apply(this,arguments)}(e,t,n)}function zf(){return zf=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=Xi(t)).auth,n,Ju),a=yf(i.auth,r),e.next=5,Lf(a,i.auth);case 5:return e.next=7,Yf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Wf(e,t,n){return function(e,t,n){return Kf.apply(this,arguments)}(e,t,n)}function Kf(){return Kf=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=Xi(t)).auth,n,Ju),a=yf(i.auth,r),e.next=5,gc(!1,i,n.providerId);case 5:return e.next=7,Lf(a,i.auth);case 7:return e.next=9,Yf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Hf(e,t){return Gf.apply(this,arguments)}function Gf(){return(Gf=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lu(t)._initializationPromise;case 2:return e.abrupt("return",Qf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t){return $f.apply(this,arguments)}function $f(){return $f=Q(H().mark((function e(t,n){var r,i,a,o,s,u=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=lu(t),a=yf(i,n),o=new Rf(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Yf(e){return Jf.apply(this,arguments)}function Jf(){return Jf=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}var Xf=function(){function e(t){wr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Sr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!eh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Go(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Zf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Zf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function eh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function th(e){return nh.apply(this,arguments)}function nh(){return nh=Q(H().mark((function e(t){var n,r=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}var rh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ih=/^https?/;function ah(){return(ah=Q(H().mark((function e(t){var n,r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,th(t);case 4:n=e.sent,r=n.authorizedDomains,i=Yr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!oh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ho(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function oh(e){var t=ns(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ih.test(r))return!1;if(rh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var sh=new as(3e4,6e4);function uh(){var e=Sl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ce(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ch=null;function lh(e){return ch=ch||function(e){return new Promise((function(t,n){var r,i,a;function o(){uh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){uh(),n(Go(e,"network-request-failed"))},timeout:sh.get()})}if(null===(i=null===(r=Sl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Sl().gapi)||void 0===a?void 0:a.load)){var s=Gl("iframefcb");return Sl()[s]=function(){gapi.load?o():n(Go(e,"network-request-failed"))},Hl("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ch=null,e}))}(e),ch}var fh=new as(5e3,15e3),hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(e){var t=e.config;Jo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?os(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ga},i=dh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Vi(r).slice(1))}function vh(e){return mh.apply(this,arguments)}function mh(){return mh=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lh(t);case 2:return n=e.sent,Jo(r=Sl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ph(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hh,dontclear:!0},(function(e){return new Promise(function(){var n=Q(H().mark((function n(r,i){var a,o,s;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Sl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Go(t,"network-request-failed"),o=Sl().setTimeout((function(){i(a)}),fh.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}var yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gh="_blank",kh="http://localhost",bh=function(){function e(t){wr(this,e),this.window=t,this.associatedEvent=null}return Sr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function _h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},yh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ki().toLowerCase();n&&(s=Xs(l)?gh:n),Ys(l)&&(t=t||kh,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(iu(l)&&"_self"!==s)return wh(t||"",s),new bh(null);var h=window.open(t||"",s,f);Jo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new bh(h)}function wh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xh="__/auth/handler",Sh="emulator/auth/handler";function Eh(e,t,n,r,i,a){Jo(e.config.authDomain,e,"auth-domain-config-required"),Jo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ga,eventId:i};if(t instanceof Ju){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Mi(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Xu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xh);return os(t,Sh)}(e),"?").concat(Vi(p).slice(1))}var Ih="webStorageSupport",Th=function(){function e(){wr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kl,this._completeRedirectFn=Qf,this._overrideRedirectResult=Ff}return Sr(e,[{key:"_openPopup",value:function(){var e=Q(H().mark((function e(t,n,r,i){var a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Eh(t,n,r,ns(),i),e.abrupt("return",_h(t,o,wl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Q(H().mark((function e(t,n,r,i){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Eh(t,n,r,ns(),i),Sl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vh(t);case 2:return n=e.sent,r=new Xf(t),n.register("authEvent",(function(e){return Jo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ih,{type:Ih},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ho(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ah.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ou()||Js()||ru()}}]),e}(),Ch=Th,Ah=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this,"phone")).credential=e,r}return Sr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ls(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fs(e,"POST","/v2/accounts/mfaSignIn:finalize",ls(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){wr(this,e),this.factorId=t}return Sr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xo("unexpected MultiFactorSessionType")}}}]),e}()),Nh=function(){function e(){wr(this,e)}return Sr(e,null,[{key:"assertion",value:function(e){return Ah._fromCredential(e)}}]),e}();Nh.FACTOR_ID="phone";var Ph,Rh="@firebase/auth",Oh="0.20.5",Dh=function(){function e(t){wr(this,e),this.auth=t,this.internalListeners=new Map}return Sr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Jo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Lh(){return window}Ph="Browser",Va(new Zi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Jo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Jo(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Ph,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:su(Ph)},i=new cu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Va(new Zi("auth-internal",(function(e){return function(e){return new Dh(e)}(lu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Za(Rh,Oh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ph)),Za(Rh,Oh,"esm2017");function Mh(e,t,n){return Fh.apply(this,arguments)}function Fh(){return Fh=Q(H().mark((function e(t,n,r){var i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lh(),o=a.BuildInfo,Zo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zh(n.sessionId);case 4:return s=e.sent,u={},ru()?u.ibi=o.packageName:eu()?u.apn=o.packageName:Ho(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Eh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function jh(){return(jh=Q(H().mark((function e(t){var n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lh(),r=n.BuildInfo,i={},ru()?i.iosBundleId=r.packageName:eu()?i.androidPackageName=r.packageName:Ho(t,"operation-not-supported-in-this-environment"),e.next=5,th(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e){var t=Lh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Vh(e,t,n){return qh.apply(this,arguments)}function qh(){return qh=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Go(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),eu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),qh.apply(this,arguments)}function Bh(e){var t,n,r,i,a,o,s,u,c,l,f=Lh();Jo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Jo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Jo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jo("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zh(e){return Wh.apply(this,arguments)}function Wh(){return(Wh=Q(H().mark((function e(t){var n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e){if(Zo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Hh=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Sr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Io(ei(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Xf);function Gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Xh(),postBody:null,tenantId:e.tenantId,error:Go(e,"no-auth-event")}}function Qh(e,t){return Zh()._set(ed(e),t)}function $h(e){return Yh.apply(this,arguments)}function Yh(){return(Yh=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh()._get(ed(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Zh()._remove(ed(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jh(e,t){var n,r,i=function(e){var t=td(e),n=t.link?decodeURIComponent(t.link):void 0,r=td(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return td(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=td(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Go(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Xh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Zh(){return ts(yl)}function ed(e){return Gs("authEvent",e.config.apiKey,e.name)}function td(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||ue(t)||o(t)||s();r[0];return qi(r.slice(1).join("?"))}var nd=function(){function e(){wr(this,e),this._redirectPersistence=kl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qf,this._overrideRedirectResult=Ff}return Sr(e,[{key:"_initialize",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Hh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ho(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Q(H().mark((function e(t,n,r,i){var a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Pf.clear(),e.next=10,this._originValidation(t);case 10:return o=Gh(t,r,i),e.next=13,Qh(t,o);case 13:return e.next=15,Mh(t,o,n);case 15:return s=e.sent,e.next=18,Uh(s);case 18:return u=e.sent,e.abrupt("return",Vh(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Lh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Q(H().mark((function n(){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$h(e);case 2:t.onEvent(id());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Q(H().mark((function n(r){var i,a;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,$h(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Jh(i,r.url)),t.onEvent(a||id());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Lh().handleOpenURL=function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),rd=nd;function id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Go("no-auth-event")}}function ad(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function od(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return!("file:"!==ad()&&"ionic:"!==ad()&&"capacitor:"!==ad()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sd(){return Si()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ud(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/Edge\/\d+/.test(e)}function cd(){try{var e=self.localStorage,t=wl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return sd()||ud(e)}()||Ii()}catch(n){return ld()&&Ii()}return!1}function ld(){return"undefined"!==typeof __webpack_require__.g&&"WorkerGlobalScope"in __webpack_require__.g&&"importScripts"in __webpack_require__.g}function fd(){return("http:"===ad()||"https:"===ad()||wi()||od())&&!(xi()||_i())&&cd()&&!ld()}function hd(){return od()&&"undefined"!==typeof document}function dd(){return pd.apply(this,arguments)}function pd(){return(pd=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vd={LOCAL:"local",NONE:"none",SESSION:"session"},md=Jo,yd="persistence";function gd(e,t){md(Object.values(vd).includes(t),e,"invalid-persistence-type"),xi()?md(t!==vd.SESSION,e,"unsupported-persistence-type"):_i()?md(t===vd.NONE,e,"unsupported-persistence-type"):ld()?md(t===vd.NONE||t===vd.LOCAL&&Ii(),e,"unsupported-persistence-type"):md(t===vd.NONE||cd(),e,"unsupported-persistence-type")}function kd(e){return bd.apply(this,arguments)}function bd(){return(bd=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=_d(),r=Gs(yd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _d(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var wd=Jo,xd=function(){function e(){wr(this,e),this.browserResolver=ts(Ch),this.cordovaResolver=ts(rd),this.underlyingResolver=null,this._redirectPersistence=kl,this._completeRedirectFn=Qf,this._overrideRedirectResult=Ff}return Sr(e,[{key:"_initialize",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Q(H().mark((function e(t,n,r,i){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Q(H().mark((function e(t,n,r,i){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return hd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return wd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sd(e){return e.unwrap()}function Ed(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Nd(e,function(e,t){var n,r=Xi(e),i=t;return Jo(t.customData.operationType,r,"argument-error"),Jo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ll._fromError(r,i)}(e,t));else if(i){var a=Id(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Id(e){var t=(e instanceof Ti?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ti)&&"temporaryProof"in t&&"phoneNumber"in t)return mf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ro)return null;switch(r){case Po:n=tc;break;case Ao:n=ec;break;case No:n=nc;break;case Oo:n=ac;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?rc._create(r,s):qu._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Zu(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ti?n.credentialFromError(e):n.credentialFromResult(e)}function Td(e,t){return t.catch((function(t){throw t instanceof Ti&&Ed(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Id(t)),additionalUserInfo:ul(e),user:Pd.getOrCreate(r)}}))}function Cd(e,t){return Ad.apply(this,arguments)}function Ad(){return(Ad=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Td(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nd=function(){function e(t,n){wr(this,e),this.resolver=n,this.auth=t.wrapped()}return Sr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Td(Sd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Pd=function(){function e(t){wr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Xi(e);return dl.has(t)||dl.set(t,hl._fromUser(t)),dl.get(t)}(t)}return Sr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Td(this.auth,Ic(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cd(this.auth,lf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Td(this.auth,Cf(this._delegate,t,xd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(lu(this.auth));case 2:return e.abrupt("return",Wf(this._delegate,t,xd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Td(this.auth,Cc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Cd(this.auth,function(e,t,n){return hf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Td(this.auth,function(e,t,n){return Tf.apply(this,arguments)}(this._delegate,e,xd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(lu(this.auth));case 2:return e.abrupt("return",Bf(this._delegate,t,xd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return $c.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return el(Xi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return el(Xi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return vf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Zc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Yc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Pd.USER_MAP=new WeakMap;var Rd=Jo,Od=function(){function e(t,n){if(wr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Rd(r,"invalid-api-key",{appName:t.name}),Rd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?xd:void 0;this._delegate=n.initialize({options:{persistence:Ld(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(qo),this.linkUnderlyingAuth()}return Sr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Pd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){hu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return jc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Uc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Fc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Td(this._delegate,Bc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Qc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=$u.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rd(fd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Hf(this._delegate,xd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Td(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){lu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Dd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Dd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gd(this._delegate,t),e.t0=t,e.next=e.t0===vd.SESSION?4:e.t0===vd.LOCAL?6:e.t0===vd.NONE?11:13;break;case 4:return n=kl,e.abrupt("break",14);case 6:return e.next=8,ts(Bl)._isAvailable();case 8:return r=e.sent,n=r?Bl:yl,e.abrupt("break",14);case 11:return n=Hs,e.abrupt("break",14);case 13:return e.abrupt("return",Ho("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Td(this._delegate,function(e){return lc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Td(this._delegate,Sc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Td(this._delegate,function(e,t){return Rc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Td(this._delegate,function(e,t,n){return Sc(Xi(e),Yu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Td(this._delegate,function(e,t,n){return Kc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Cd(this._delegate,function(e,t,n){return cf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rd(fd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Td(this._delegate,Ef(this._delegate,t,xd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rd(fd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kd(this._delegate);case 3:return e.abrupt("return",Vf(this._delegate,t,xd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return qc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Dd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Pd.getOrCreate(e))},error:t,complete:n}}function Ld(e,t){var n=function(e,t){var n=_d();if(!n)return[];var r=Gs(yd,e,t);switch(n.getItem(r)){case vd.NONE:return[Hs];case vd.LOCAL:return[Bl,kl];case vd.SESSION:return[kl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Bl)||n.push(Bl),"undefined"!==typeof window)for(var r=0,i=[yl,kl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Hs)||n.push(Hs),n}Od.Persistence=vd;var Md=function(){function e(){wr(this,e),this.providerId="phone",this._delegate=new mf(Sd(So.auth()))}return Sr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return mf.credential(e,t)}}]),e}();Md.PHONE_SIGN_IN_METHOD=mf.PHONE_SIGN_IN_METHOD,Md.PROVIDER_ID=mf.PROVIDER_ID;var Fd,jd=Jo,Ud=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So.app();wr(this,e),jd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new of(t,n,i.auth()),this.type=this._delegate.type}return Sr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Fd=So).INTERNAL.registerComponent(new Zi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Od(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Do,PASSWORD_RESET:Lo,RECOVER_EMAIL:Mo,REVERT_SECOND_FACTOR_ADDITION:Fo,VERIFY_AND_CHANGE_EMAIL:jo,VERIFY_EMAIL:Uo}},EmailAuthProvider:Yu,FacebookAuthProvider:ec,GithubAuthProvider:nc,GoogleAuthProvider:tc,OAuthProvider:Zu,SAMLAuthProvider:ic,PhoneAuthProvider:Md,PhoneMultiFactorGenerator:Nh,RecaptchaVerifier:Ud,TwitterAuthProvider:ac,Auth:Od,AuthCredential:vu,Error:Ti}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Fd.registerVersion("@firebase/auth-compat","0.2.18");var Vd="@firebase/database",qd="0.13.4",Bd="";function zd(e){Bd=e}var Wd=function(){function e(t){wr(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Sr(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ri(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Pi(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Kd=function(){function e(){wr(this,e),this.cache_={},this.isInMemoryStorage=!0}return Sr(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Di(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Hd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Wd(t)}}catch(n){}return new Kd},Gd=Hd("localStorage"),Qd=Hd("sessionStorage"),$d=new la("@firebase/database"),Yd=function(){var e=1;return function(){return e++}}(),Jd=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ci(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new zi;n.update(t);var r=n.digest();return hi.encodeByteArray(r)},Xd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ri(r):r,t+=" "}return t},Zd=null,ep=!0,tp=function(e,t){ci(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?($d.logLevel=ra.VERBOSE,Zd=$d.log.bind($d),t&&Qd.set("logging_enabled",!0)):"function"===typeof e?Zd=e:(Zd=null,Qd.remove("logging_enabled"))},np=function(){if(!0===ep&&(ep=!1,null===Zd&&!0===Qd.get("logging_enabled")&&tp(!0)),Zd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Xd.apply(null,t);Zd(r)}},rp=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];np.apply(void 0,[e].concat(n))}},ip=function(){var e="FIREBASE INTERNAL ERROR: "+Xd.apply(void 0,arguments);$d.error(e)},ap=function(){var e="FIREBASE FATAL ERROR: ".concat(Xd.apply(void 0,arguments));throw $d.error(e),new Error(e)},op=function(){var e="FIREBASE WARNING: "+Xd.apply(void 0,arguments);$d.warn(e)},sp=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},up="[MIN_NAME]",cp="[MAX_NAME]",lp=function(e,t){if(e===t)return 0;if(e===up||t===cp)return-1;if(t===up||e===cp)return 1;var n=bp(e),r=bp(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},fp=function(e,t){return e===t?0:e<t?-1:1},hp=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ri(t))},dp=function e(t){if("object"!==typeof t||null===t)return Ri(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ri(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},pp=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function vp(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var mp=function(e){ci(!sp(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var yp=new RegExp("^-?(0*)\\d{1,10}$"),gp=-2147483648,kp=2147483647,bp=function(e){if(yp.test(e)){var t=Number(e);if(t>=gp&&t<=kp)return t}return null},_p=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw op("Exception was thrown by user callback.",e),t}),Math.floor(0))}},wp=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},xp=function(){function e(t,n){var r=this;wr(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Sr(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){op('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Sp=function(){function e(t,n,r){var i=this;wr(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Sr(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(np("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',op(e)}}]),e}(),Ep=function(){function e(t){wr(this,e),this.accessToken=t}return Sr(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Ep.OWNER="owner";var Ip="5",Tp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cp="websocket",Ap="long_polling",Np=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];wr(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gd.get("host:"+t)||this._host}return Sr(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gd.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Pp(e,t,n){var r;if(ci("string"===typeof t,"typeof type must == string"),ci("object"===typeof n,"typeof params must == object"),t===Cp)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ap)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return vp(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Rp=function(){function e(){wr(this,e),this.counters_={}}return Sr(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Di(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return mi(void 0,this.counters_)}}]),e}(),Op={},Dp={};function Lp(e){var t=e.toString();return Op[t]||(Op[t]=new Rp),Op[t]}var Mp=function(){function e(t){wr(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Sr(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&_p((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Fp="start",jp="close",Up=function(){function e(t,n,r,i,a,o,s){var u=this;wr(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rp(t),this.stats_=Lp(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Pp(n,Ap,e)}}return Sr(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Mp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ei()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Vp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Fp)n.id=a,n.password=o;else{if(i!==jp)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Ip,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Tp.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ri(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=di(t),r=pp(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ei()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ri(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ei()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Vp=function(){function e(t,n,r,i){if(wr(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ei())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Yd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){np("frame writing exception"),s.stack&&np(s.stack),np(s)}}}return Sr(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ei()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){np("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||np("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),qp=null;"undefined"!==typeof MozWebSocket?qp=MozWebSocket:"undefined"!==typeof WebSocket&&(qp=WebSocket);var Bp=function(){function e(t,n,r,i,a,o,s){wr(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rp(this.connId),this.stats_=Lp(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Sr(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gd.set("previous_websocket_failure",!0);try{var r;if(Ei()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Ip,"/").concat(Bd,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new qp(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Gd.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Pi(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ci(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ri(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=pp(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Ip,!Ei()&&"undefined"!==typeof location&&location.hostname&&Tp.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Pp(e,Cp,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==qp&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Gd.isInMemoryStorage||!0===Gd.get("previous_websocket_failure")}}]),e}();Bp.responsesRequiredToBeHealthy=2,Bp.healthyTimeout=3e4;var zp=function(){function e(t){wr(this,e),this.initTransports_(t)}return Sr(e,[{key:"initTransports_",value:function(t){var n=Bp&&Bp.isAvailable(),r=n&&!Bp.previouslyFailed();if(t.webSocketOnly&&(n||op("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bp];else{var i,a=this.transports_=[],o=Yr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Up,Bp]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();zp.globalTransportInitialized_=!1;var Wp=function(){function e(t,n,r,i,a,o,s,u,c,l){wr(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rp("c:"+this.id+":"),this.transportManager_=new zp(n),this.log_("Connection created"),this.start_()}return Sr(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=wp((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=hp("t",e),n=hp("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=hp("t",e),n=hp("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=hp("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ip("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ip("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ip!==n&&op("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wp((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wp((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Kp=function(){function e(){wr(this,e)}return Sr(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Hp=function(){function e(t){wr(this,e),this.allowedEvents_=t,this.listeners_={},ci(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Sr(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=ce(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ci(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Gp=function(e){Zr(n,e);var t=ri(n);function n(){var e;return wr(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||bi()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Sr(n,[{key:"getInitialEvent",value:function(e){return ci("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Hp),Qp=function(){function e(t,n){if(wr(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Sr(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function $p(){return new Qp("")}function Yp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Jp(e){return e.pieces_.length-e.pieceNum_}function Xp(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Qp(e.pieces_,t)}function Zp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ev(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function tv(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Qp(t,0)}function nv(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Qp)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Qp(n,0)}function rv(e){return e.pieceNum_>=e.pieces_.length}function iv(e,t){var n=Yp(e),r=Yp(t);if(null===n)return t;if(n===r)return iv(Xp(e),Xp(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function av(e,t){for(var n=ev(e,0),r=ev(t,0),i=0;i<n.length&&i<r.length;i++){var a=lp(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function ov(e,t){if(Jp(e)!==Jp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function sv(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Jp(e)>Jp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var uv=Sr((function e(t,n){wr(this,e),this.errorPrefix_=n,this.parts_=ev(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ji(this.parts_[r]);cv(this)}));function cv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lv(e))}function lv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var fv=function(e){Zr(n,e);var t=ri(n);function n(){var e,r,i;return wr(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Sr(n,[{key:"getInitialEvent",value:function(e){return ci("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Hp),hv=1e3,dv=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a,o,s,u,c){var l;if(wr(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=rp("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=hv,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ei())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return fv.getInstance().on("visible",l.onVisible_,Jr(l)),-1===e.host.indexOf("fblocal")&&Gp.getInstance().on("online",l.onOnline_,Jr(l)),l}return Sr(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ri(i)),ci(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new yi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ci(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ci(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Oi(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Oi(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ci(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ri(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ip("Unrecognized action received from server: "+Ri(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ci(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Q(H().mark((function e(){var t,r,i,a,o,s,c,l,f,h,d,p,v,m,y=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},f=function(e){ci(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=u(d,2),v=p[0],m=p[1],s?np("getToken() completed but was canceled"):(np("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,c=new Wp(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){op(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&op(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){np("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){np("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mi(this.interruptReasons_)&&(this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return dp(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Qp(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){np("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){np("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Yr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Yr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ei()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Bd.replace(/\./g,"-")]=1,bi()?e["framework.cordova"]=1:xi()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Gp.getInstance().currentlyOnline();return Mi(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Di(e,"w")){var n=Li(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();op("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Kp);dv.nextPersistentConnectionId_=0,dv.nextConnectionId_=0;var pv,vv=function(){function e(t,n){wr(this,e),this.name=t,this.node=n}return Sr(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),mv=function(){function e(){wr(this,e)}return Sr(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new vv(up,e),r=new vv(up,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return vv.MIN}}]),e}(),yv=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"compare",value:function(e,t){return lp(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw li("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return vv.MIN}},{key:"maxPost",value:function(){return new vv(cp,pv)}},{key:"makePost",value:function(e,t){return ci("string"===typeof e,"KeyIndex indexValue must always be a string."),new vv(e,pv)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return pv},set:function(e){pv=e}}]),n}(mv),gv=new yv,kv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;wr(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Sr(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),bv=function(){function e(t,n,r,i,a){wr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:xv.EMPTY_NODE,this.right=null!=a?a:xv.EMPTY_NODE}return Sr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return xv.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return xv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();bv.RED=!0,bv.BLACK=!1;var _v,wv=function(){function e(){wr(this,e)}return Sr(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bv(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),xv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;wr(this,e),this.comparator_=t,this.root_=n}return Sr(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,bv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bv.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new kv(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new kv(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new kv(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new kv(this.root_,null,this.comparator_,!0,e)}}]),e}();function Sv(e,t){return lp(e.name,t.name)}function Ev(e,t){return lp(e,t)}xv.EMPTY_NODE=new wv;var Iv,Tv,Cv,Av=function(e){return"number"===typeof e?"number:"+mp(e):"string:"+e},Nv=function(e){if(e.isLeafNode()){var t=e.val();ci("string"===typeof t||"number"===typeof t||"object"===typeof t&&Di(t,".sv"),"Priority must be a string or number.")}else ci(e===_v||e.isEmpty(),"priority of unexpected type.");ci(e===_v||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;wr(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ci(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Nv(this.priorityNode_)}return Sr(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return rv(t)?this:".priority"===Yp(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Yp(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ci(".priority"!==r||1===Jp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xp(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Av(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?mp(this.value_):this.value_,this.lazyHash_=Jd(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ci(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ci(i>=0,"Unknown leaf type: "+n),ci(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Iv},set:function(e){Iv=e}}]),e}();Pv.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Rv,Ov,Dv=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?lp(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return vv.MIN}},{key:"maxPost",value:function(){return new vv(cp,new Pv("[PRIORITY-POST]",Cv))}},{key:"makePost",value:function(e,t){var n=Tv(e);return new vv(t,new Pv("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(mv),Lv=new Dv,Mv=Math.log(2),Fv=function(){function e(t){wr(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Mv,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Sr(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),jv=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new bv(o,a.node,bv.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new bv(o,a.node,bv.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new bv(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,bv.BLACK):(s(f,bv.BLACK),s(f,bv.RED))}return a}(new Fv(e.length));return new xv(r||t,a)},Uv={},Vv=function(){function e(t,n){wr(this,e),this.indexes_=t,this.indexSet_=n}return Sr(e,[{key:"get",value:function(e){var t=Li(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xv?t:null}},{key:"hasIndex",value:function(e){return Di(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ci(t!==gv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(vv.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?jv(i,t.getCompare()):Uv;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Fi(this.indexes_,(function(e,i){var a=Li(r.indexSet_,i);if(ci(a,"Missing index implementation for "+i),e===Uv){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(vv.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),jv(o,a.getCompare())}return Uv}var c=n.get(t.name),l=e;return c&&(l=l.remove(new vv(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Fi(this.indexes_,(function(e){if(e===Uv)return e;var r=n.get(t.name);return r?e.remove(new vv(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ci(Uv&&Lv,"ChildrenNode.ts has not been loaded"),Rv=Rv||new e({".priority":Uv},{".priority":Lv})}}]),e}(),qv=function(){function e(t,n,r){wr(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Nv(this.priorityNode_),this.children_.isEmpty()&&ci(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Sr(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Ov}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ov:t}},{key:"getChild",value:function(e){var t=Yp(e);return null===t?this:this.getImmediateChild(t).getChild(Xp(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ci(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new vv(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Ov:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Yp(e);if(null===n)return t;ci(".priority"!==Yp(e)||1===Jp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Xp(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Lv,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Av(this.getPriority().val())+":"),this.forEachChild(Lv,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Jd(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vv(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new vv(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new vv(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,vv.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,vv.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bv?-1:0}},{key:"withIndex",value:function(t){if(t===gv||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===gv||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Lv),r=t.getIterator(Lv),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===gv?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Ov||(Ov=new e(new xv(Ev),null,Vv.Default))}}]),e}();qv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Bv=new(function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.call(this,new xv(Ev),qv.EMPTY_NODE,Vv.Default)}return Sr(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return qv.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(qv));Object.defineProperties(vv,{MIN:{value:new vv(up,qv.EMPTY_NODE)},MAX:{value:new vv(cp,Bv)}}),yv.__EMPTY_NODE=qv.EMPTY_NODE,Pv.__childrenNodeConstructor=qv,_v=Bv,function(e){Cv=e}(Bv);function zv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return qv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ci(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Pv(n,zv(t))}if(e instanceof Array){var r=qv.EMPTY_NODE;return vp(e,(function(t,n){if(Di(e,t)&&"."!==t.substring(0,1)){var i=zv(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(zv(t))}var i=[],a=!1,o=e;if(vp(o,(function(e,t){if("."!==e.substring(0,1)){var n=zv(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new vv(e,n)))}})),0===i.length)return qv.EMPTY_NODE;var s=jv(i,Sv,(function(e){return e.name}),Ev);if(a){var u=jv(i,Lv.getCompare());return new qv(s,zv(t),new Vv({".priority":u},{".priority":Lv}))}return new qv(s,zv(t),Vv.Default)}!function(e){Tv=e}(zv);var Wv=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).indexPath_=e,ci(!rv(e)&&".priority"!==Yp(e),"Can't create PathIndex with empty path or .priority key"),r}return Sr(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?lp(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=zv(e),r=qv.EMPTY_NODE.updateChild(this.indexPath_,n);return new vv(t,r)}},{key:"maxPost",value:function(){var e=qv.EMPTY_NODE.updateChild(this.indexPath_,Bv);return new vv(cp,e)}},{key:"toString",value:function(){return ev(this.indexPath_,0).join("/")}}]),n}(mv),Kv=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?lp(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return vv.MIN}},{key:"maxPost",value:function(){return vv.MAX}},{key:"makePost",value:function(e,t){var n=zv(e);return new vv(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(mv),Hv=new Kv,Gv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qv=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Gv.charAt(n%64),n=Math.floor(n/64);ci(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Gv.charAt(t[r]);return ci(20===o.length,"nextPushId: Length should be 20."),o}}(),$v=function(e){if("2147483647"===e)return"-";var t=bp(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return cp;var a=n[i],o=Gv.charAt(Gv.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},Yv=function(e){if("-2147483648"===e)return up;var t=bp(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Gv.charAt(Gv.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Jv(e){return{type:"value",snapshotNode:e}}function Xv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Zv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function em(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var tm=function(){function e(t){wr(this,e),this.index_=t}return Sr(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ci(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Zv(t,o)):ci(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Xv(t,n)):a.trackChildChange(em(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Lv,(function(e,r){t.hasChild(e)||n.trackChildChange(Zv(e,r))})),t.isLeafNode()||t.forEachChild(Lv,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(em(t,r,i))}else n.trackChildChange(Xv(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?qv.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),nm=function(){function e(t){wr(this,e),this.indexedFilter_=new tm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Sr(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new vv(t,n))||(n=qv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=qv.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(qv.EMPTY_NODE);var i=this;return t.forEachChild(Lv,(function(e,t){i.matches(new vv(e,t))||(r=r.updateImmediateChild(e,qv.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),rm=function(){function e(t){wr(this,e),this.rangedFilter_=new nm(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Sr(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new vv(t,n))||(n=qv.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=qv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=qv.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(qv.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,qv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ci(s.numChildren()===this.limit_,"");var u=new vv(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(em(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Zv(t,f));var p=s.updateImmediateChild(t,qv.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Xv(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Zv(c.name,c.node)),i.trackChildChange(Xv(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,qv.EMPTY_NODE)):e}}]),e}(),im=function(){function e(){wr(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lv}return Sr(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ci(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ci(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:up}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ci(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ci(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cp}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ci(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Lv}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function am(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function om(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function sm(e,t){var n=e.copy();return n.index_=t,n}function um(e){var t,n={};return e.isDefault()||(e.index_===Lv?t="$priority":e.index_===Hv?t="$value":e.index_===gv?t="$key":(ci(e.index_ instanceof Wv,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ri(t),e.startSet_&&(n.startAt=Ri(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ri(e.indexStartName_))),e.endSet_&&(n.endAt=Ri(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ri(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function cm(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Lv&&(t.i=e.index_.toString()),t}var lm=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a){var o;return wr(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=rp("p:rest:"),o.listens_={},o}return Sr(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=um(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Li(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=um(e._queryParams),r=e._path.toString(),i=new yi;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Vi(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Pi(l.responseText)}catch(n){op("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&op("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ci(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Kp),fm=function(){function e(){wr(this,e),this.rootNode_=qv.EMPTY_NODE}return Sr(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function hm(){return{value:null,children:new Map}}function dm(e,t,n){if(rv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Yp(t);e.children.has(r)||e.children.set(r,hm()),dm(e.children.get(r),t=Xp(t),n)}}function pm(e,t){if(rv(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Lv,(function(t,n){dm(e,new Qp(t),n)})),pm(e,t)}if(e.children.size>0){var r=Yp(t);if(t=Xp(t),e.children.has(r))pm(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function vm(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){vm(r,new Qp(t.toString()+"/"+e),n)}))}var mm,ym=function(){function e(t){wr(this,e),this.collection_=t,this.last_=null}return Sr(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vp(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),gm=function(){function e(t,n){wr(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new ym(t);var r=1e4+2e4*Math.random();wp(this.reportStats_.bind(this),Math.floor(r))}return Sr(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;vp(t,(function(t,i){i>0&&Di(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),wp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function km(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(mm||(mm={}));var bm,_m=function(){function e(t,n,r){wr(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=mm.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Sr(e,[{key:"operationForChild",value:function(t){if(rv(this.path)){if(null!=this.affectedTree.value)return ci(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Qp(t));return new e($p(),n,this.revert)}return ci(Yp(this.path)===t,"operationForChild called for unrelated child."),new e(Xp(this.path),this.affectedTree,this.revert)}}]),e}(),wm=function(){function e(t,n){wr(this,e),this.source=t,this.path=n,this.type=mm.LISTEN_COMPLETE}return Sr(e,[{key:"operationForChild",value:function(t){return rv(this.path)?new e(this.source,$p()):new e(this.source,Xp(this.path))}}]),e}(),xm=function(){function e(t,n,r){wr(this,e),this.source=t,this.path=n,this.snap=r,this.type=mm.OVERWRITE}return Sr(e,[{key:"operationForChild",value:function(t){return rv(this.path)?new e(this.source,$p(),this.snap.getImmediateChild(t)):new e(this.source,Xp(this.path),this.snap)}}]),e}(),Sm=function(){function e(t,n,r){wr(this,e),this.source=t,this.path=n,this.children=r,this.type=mm.MERGE}return Sr(e,[{key:"operationForChild",value:function(t){if(rv(this.path)){var n=this.children.subtree(new Qp(t));return n.isEmpty()?null:n.value?new xm(this.source,$p(),n.value):new e(this.source,$p(),n)}return ci(Yp(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Xp(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Em=function(){function e(t,n,r){wr(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Sr(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(rv(e))return this.isFullyInitialized()&&!this.filtered_;var t=Yp(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Im=Sr((function e(t){wr(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Tm(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw li("Should only compare child_ events.");var r=new vv(t.childName,t.snapshotNode),i=new vv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Cm(e,t){return{eventCache:e,serverCache:t}}function Am(e,t,n,r){return Cm(new Em(t,n,r),e.serverCache)}function Nm(e,t,n,r){return Cm(e.eventCache,new Em(t,n,r))}function Pm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rm(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Om=function(){return bm||(bm=new xv(fp)),bm},Dm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Om();wr(this,e),this.value=t,this.children=n}return Sr(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:$p(),value:this.value};if(rv(e))return null;var n=Yp(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Xp(e),t);return null!=i?{path:nv(new Qp(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(rv(t))return this;var n=Yp(t),r=this.children.get(n);return null!==r?r.subtree(Xp(t)):new e(null)}},{key:"set",value:function(t,n){if(rv(t))return new e(n,this.children);var r=Yp(t),i=(this.children.get(r)||new e(null)).set(Xp(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(rv(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Yp(t),r=this.children.get(n);if(r){var i,a=r.remove(Xp(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(rv(e))return this.value;var t=Yp(e),n=this.children.get(t);return n?n.get(Xp(e)):null}},{key:"setTree",value:function(t,n){if(rv(t))return n;var r,i=Yp(t),a=(this.children.get(i)||new e(null)).setTree(Xp(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_($p(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(nv(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,$p(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(rv(e))return null;var i=Yp(e),a=this.children.get(i);return a?a.findOnPath_(Xp(e),nv(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,$p(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(rv(t))return this;this.value&&r(n,this.value);var i=Yp(t),a=this.children.get(i);return a?a.foreachOnPath_(Xp(t),nv(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_($p(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(nv(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return vp(t,(function(e,t){n=n.set(new Qp(e),t)})),n}}]),e}(),Lm=function(){function e(t){wr(this,e),this.writeTree_=t}return Sr(e,null,[{key:"empty",value:function(){return new e(new Dm(null))}}]),e}();function Mm(e,t,n){if(rv(t))return new Lm(new Dm(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=iv(i,t);return a=a.updateChild(o,n),new Lm(e.writeTree_.set(i,a))}var s=new Dm(n),u=e.writeTree_.setTree(t,s);return new Lm(u)}function Fm(e,t,n){var r=e;return vp(n,(function(e,n){r=Mm(r,nv(t,e),n)})),r}function jm(e,t){if(rv(t))return Lm.empty();var n=e.writeTree_.setTree(t,new Dm(null));return new Lm(n)}function Um(e,t){return null!=Vm(e,t)}function Vm(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(iv(n.path,t)):null}function qm(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Lv,(function(e,n){t.push(new vv(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new vv(e,n.value))})),t}function Bm(e,t){if(rv(t))return e;var n=Vm(e,t);return new Lm(null!=n?new Dm(n):e.writeTree_.subtree(t))}function zm(e){return e.writeTree_.isEmpty()}function Wm(e,t){return Km($p(),e.writeTree_,t)}function Km(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ci(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Km(nv(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(nv(e,".priority"),r)),n}function Hm(e,t){return oy(t,e)}function Gm(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Qm(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ci(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&$m(s,r.path)?i=!1:sv(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Jm(e.allWrites,Ym,$p()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=jm(e.visibleWrites,r.path):vp(r.children,(function(t){e.visibleWrites=jm(e.visibleWrites,nv(r.path,t))}));return!0}return!1}function $m(e,t){if(e.snap)return sv(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&sv(nv(e.path,n),t))return!0;return!1}function Ym(e){return e.visible}function Jm(e,t,n){for(var r=Lm.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)sv(n,o)?r=Mm(r,s=iv(n,o),a.snap):sv(o,n)&&(s=iv(o,n),r=Mm(r,$p(),a.snap.getChild(s)));else{if(!a.children)throw li("WriteRecord should have .snap or .children");if(sv(n,o))r=Fm(r,s=iv(n,o),a.children);else if(sv(o,n))if(rv(s=iv(o,n)))r=Fm(r,$p(),a.children);else{var u=Li(a.children,Yp(s));if(u){var c=u.getChild(Xp(s));r=Mm(r,$p(),c)}}}}}return r}function Xm(e,t,n,r,i){if(r||i){var a=Bm(e.visibleWrites,t);if(!i&&zm(a))return n;if(i||null!=n||Um(a,$p())){return Wm(Jm(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(sv(e.path,t)||sv(t,e.path))}),t),n||qv.EMPTY_NODE)}return null}var o=Vm(e.visibleWrites,t);if(null!=o)return o;var s=Bm(e.visibleWrites,t);return zm(s)?n:null!=n||Um(s,$p())?Wm(s,n||qv.EMPTY_NODE):null}function Zm(e,t,n,r){return Xm(e.writeTree,e.treePath,t,n,r)}function ey(e,t){return function(e,t,n){var r=qv.EMPTY_NODE,i=Vm(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Lv,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Bm(e.visibleWrites,t);return n.forEachChild(Lv,(function(e,t){var n=Wm(Bm(a,new Qp(e)),t);r=r.updateImmediateChild(e,n)})),qm(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return qm(Bm(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ty(e,t,n,r){return function(e,t,n,r,i){ci(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=nv(t,n);if(Um(e.visibleWrites,a))return null;var o=Bm(e.visibleWrites,a);return zm(o)?i.getChild(n):Wm(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ny(e,t){return function(e,t){return Vm(e.visibleWrites,t)}(e.writeTree,nv(e.treePath,t))}function ry(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Bm(e.visibleWrites,t),c=Vm(u,$p());if(null!=c)s=c;else{if(null==n)return[];s=Wm(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function iy(e,t,n){return function(e,t,n,r){var i=nv(t,n),a=Vm(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Wm(Bm(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ay(e,t){return oy(nv(e.treePath,t),e.writeTree)}function oy(e,t){return{treePath:e,writeTree:t}}var sy=function(){function e(){wr(this,e),this.changeMap=new Map}return Sr(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ci("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ci(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,em(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Zv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Xv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw li("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,em(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),uy=new(function(){function e(){wr(this,e)}return Sr(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),cy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;wr(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Sr(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Em(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iy(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rm(this.viewCache_),i=ry(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ly(e,t,n,r,i){var a,o,s=new sy;if(n.type===mm.OVERWRITE){var u=n;u.source.fromUser?a=dy(e,t,u.path,u.snap,r,i,s):(ci(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!rv(u.path),a=hy(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===mm.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=nv(n,r);py(t,Yp(c))&&(s=dy(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=nv(n,r);py(t,Yp(c))||(s=dy(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(ci(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=my(e,t,c.path,c.children,r,i,o,s))}else if(n.type===mm.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=ny(r,n))return t;var s,u=new cy(r,t,i),c=t.eventCache.getNode();if(rv(n)||".priority"===Yp(n)){var l;if(t.serverCache.isFullyInitialized())l=Zm(r,Rm(t));else{var f=t.serverCache.getNode();ci(f instanceof qv,"serverChildren would be complete if leaf node"),l=ey(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Yp(n),d=iy(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Xp(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,qv.EMPTY_NODE,Xp(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Zm(r,Rm(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ny(r,$p()),Am(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=ny(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(rv(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return hy(e,t,n,u.getNode().getChild(n),i,a,s,o);if(rv(n)){var c=new Dm(null);return u.getNode().forEachChild(gv,(function(e,t){c=c.set(new Qp(e),t)})),my(e,t,n,c,i,a,s,o)}return t}var l=new Dm(null);return r.foreach((function(e,t){var r=nv(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),my(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==mm.LISTEN_COMPLETE)throw li("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Nm(t,a.getNode(),a.isFullyInitialized()||rv(n),a.isFiltered());return fy(e,o,n,r,uy,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Pm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Jv(Pm(t)))}}(t,a,f),{viewCache:a,changes:f}}function fy(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=ny(r,n))return t;if(rv(n))if(ci(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Rm(t),l=ey(r,c instanceof qv?c:qv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Zm(r,Rm(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Yp(n);if(".priority"===h){ci(1===Jp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=ty(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Xp(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=ty(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=iy(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Am(t,o,u.isFullyInitialized()||rv(n),e.filter.filtersNodes())}function hy(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(rv(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Yp(n);if(!c.isCompleteForPath(n)&&Jp(n)>1)return t;var d=Xp(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,uy,null)}var v=Nm(t,u,c.isFullyInitialized()||rv(n),l.filtersNodes());return fy(e,v,n,i,new cy(i,v,a),s)}function dy(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new cy(i,t,a);if(rv(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Am(t,u,!0,e.filter.filtersNodes());else{var f=Yp(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Am(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Xp(n),p=c.getNode().getImmediateChild(f);if(rv(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Zp(d)&&v.getChild(tv(d)).isEmpty()?v:v.updateChild(d,r):qv.EMPTY_NODE}if(p.equals(h))s=t;else s=Am(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function py(e,t){return e.eventCache.isCompleteForChild(t)}function vy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function my(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=rv(n)?r:new Dm(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=vy(0,t.serverCache.getNode().getImmediateChild(n),r);c=hy(e,c,new Qp(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=vy(0,t.serverCache.getNode().getImmediateChild(n),r);c=hy(e,c,new Qp(n),f,i,a,o,s)}})),c}var yy,gy=function(){function e(t,n){wr(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new tm(i.getIndex()),o=(r=i).loadsAllData()?new tm(r.getIndex()):r.hasLimit()?new rm(r):new nm(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(qv.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(qv.EMPTY_NODE,u.getNode(),null),f=new Em(c,s.isFullyInitialized(),a.filtersNodes()),h=new Em(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Cm(h,f),this.eventGenerator_=new Im(this.query_)}return Sr(e,[{key:"query",get:function(){return this.query_}}]),e}();function ky(e,t){var n=Rm(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rv(t)&&!n.getImmediateChild(Yp(t)).isEmpty())?n.getChild(t):null}function by(e){return 0===e.eventRegistrations_.length}function _y(e,t,n){var r=[];if(n){ci(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function wy(e,t,n,r){t.type===mm.MERGE&&null!==t.source.queryId&&(ci(Rm(e.viewCache_),"We should always have a full cache before handling merges"),ci(Pm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=ly(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ci(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ci(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ci(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,xy(e,s.changes,s.viewCache.eventCache.getNode(),null)}function xy(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Tm(e,i,"child_removed",t,r,n),Tm(e,i,"child_added",t,r,n),Tm(e,i,"child_moved",a,r,n),Tm(e,i,"child_changed",t,r,n),Tm(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Sy,Ey=Sr((function e(){wr(this,e),this.views=new Map}));function Iy(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ci(null!=a,"SyncTree gave us an op for an invalid query."),wy(a,t,n,r)}var o,s=[],u=Yr(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(wy(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Ty(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Zm(n,i?r:null),u=!1;s?u=!0:r instanceof qv?(s=ey(n,r),u=!1):(s=qv.EMPTY_NODE,u=!1);var c=Cm(new Em(s,u,!1),new Em(r,i,!1));return new gy(t,c)}return o}function Cy(e,t,n,r,i,a){var o=Ty(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Lv,(function(e,t){r.push(Xv(e,t))})),n.isFullyInitialized()&&r.push(Jv(n.getNode())),xy(e,r,n.getNode(),t)}(o,n)}function Ay(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Dy(e);if("default"===i){var c,l=Yr(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];o=o.concat(_y(d,n,r)),by(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(_y(p,n,r)),by(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Dy(e)&&a.push(new(ci(yy,"Reference.ts has not been loaded"),yy)(t._repo,t._path)),{removed:a,events:o}}function Ny(e){var t,n=[],r=Yr(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Py(e,t){var n,r=null,i=Yr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||ky(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Ry(e,t){if(t._queryParams.loadsAllData())return Ly(e);var n=t._queryIdentifier;return e.views.get(n)}function Oy(e,t){return null!=Ry(e,t)}function Dy(e){return null!=Ly(e)}function Ly(e){var t,n=Yr(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var My=1,Fy=Sr((function e(t){wr(this,e),this.listenProvider_=t,this.syncPointTree_=new Dm(null),this.pendingWriteTree_={visibleWrites:Lm.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function jy(e,t,n,r,i){return function(e,t,n,r,i){ci(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Mm(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Qy(e,new xm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Uy(e,t,n,r){!function(e,t,n,r){ci(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Fm(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Dm.fromObject(n);return Qy(e,new Sm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Vy(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Gm(e.pendingWriteTree_,t),i=Qm(e.pendingWriteTree_,t);if(i){var a=new Dm(null);return null!=r.snap?a=a.set($p(),!0):vp(r.children,(function(e){a=a.set(new Qp(e),!0)})),Qy(e,new _m(r.path,a,n))}return[]}function qy(e,t,n){return Qy(e,new xm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function By(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||Oy(a,t))){var s=Ay(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Dy(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Dy(t))return[Ly(t)];var r=[];return t&&(r=Ny(t)),vp(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=Jy(e,p);e.listenProvider_.startListening(rg(v),Xy(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(rg(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Zy(t));e.listenProvider_.stopListening(rg(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Zy(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function zy(e,t,n,r){var i=eg(e,r);if(null!=i){var a=tg(i),o=a.path,s=a.queryId,u=iv(o,t);return ng(e,o,new xm(km(s),u,n))}return[]}function Wy(e,t){var n=e._path,r=null,i=!1;t.syncPointTree_.foreachOnPath(n,(function(e,t){var a=iv(e,n);r=r||Py(t,a),i=i||Dy(t)}));var a,o=t.syncPointTree_.get(n);(o?(i=i||Dy(o),r=r||Py(o,$p())):(o=new Ey,t.syncPointTree_=t.syncPointTree_.set(n,o)),null!=r)?a=!0:(a=!1,r=qv.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((function(e,t){var n=Py(t,$p());n&&(r=r.updateImmediateChild(e,n))})));var s=Oy(o,e);if(!s&&!e._queryParams.loadsAllData()){var u=Zy(e);ci(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var c=My++;t.queryToTagMap.set(u,c),t.tagToQueryMap.set(c,u)}return{syncPoint:o,writesCache:Hm(t.pendingWriteTree_,n),serverCache:r,serverCacheComplete:a,foundAncestorDefaultView:i,viewAlreadyExists:s}}function Ky(e,t,n){var r=Wy(t,e),i=r.syncPoint,a=r.serverCache,o=r.writesCache,s=r.serverCacheComplete,u=r.viewAlreadyExists,c=r.foundAncestorDefaultView,l=Cy(i,t,n,o,a,s);if(!u&&!c){var f=Ry(i,t);l=l.concat(function(e,t,n){var r=t._path,i=Xy(e,t),a=Jy(e,n),o=e.listenProvider_.startListening(rg(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)ci(!Dy(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!rv(e)&&t&&Dy(t))return[Ly(t).query];var r=[];return t&&(r=r.concat(Ny(t).map((function(e){return e.query})))),vp(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(rg(l),Xy(e,l))}return o}(e,t,f))}return l}function Hy(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Py(n,iv(e,t));if(r)return r}));return Xm(r,t,i,n,!0)}function Gy(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=iv(e,n);r=r||Py(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Py(i,$p()):(i=new Ey,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Em(r,!0,!1):null;return function(e){return Pm(e.viewCache_)}(Ty(i,t,Hm(e.pendingWriteTree_,t._path),a?o.getNode():qv.EMPTY_NODE,a))}function Qy(e,t){return $y(t,e.syncPointTree_,null,Hm(e.pendingWriteTree_,$p()))}function $y(e,t,n,r){if(rv(e.path))return Yy(e,t,n,r);var i=t.get($p());null==n&&null!=i&&(n=Py(i,$p()));var a=[],o=Yp(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=ay(r,o);a=a.concat($y(s,u,c,l))}return i&&(a=a.concat(Iy(i,e,r,n))),a}function Yy(e,t,n,r){var i=t.get($p());null==n&&null!=i&&(n=Py(i,$p()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=ay(r,t),u=e.operationForChild(t);u&&(a=a.concat(Yy(u,i,o,s)))})),i&&(a=a.concat(Iy(i,e,r,n))),a}function Jy(e,t){var n=t.query,r=Xy(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||qv.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=eg(e,n);if(r){var i=tg(r),a=i.path,o=i.queryId,s=iv(a,t);return ng(e,a,new wm(km(o),s))}return[]}(e,n._path,r):function(e,t){return Qy(e,new wm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return By(e,n,null,i)}}}function Xy(e,t){var n=Zy(t);return e.queryToTagMap.get(n)}function Zy(e){return e._path.toString()+"$"+e._queryIdentifier}function eg(e,t){return e.tagToQueryMap.get(t)}function tg(e){var t=e.indexOf("$");return ci(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Qp(e.substr(0,t))}}function ng(e,t,n){var r=e.syncPointTree_.get(t);return ci(r,"Missing sync point for query tag that we're tracking"),Iy(r,n,Hm(e.pendingWriteTree_,t),null)}function rg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ci(Sy,"Reference.ts has not been loaded"),Sy)(e._repo,e._path):e}var ig=function(){function e(t){wr(this,e),this.node_=t}return Sr(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ag=function(){function e(t,n){wr(this,e),this.syncTree_=t,this.path_=n}return Sr(e,[{key:"getImmediateChild",value:function(t){var n=nv(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Hy(this.syncTree_,this.path_)}}]),e}(),og=function(e,t,n){return e&&"object"===typeof e?(ci(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?sg(e[".sv"],t,n):"object"===typeof e[".sv"]?ug(e[".sv"],t):void ci(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sg=function(e,t,n){if("timestamp"===e)return n.timestamp;ci(!1,"Unexpected server value: "+e)},ug=function(e,t,n){e.hasOwnProperty("increment")||ci(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ci(!1,"Unexpected increment value: "+r);var i=t.node();if(ci(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},cg=function(e,t,n,r){return fg(t,new ag(n,e),r)},lg=function(e,t,n){return fg(e,new ig(t),n)};function fg(e,t,n){var r,i=e.getPriority().val(),a=og(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=og(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Pv(s,zv(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Pv(a))),u.forEachChild(Lv,(function(e,i){var a=fg(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var hg=Sr((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};wr(this,e),this.name=t,this.parent=n,this.node=r}));function dg(e,t){for(var n=t instanceof Qp?t:new Qp(t),r=e,i=Yp(n);null!==i;){var a=Li(r.node.children,i)||{children:{},childCount:0};r=new hg(i,r,a),i=Yp(n=Xp(n))}return r}function pg(e){return e.node.value}function vg(e,t){e.node.value=t,bg(e)}function mg(e){return e.node.childCount>0}function yg(e,t){vp(e.node.children,(function(n,r){t(new hg(n,e,r))}))}function gg(e,t,n,r){n&&!r&&t(e),yg(e,(function(e){gg(e,t,!0,r)})),n&&r&&t(e)}function kg(e){return new Qp(null===e.parent?e.name:kg(e.parent)+"/"+e.name)}function bg(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===pg(e)&&!mg(e)}(n),i=Di(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bg(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,bg(e))}(e.parent,e.name,e)}var _g=/[\[\].#$\/\u0000-\u001F\u007F]/,wg=/[\[\].#$\u0000-\u001F\u007F]/,xg=10485760,Sg=function(e){return"string"===typeof e&&0!==e.length&&!_g.test(e)},Eg=function(e){return"string"===typeof e&&0!==e.length&&!wg.test(e)},Ig=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!sp(e)||e&&"object"===typeof e&&Di(e,".sv")},Tg=function(e,t,n,r){r&&void 0===t||Cg(Qi(e,"value"),t,n)},Cg=function e(t,n,r){var i=r instanceof Qp?new uv(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+lv(i));if("function"===typeof n)throw new Error(t+"contains a function "+lv(i)+" with contents = "+n.toString());if(sp(n))throw new Error(t+"contains "+n.toString()+" "+lv(i));if("string"===typeof n&&n.length>xg/3&&Ji(n)>xg)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+lv(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(vp(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Sg(n)))throw new Error(t+" contains an invalid key ("+n+") "+lv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Ji(u),cv(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ji(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+lv(i)+" in addition to actual children.")}},Ag=function(e,t,n,r){if(!r||void 0!==t){var i=Qi(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];vp(t,(function(e,t){var r=new Qp(e);if(Cg(i,t,nv(n,r)),".priority"===Zp(r)&&!Ig(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ev(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Sg(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(av);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&sv(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Ng=function(e,t,n){if(!n||void 0!==t){if(sp(t))throw new Error(Qi(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ig(t))throw new Error(Qi(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pg=function(e,t,n,r){if((!r||void 0!==n)&&!Sg(n))throw new Error(Qi(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rg=function(e,t,n,r){if((!r||void 0!==n)&&!Eg(n))throw new Error(Qi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Og=function(e,t){if(".info"===Yp(t))throw new Error(e+" failed = Can't modify data under /.info/")},Dg=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Eg(e)}(n))throw new Error(Qi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Lg=Sr((function e(){wr(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Mg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||ov(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Fg(e,t,n){Mg(e,n),Ug(e,(function(e){return ov(e,t)}))}function jg(e,t,n){Mg(e,n),Ug(e,(function(e){return sv(e,t)||sv(t,e)}))}function Ug(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Vg(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Vg(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Zd&&np("event: "+n.toString()),_p(r)}}}var qg="repo_interrupt",Bg=function(){function e(t,n,r,i){wr(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hm(),this.transactionQueueTree_=new hg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Sr(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function zg(e,t,n){if(e.stats_=Lp(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new lm(e.repoInfo_,(function(t,n,r,i){Hg(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Gg(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ri(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new dv(e.repoInfo_,t,(function(t,n,r,i){Hg(e,t,n,r,i)}),(function(t){Gg(e,t)}),(function(t){!function(e,t){vp(t,(function(t,n){Qg(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Dp[n]||(Dp[n]=t()),Dp[n]}(e.repoInfo_,(function(){return new gm(e.stats_,e.server_)})),e.infoData_=new fm,e.infoSyncTree_=new Fy({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=qy(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Qg(e,"connected",!1),e.serverSyncTree_=new Fy({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);jg(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Wg(e){var t=e.infoData_.getNode(new Qp(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Kg(e){return(t=(t={timestamp:Wg(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Hg(e,t,n,r,i){e.dataUpdateCount++;var a=new Qp(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Fi(n,(function(e){return zv(e)}));o=function(e,t,n,r){var i=eg(e,r);if(i){var a=tg(i),o=a.path,s=a.queryId,u=iv(o,t),c=Dm.fromObject(n);return ng(e,o,new Sm(km(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=zv(n);o=zy(e.serverSyncTree_,a,u,i)}else if(r){var c=Fi(n,(function(e){return zv(e)}));o=function(e,t,n){var r=Dm.fromObject(n);return Qy(e,new Sm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=zv(n);o=qy(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=sk(e,a)),jg(e.eventQueue_,f,o)}function Gg(e,t){Qg(e,"connected",t),!1===t&&function(e){nk(e,"onDisconnectEvents");var t=Kg(e),n=hm();vm(e.onDisconnect_,$p(),(function(r,i){var a=cg(r,i,e.serverSyncTree_,t);dm(n,r,a)}));var r=[];vm(n,$p(),(function(t,n){r=r.concat(qy(e.serverSyncTree_,t,n));var i=hk(e,t);sk(e,i)})),e.onDisconnect_=hm(),jg(e.eventQueue_,$p(),r)}(e)}function Qg(e,t,n){var r=new Qp("/.info/"+t),i=zv(n);e.infoData_.updateSnapshot(r,i);var a=qy(e.infoSyncTree_,r,i);jg(e.eventQueue_,r,a)}function $g(e){return e.nextWriteId_++}function Yg(e,t){var n=Gy(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=zv(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())qy(e.serverSyncTree_,t._path,r);else{var i=function(e,t){var n=Wy(t,e),r=n.syncPoint,i=n.serverCache,a=Ty(r,t,n.writesCache,i,n.serverCacheComplete);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,a),t._queryParams.loadsAllData()?null:Xy(e,t)}(e.serverSyncTree_,t);zy(e.serverSyncTree_,t._path,r,i)}return By(e.serverSyncTree_,t,null).length>0&&nk(e,"unexpected cancel events in repoGetValue"),r}),(function(n){return nk(e,"get for query "+Ri(t)+" failed: "+n),Promise.reject(new Error(n))}))}function Jg(e,t,n,r,i){nk(e,"set",{path:t.toString(),value:n,priority:r});var a=Kg(e),o=zv(n,r),s=Hy(e.serverSyncTree_,t),u=lg(o,s,a),c=$g(e),l=jy(e.serverSyncTree_,t,u,c,!0);Mg(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||op("set at "+t+" failed: "+n);var o=Vy(e.serverSyncTree_,c,!a);jg(e.eventQueue_,t,o),rk(e,i,n,r)}));var f=hk(e,t);sk(e,f),jg(e.eventQueue_,f,[])}function Xg(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&pm(e.onDisconnect_,t),rk(e,n,r,i)}))}function Zg(e,t,n,r){var i=zv(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&dm(e.onDisconnect_,t,i),rk(e,r,n,a)}))}function ek(e,t,n){var r;r=".info"===Yp(t._path)?By(e.infoSyncTree_,t,n):By(e.serverSyncTree_,t,n),Fg(e.eventQueue_,t._path,r)}function tk(e){e.persistentConnection_&&e.persistentConnection_.interrupt(qg)}function nk(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];np.apply(void 0,[t].concat(r))}function rk(e,t,n,r){t&&_p((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ik(e,t,n){return Hy(e.serverSyncTree_,t,n)||qv.EMPTY_NODE}function ak(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||fk(e,t),pg(t)){var n=ck(e,t);ci(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&ok(e,kg(t),n)}else mg(t)&&yg(t,(function(t){ak(e,t)}))}function ok(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ik(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ci(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=iv(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){nk(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Vy(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);fk(e,dg(e.transactionQueueTree_,t)),ak(e,e.transactionQueueTree_),jg(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)_p(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{op("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}sk(e,t)}}),o)}function sk(e,t){var n=uk(e,t),r=kg(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=iv(n,u.path),l=!1,f=void 0;if(ci(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(Vy(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(Vy(e.serverSyncTree_,u.currentWriteId,!0));else{var h=ik(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Cg("transaction failed: Data returned ",d,u.path);var p=zv(d);"object"===typeof d&&null!=d&&Di(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=Kg(e),y=lg(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=$g(e),o.splice(o.indexOf(v),1),i=(i=i.concat(jy(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Vy(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(Vy(e.serverSyncTree_,u.currentWriteId,!0))}jg(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);fk(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)_p(r[c]);ak(e,e.transactionQueueTree_)}(e,ck(e,n),r),r}function uk(e,t){var n,r=e.transactionQueueTree_;for(n=Yp(t);null!==n&&void 0===pg(r);)r=dg(r,n),n=Yp(t=Xp(t));return r}function ck(e,t){var n=[];return lk(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function lk(e,t,n){var r=pg(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);yg(t,(function(t){lk(e,t,n)}))}function fk(e,t){var n=pg(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vg(t,n.length>0?n:void 0)}yg(t,(function(t){fk(e,t)}))}function hk(e,t){var n=kg(uk(e,t)),r=dg(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){dk(e,t)})),dk(e,r),gg(r,(function(t){dk(e,t)})),n}function dk(e,t){var n=pg(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ci(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ci(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Vy(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?vg(t,void 0):n.length=a+1,jg(e.eventQueue_,kg(t),i);for(var s=0;s<r.length;s++)_p(r[s])}}var pk=function(e,t){var n=vk(e),r=n.namespace;"firebase.com"===n.domain&&ap(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ap("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&op("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Np(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Qp(n.pathString)}},vk=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Yr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):op("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},mk=function(){function e(t,n,r,i){wr(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Sr(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Ri(this.snapshot.exportVal())}}]),e}(),yk=function(){function e(t,n,r){wr(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Sr(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),gk=function(){function e(t,n){wr(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Sr(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ci(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),kk=function(){function e(t,n){wr(this,e),this._repo=t,this._path=n}return Sr(e,[{key:"cancel",value:function(){var e=new yi;return Xg(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Og("OnDisconnect.remove",this._path);var e=new yi;return Zg(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Og("OnDisconnect.set",this._path),Tg("OnDisconnect.set",e,this._path,!1);var t=new yi;return Zg(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Og("OnDisconnect.setWithPriority",this._path),Tg("OnDisconnect.setWithPriority",e,this._path,!1),Ng("OnDisconnect.setWithPriority",t,!1);var n=new yi;return function(e,t,n,r,i){var a=zv(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&dm(e.onDisconnect_,t,a),rk(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Og("OnDisconnect.update",this._path),Ag("OnDisconnect.update",e,this._path,!1);var t=new yi;return function(e,t,n,r){if(Mi(n))return np("onDisconnect().update() called with empty data.  Don't do anything."),void rk(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&vp(n,(function(n,r){var i=zv(r);dm(e.onDisconnect_,nv(t,n),i)})),rk(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),bk=function(){function e(t,n,r,i){wr(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Sr(e,[{key:"key",get:function(){return rv(this._path)?null:Zp(this._path)}},{key:"ref",get:function(){return new Sk(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=cm(this._queryParams),t=dp(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return cm(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Xi(t))instanceof e))return!1;var n=this._repo===t._repo,r=ov(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function _k(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function wk(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===gv){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==up)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==cp)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Lv){if(null!=t&&!Ig(t)||null!=n&&!Ig(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ci(e.getIndex()instanceof Wv||e.getIndex()===Hv,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xk(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Sk=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,r,new im,!1)}return Sr(n,[{key:"parent",get:function(){var e=tv(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(bk),Ek=function(){function e(t,n,r){wr(this,e),this._node=t,this.ref=n,this._index=r}return Sr(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Qp(t),r=Ck(this.ref,t);return new e(this._node.getChild(n),r,Lv)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ck(n.ref,r),Lv))}))}},{key:"hasChild",value:function(e){var t=new Qp(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Ik(e,t){return(e=Xi(e))._checkNotDeleted("ref"),void 0!==t?Ck(e._root,t):e._root}function Tk(e,t){(e=Xi(e))._checkNotDeleted("refFromURL");var n=pk(t,e._repo.repoInfo_.nodeAdmin);Dg("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||ap("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ik(e,n.path.toString())}function Ck(e,t){var n,r,i,a;return null===Yp((e=Xi(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Rg(n,r,i,a)):Rg("child","path",t,!1),new Sk(e._repo,nv(e._path,t))}function Ak(e,t){e=Xi(e),Og("push",e._path),Tg("push",t,e._path,!0);var n,r=Wg(e._repo),i=Qv(r),a=Ck(e,i),o=Ck(e,i);return n=null!=t?Pk(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Nk(e){return Og("remove",e._path),Pk(e,null)}function Pk(e,t){e=Xi(e),Og("set",e._path),Tg("set",t,e._path,!1);var n=new yi;return Jg(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Rk(e,t){e=Xi(e),Og("setPriority",e._path),Ng("setPriority",t,!1);var n=new yi;return Jg(e._repo,nv(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ok(e,t,n){if(Og("setWithPriority",e._path),Tg("setWithPriority",t,e._path,!1),Ng("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new yi;return Jg(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Dk(e,t){Ag("update",t,e._path,!1);var n=new yi;return function(e,t,n,r){nk(e,"update",{path:t.toString(),value:n});var i=!0,a=Kg(e),o={};if(vp(n,(function(n,r){i=!1,o[n]=cg(nv(t,n),zv(r),e.serverSyncTree_,a)})),i)np("update() called with empty data.  Don't do anything."),rk(0,r,"ok",void 0);else{var s=$g(e),u=Uy(e.serverSyncTree_,t,o,s);Mg(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||op("update at "+t+" failed: "+n);var o=Vy(e.serverSyncTree_,s,!a),u=o.length>0?sk(e,t):t;jg(e.eventQueue_,u,o),rk(0,r,n,i)})),vp(n,(function(n){var r=hk(e,nv(t,n));sk(e,r)})),jg(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Lk=function(){function e(t){wr(this,e),this.callbackContext=t}return Sr(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new mk("value",this,new Ek(e.snapshotNode,new Sk(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new yk(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Mk=function(){function e(t,n){wr(this,e),this.eventType=t,this.callbackContext=n}return Sr(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new yk(this,e,t):null}},{key:"createEvent",value:function(e,t){ci(null!=e.childName,"Child events should have a childName.");var n=Ck(new Sk(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new mk(e.type,this,new Ek(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Fk(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){ek(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new gk(n,a||void 0),c="value"===t?new Lk(u):new Mk(t,u);return function(e,t,n){var r;r=".info"===Yp(t._path)?Ky(e.infoSyncTree_,t,n):Ky(e.serverSyncTree_,t,n),Fg(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ek(e._repo,e,c)}}function jk(e,t,n,r){return Fk(e,"value",t,n,r)}function Uk(e,t,n,r){return Fk(e,"child_added",t,n,r)}function Vk(e,t,n,r){return Fk(e,"child_changed",t,n,r)}function qk(e,t,n,r){return Fk(e,"child_moved",t,n,r)}function Bk(e,t,n,r){return Fk(e,"child_removed",t,n,r)}function zk(e,t,n){var r=null,i=n?new gk(n):null;"value"===t?r=new Lk(i):t&&(r=new Mk(t,i)),ek(e._repo,e,r)}var Wk=Sr((function e(){wr(this,e)})),Kk=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this))._value=e,i._key=r,i}return Sr(n,[{key:"_apply",value:function(e){Tg("endAt",this._value,e._path,!0);var t=om(e._queryParams,this._value,this._key);if(xk(t),wk(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bk(e._repo,e._path,t,e._orderByCalled)}}]),n}(Wk);function Hk(e,t){return Pg("endAt","key",t,!0),new Kk(e,t)}var Gk=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this))._value=e,i._key=r,i}return Sr(n,[{key:"_apply",value:function(e){Tg("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===gv?("string"===typeof t&&(t=Yv(t)),r=om(e,t,n)):r=om(e,t,null==n?up:Yv(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(xk(t),wk(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bk(e._repo,e._path,t,e._orderByCalled)}}]),n}(Wk);function Qk(e,t){return Pg("endBefore","key",t,!0),new Gk(e,t)}var $k=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this))._value=e,i._key=r,i}return Sr(n,[{key:"_apply",value:function(e){Tg("startAt",this._value,e._path,!0);var t=am(e._queryParams,this._value,this._key);if(xk(t),wk(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bk(e._repo,e._path,t,e._orderByCalled)}}]),n}(Wk);function Yk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Pg("startAt","key",t,!0),new $k(e,t)}var Jk=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this))._value=e,i._key=r,i}return Sr(n,[{key:"_apply",value:function(e){Tg("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===gv?("string"===typeof t&&(t=$v(t)),r=am(e,t,n)):r=am(e,t,null==n?cp:$v(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(xk(t),wk(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bk(e._repo,e._path,t,e._orderByCalled)}}]),n}(Wk);function Xk(e,t){return Pg("startAfter","key",t,!0),new Jk(e,t)}var Zk=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this))._limit=e,r}return Sr(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bk(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Wk);function eb(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zk(e)}var tb=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this))._limit=e,r}return Sr(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bk(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Wk);function nb(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tb(e)}var rb=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this))._path=e,r}return Sr(n,[{key:"_apply",value:function(e){_k(e,"orderByChild");var t=new Qp(this._path);if(rv(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Wv(t),r=sm(e._queryParams,n);return wk(r),new bk(e._repo,e._path,r,!0)}}]),n}(Wk);function ib(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rg("orderByChild","path",e,!1),new rb(e)}var ab=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"_apply",value:function(e){_k(e,"orderByKey");var t=sm(e._queryParams,gv);return wk(t),new bk(e._repo,e._path,t,!0)}}]),n}(Wk);function ob(){return new ab}var sb=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"_apply",value:function(e){_k(e,"orderByPriority");var t=sm(e._queryParams,Lv);return wk(t),new bk(e._repo,e._path,t,!0)}}]),n}(Wk);function ub(){return new sb}var cb=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"_apply",value:function(e){_k(e,"orderByValue");var t=sm(e._queryParams,Hv);return wk(t),new bk(e._repo,e._path,t,!0)}}]),n}(Wk);function lb(){return new cb}var fb=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this))._value=e,i._key=r,i}return Sr(n,[{key:"_apply",value:function(e){if(Tg("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Kk(this._value,this._key)._apply(new $k(this._value,this._key)._apply(e))}}]),n}(Wk);function hb(e,t){return Pg("equalTo","key",t,!0),new fb(e,t)}function db(e){for(var t=Xi(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){ci(!yy,"__referenceConstructor has already been defined"),yy=e}(Sk),function(e){ci(!Sy,"__referenceConstructor has already been defined"),Sy=e}(Sk);var pb={},vb=!1;function mb(e,t,n,r){e.repoInfo_=new Np("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function yb(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||ap("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),np("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=pk(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=pk(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Ep(Ep.OWNER):new Sp(e.name,e.options,t);Dg("Invalid Firebase Database URL",s),rv(s.path)||ap("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=pb[t.name];i||(i={},pb[t.name]=i);var a=i[e.toURLString()];a&&ap("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Bg(e,vb,n,r),i[e.toURLString()]=a,a}(u,e,l,new xp(e.name,n));return new gb(f,e)}var gb=function(){function e(t,n){wr(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Sr(e,[{key:"_repo",get:function(){return this._instanceStarted||(zg(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Sk(this._repo,$p())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=pb[t];n&&n[e.key]===e||ap("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),tk(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&ap("Cannot call "+e+" on a deleted database.")}}]),e}();function kb(){zp.IS_TRANSPORT_INITIALIZED&&op("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function bb(){kb(),Up.forceDisallow()}function _b(){kb(),Bp.forceDisallow(),Up.forceAllow()}function wb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Xi(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ap("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ap('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ep(Ep.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:gi(r.mockUserToken,e.app.options.projectId);a=new Ep(o)}mb(i,t,n,a)}function xb(e){(e=Xi(e))._checkNotDeleted("goOffline"),tk(e._repo)}function Sb(e){var t;(e=Xi(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(qg)}function Eb(e,t){tp(e,t)}var Ib={".sv":"timestamp"};var Tb=function(){function e(t,n){wr(this,e),this.committed=t,this.snapshot=n}return Sr(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function Cb(e,t,n){var r;if(e=Xi(e),Og("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new yi,o=jk(e,(function(){}));return function(e,t,n,r,i,a){nk(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Yd(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=ik(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Cg("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=dg(e.transactionQueueTree_,t),f=pg(l)||[];f.push(o),vg(l,f),"object"===typeof u&&null!==u&&Di(u,".priority")?(c=Li(u,".priority"),ci(Ig(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Hy(e.serverSyncTree_,t)||qv.EMPTY_NODE).getPriority().val();var h=Kg(e),d=zv(u,c),p=lg(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=$g(e);var v=jy(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);jg(e.eventQueue_,t,v),ak(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Ek(r,new Sk(e._repo,e._path),Lv),a.resolve(new Tb(n,i)))}),o,i),a.promise}dv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},dv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){zd(Ga),Va(new Zi("database",(function(e,t){var n=t.instanceIdentifier;return yb(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Za(Vd,qd,e),Za(Vd,qd,"esm2017")}();var Ab=new la("@firebase/database-compat"),Nb=function(e){var t="FIREBASE WARNING: "+e;Ab.warn(t)},Pb=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Qi(e,t)+"must be a boolean.")},Rb=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Qi(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ob=function(){function e(t){wr(this,e),this._delegate=t}return Sr(e,[{key:"cancel",value:function(e){Gi("OnDisconnect.cancel",0,1,arguments.length),$i("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Gi("OnDisconnect.remove",0,1,arguments.length),$i("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Gi("OnDisconnect.set",1,2,arguments.length),$i("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Gi("OnDisconnect.setWithPriority",2,3,arguments.length),$i("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Gi("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Nb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$i("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),Db=function(){function e(t,n){wr(this,e),this.committed=t,this.snapshot=n}return Sr(e,[{key:"toJSON",value:function(){return Gi("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),Lb=function(){function e(t,n){wr(this,e),this._database=t,this._delegate=n}return Sr(e,[{key:"val",value:function(){return Gi("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Gi("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Gi("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Gi("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Gi("DataSnapshot.child",0,1,arguments.length),t=String(t),Rg("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Gi("DataSnapshot.hasChild",1,1,arguments.length),Rg("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Gi("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Gi("DataSnapshot.forEach",1,1,arguments.length),$i("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Gi("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Gi("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Gi("DataSnapshot.ref",0,0,arguments.length),new Fb(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),Mb=function(){function e(t,n){wr(this,e),this.database=t,this._delegate=n}return Sr(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Gi("Query.on",2,4,arguments.length),$i("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new Lb(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return jk(this._delegate,u,c),n;case"child_added":return Uk(this._delegate,u,c),n;case"child_removed":return Bk(this._delegate,u,c),n;case"child_changed":return Vk(this._delegate,u,c),n;case"child_moved":return qk(this._delegate,u,c),n;default:throw new Error(Qi("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Gi("Query.off",0,3,arguments.length),Rb("Query.off",e,!0),$i("Query.off","callback",t,!0),Yi("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,zk(this._delegate,e,r)}else zk(this._delegate,e)}},{key:"get",value:function(){var e=this;return function(e){return Yg((e=Xi(e))._repo,e).then((function(t){return new Ek(t,new Sk(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new Lb(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Gi("Query.once",1,4,arguments.length),$i("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new yi,u=function(e,t){var r=new Lb(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":jk(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Uk(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Bk(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Vk(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":qk(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Qi("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Gi("Query.limitToFirst",1,1,arguments.length),new e(this.database,db(this._delegate,eb(t)))}},{key:"limitToLast",value:function(t){return Gi("Query.limitToLast",1,1,arguments.length),new e(this.database,db(this._delegate,nb(t)))}},{key:"orderByChild",value:function(t){return Gi("Query.orderByChild",1,1,arguments.length),new e(this.database,db(this._delegate,ib(t)))}},{key:"orderByKey",value:function(){return Gi("Query.orderByKey",0,0,arguments.length),new e(this.database,db(this._delegate,ob()))}},{key:"orderByPriority",value:function(){return Gi("Query.orderByPriority",0,0,arguments.length),new e(this.database,db(this._delegate,ub()))}},{key:"orderByValue",value:function(){return Gi("Query.orderByValue",0,0,arguments.length),new e(this.database,db(this._delegate,lb()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Gi("Query.startAt",0,2,arguments.length),new e(this.database,db(this._delegate,Yk(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Gi("Query.startAfter",0,2,arguments.length),new e(this.database,db(this._delegate,Xk(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Gi("Query.endAt",0,2,arguments.length),new e(this.database,db(this._delegate,Hk(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Gi("Query.endBefore",0,2,arguments.length),new e(this.database,db(this._delegate,Qk(t,n)))}},{key:"equalTo",value:function(t,n){return Gi("Query.equalTo",1,2,arguments.length),new e(this.database,db(this._delegate,hb(t,n)))}},{key:"toString",value:function(){return Gi("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Gi("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Gi("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new Fb(this.database,new Sk(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,$i(e,"cancel",r.cancel,!0),r.context=n,Yi(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Qi(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),Fb=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,new bk(r._repo,r._path,new im,!1))).database=e,i._delegate=r,i}return Sr(n,[{key:"getKey",value:function(){return Gi("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Gi("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Ck(this._delegate,e))}},{key:"getParent",value:function(){Gi("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Gi("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Gi("Reference.set",1,2,arguments.length),$i("Reference.set","onComplete",t,!0);var n=Pk(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Gi("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Nb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Og("Reference.update",this._delegate._path),$i("Reference.update","onComplete",t,!0);var i=Dk(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Gi("Reference.setWithPriority",2,3,arguments.length),$i("Reference.setWithPriority","onComplete",n,!0);var r=Ok(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Gi("Reference.remove",0,1,arguments.length),$i("Reference.remove","onComplete",e,!0);var t=Nk(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Gi("Reference.transaction",1,3,arguments.length),$i("Reference.transaction","transactionUpdate",e,!1),$i("Reference.transaction","onComplete",t,!0),Pb("Reference.transaction","applyLocally",n,!0);var i=Cb(this._delegate,e,{applyLocally:n}).then((function(e){return new Db(e.committed,new Lb(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Gi("Reference.setPriority",1,2,arguments.length),$i("Reference.setPriority","onComplete",t,!0);var n=Rk(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Gi("Reference.push",0,2,arguments.length),$i("Reference.push","onComplete",t,!0);var i=Ak(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Og("Reference.onDisconnect",this._delegate._path),new Ob(new kk(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(Mb),jb=function(){function e(t,n){var r=this;wr(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:bb,forceLongPolling:_b}}return Sr(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wb(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Gi("database.ref",0,1,arguments.length),e instanceof Fb){var t=Tk(this._delegate,e.toString());return new Fb(this,t)}var n=Ik(this._delegate,e);return new Fb(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Gi(t,1,1,arguments.length);var n=Tk(this._delegate,e);return new Fb(this,n)}},{key:"goOffline",value:function(){return Gi("database.goOffline",0,0,arguments.length),xb(this._delegate)}},{key:"goOnline",value:function(){return Gi("database.goOnline",0,0,arguments.length),Sb(this._delegate)}}]),e}();jb.ServerValue={TIMESTAMP:Ib,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var Ub=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;zd(r);var u=new ta("auth-internal",new ia("database-standalone"));return u.setComponent(new Zi("auth-internal",(function(){return i}),"PRIVATE")),{instance:new jb(yb(t,u,void 0,n,s),t),namespace:a}}}),Vb=jb.ServerValue;!function(e){e.INTERNAL.registerComponent(new Zi("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new jb(i,r)}),"PUBLIC").setServiceProps({Reference:Fb,Query:Mb,Database:jb,DataSnapshot:Lb,enableLogging:Eb,INTERNAL:Ub,ServerValue:Vb}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.4")}(So);var qb,Bb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:{},zb={},Wb=Wb||{},Kb=Bb||self;function Hb(){}function Gb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $b="closure_uid_"+(1e9*Math.random()>>>0),Yb=0;function Jb(e,t,n){return e.call.apply(e.bind,arguments)}function Xb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zb(e,t,n){return(Zb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jb:Xb).apply(null,arguments)}function e_(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function t_(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n_(){this.s=this.s,this.o=this.o}var r_={};n_.prototype.s=!1,n_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$b)&&e[$b]||(e[$b]=++Yb)}(this);delete r_[e]}},n_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var i_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},a_=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function o_(e){return Array.prototype.concat.apply([],arguments)}function s_(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function u_(e){return/^[\s\xa0]*$/.test(e)}var c_,l_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function f_(e,t){return-1!=e.indexOf(t)}function h_(e,t){return e<t?-1:e>t?1:0}e:{var d_=Kb.navigator;if(d_){var p_=d_.userAgent;if(p_){c_=p_;break e}}c_=""}function v_(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function m_(e){var t={};for(var n in e)t[n]=e[n];return t}var y_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g_(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<y_.length;a++)n=y_[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k_(e){return k_[" "](e),e}k_[" "]=Hb;var b_,__=f_(c_,"Opera"),w_=f_(c_,"Trident")||f_(c_,"MSIE"),x_=f_(c_,"Edge"),S_=x_||w_,E_=f_(c_,"Gecko")&&!(f_(c_.toLowerCase(),"webkit")&&!f_(c_,"Edge"))&&!(f_(c_,"Trident")||f_(c_,"MSIE"))&&!f_(c_,"Edge"),I_=f_(c_.toLowerCase(),"webkit")&&!f_(c_,"Edge");function T_(){var e=Kb.document;return e?e.documentMode:void 0}e:{var C_="",A_=function(){var e=c_;return E_?/rv:([^\);]+)(\)|;)/.exec(e):x_?/Edge\/([\d\.]+)/.exec(e):w_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):I_?/WebKit\/(\S+)/.exec(e):__?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(A_&&(C_=A_?A_[1]:""),w_){var N_=T_();if(null!=N_&&N_>parseFloat(C_)){b_=String(N_);break e}}b_=C_}var P_,R_={};function O_(){return function(e){var t=R_;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=l_(String(b_)).split("."),n=l_("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=h_(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||h_(0==a[2].length,0==o[2].length)||h_(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Kb.document&&w_){var D_=T_();P_=D_||(parseInt(b_,10)||void 0)}else P_=void 0;var L_=P_,M_=function(){if(!Kb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Kb.addEventListener("test",Hb,t),Kb.removeEventListener("test",Hb,t)}catch(n){}return e}();function F_(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function j_(e,t){if(F_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(E_){e:{try{k_(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:U_[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j_.Z.h.call(this)}}F_.prototype.h=function(){this.defaultPrevented=!0},t_(j_,F_);var U_={2:"touch",3:"pen",4:"mouse"};j_.prototype.h=function(){j_.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var V_="closure_listenable_"+(1e6*Math.random()|0),q_=0;function B_(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++q_,this.ca=this.fa=!1}function z_(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function W_(e){this.src=e,this.g={},this.h=0}function K_(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=i_(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(z_(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H_(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}W_.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H_(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B_(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var G_="closure_lm_"+(1e6*Math.random()|0),Q_={};function $_(e,t,n,r,i){if(r&&r.once)return J_(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)$_(e,t[a],n,r,i);return null}return n=iw(n),e&&e[V_]?e.N(t,n,Qb(r)?!!r.capture:!!r,i):Y_(e,t,n,!1,r,i)}function Y_(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qb(i)?!!i.capture:!!i,s=nw(e);if(s||(e[G_]=s=new W_(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M_||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ew(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J_(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)J_(e,t[a],n,r,i);return null}return n=iw(n),e&&e[V_]?e.O(t,n,Qb(r)?!!r.capture:!!r,i):Y_(e,t,n,!0,r,i)}function X_(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)X_(e,t[a],n,r,i);else r=Qb(r)?!!r.capture:!!r,n=iw(n),e&&e[V_]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H_(a=e.g[t],n,r,i))&&(z_(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H_(t,n,r,i)),(n=-1<e?t[e]:null)&&Z_(n))}function Z_(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[V_])K_(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ew(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nw(t))?(K_(n,e),0==n.h&&(n.src=null,t[G_]=null)):z_(e)}}}function ew(e){return e in Q_?Q_[e]:Q_[e]="on"+e}function tw(e,t){if(e.ca)e=!0;else{t=new j_(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Z_(e),e=n.call(r,t)}return e}function nw(e){return(e=e[G_])instanceof W_?e:null}var rw="__closure_events_fn_"+(1e9*Math.random()>>>0);function iw(e){return"function"===typeof e?e:(e[rw]||(e[rw]=function(t){return e.handleEvent(t)}),e[rw])}function aw(){n_.call(this),this.i=new W_(this),this.P=this,this.I=null}function ow(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new F_(t,e);else if(t instanceof F_)t.target=t.target||e;else{var i=t;g_(t=new F_(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=sw(o,r,!0,t)&&i}if(i=sw(o=t.g=e,r,!0,t)&&i,i=sw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=sw(o=t.g=n[a],r,!1,t)&&i}function sw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&K_(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}t_(aw,n_),aw.prototype[V_]=!0,aw.prototype.removeEventListener=function(e,t,n,r){X_(this,e,t,n,r)},aw.prototype.M=function(){if(aw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z_(n[r]);delete t.g[e],t.h--}}this.I=null},aw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},aw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uw=Kb.JSON.stringify;function cw(){var e=yw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lw,fw=function(){function e(){wr(this,e),this.h=this.g=null}return Sr(e,[{key:"add",value:function(e,t){var n=hw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hw=new(function(){function e(t,n){wr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Sr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new dw}),(function(e){return e.reset()})),dw=function(){function e(){wr(this,e),this.next=this.g=this.h=null}return Sr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pw(e){Kb.setTimeout((function(){throw e}),0)}function vw(e,t){lw||function(){var e=Kb.Promise.resolve(void 0);lw=function(){e.then(gw)}}(),mw||(lw(),mw=!0),yw.add(e,t)}var mw=!1,yw=new fw;function gw(){for(var e;e=cw();){try{e.h.call(e.g)}catch(n){pw(n)}var t=hw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mw=!1}function kw(e,t){aw.call(this),this.h=e||1,this.g=t||Kb,this.j=Zb(this.kb,this),this.l=Date.now()}function bw(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function _w(e,t,n){if("function"===typeof e)n&&(e=Zb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zb(e.handleEvent,e)}return 2147483647<Number(t)?-1:Kb.setTimeout(e,t||0)}function ww(e){e.g=_w((function(){e.g=null,e.i&&(e.i=!1,ww(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}t_(kw,aw),(qb=kw.prototype).da=!1,qb.S=null,qb.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ow(this,"tick"),this.da&&(bw(this),this.start()))}},qb.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qb.M=function(){kw.Z.M.call(this),bw(this),delete this.g};var xw=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Sr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ww(this)}},{key:"M",value:function(){Io(ei(n.prototype),"M",this).call(this),this.g&&(Kb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(n_);function Sw(e){n_.call(this),this.h=e,this.g={}}t_(Sw,n_);var Ew=[];function Iw(e,t,n,r){Array.isArray(n)||(n&&(Ew[0]=n.toString()),n=Ew);for(var i=0;i<n.length;i++){var a=$_(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Tw(e){v_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Z_(e)}),e),e.g={}}function Cw(){this.g=!0}function Aw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uw(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Sw.prototype.M=function(){Sw.Z.M.call(this),Tw(this)},Sw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cw.prototype.Aa=function(){this.g=!1},Cw.prototype.info=function(){};var Nw={},Pw=null;function Rw(){return Pw=Pw||new aw}function Ow(e){F_.call(this,Nw.Ma,e)}function Dw(e){var t=Rw();ow(t,new Ow(t,e))}function Lw(e,t){F_.call(this,Nw.STAT_EVENT,e),this.stat=t}function Mw(e){var t=Rw();ow(t,new Lw(t,e))}function Fw(e,t){F_.call(this,Nw.Na,e),this.size=t}function jw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Kb.setTimeout((function(){e()}),t)}Nw.Ma="serverreachability",t_(Ow,F_),Nw.STAT_EVENT="statevent",t_(Lw,F_),Nw.Na="timingevent",t_(Fw,F_);var Uw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qw(){}function Bw(e){return e.h||(e.h=e.i())}function zw(){}qw.prototype.h=null;var Ww,Kw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hw(){F_.call(this,"d")}function Gw(){F_.call(this,"c")}function Qw(){}function $w(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Sw(this),this.P=Jw,e=S_?125:void 0,this.W=new kw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yw}function Yw(){this.i=null,this.g="",this.h=!1}t_(Hw,F_),t_(Gw,F_),t_(Qw,qw),Qw.prototype.g=function(){return new XMLHttpRequest},Qw.prototype.i=function(){return{}},Ww=new Qw;var Jw=45e3,Xw={},Zw={};function ex(e,t,n){e.K=1,e.v=xx(yx(t)),e.s=n,e.U=!0,tx(e,null)}function tx(e,t){e.F=Date.now(),ax(e),e.A=yx(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yw,e.g=jS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new xw(Zb(e.Ia,e,e.g),e.O)),Iw(e.V,e.g,"readystatechange",e.gb),t=e.H?m_(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Dw(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function nx(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function rx(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ix(e,n))==Zw){4==t&&(e.o=4,Mw(14),i=!1),Aw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xw){e.o=4,Mw(15),Aw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Aw(e.j,e.m,r,null),lx(e,r)}nx(e)&&r!=Zw&&r!=Xw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Mw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),NS(t),t.L=!0,Mw(11))):(Aw(e.j,e.m,n,"[Invalid Chunked Response]"),cx(e),ux(e))}function ix(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zw:(n=Number(t.substring(n,r)),isNaN(n)?Xw:(r+=1)+n>t.length?Zw:(t=t.substr(r,n),e.C=r+n,t))}function ax(e){e.Y=Date.now()+e.P,ox(e,e.P)}function ox(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=jw(Zb(e.eb,e),t)}function sx(e){e.B&&(Kb.clearTimeout(e.B),e.B=null)}function ux(e){0==e.l.G||e.I||OS(e.l,e)}function cx(e){sx(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bw(e.W),Tw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lx(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wx(n.i,e)))if(n.I=e.N,!e.J&&Wx(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;RS(n),_S(n)}AS(n),Mw(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=jw(Zb(n.ab,n),6e3));if(1>=zx(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else LS(n,11)}else if((e.J||n.g==e)&&RS(n),!u_(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(f_(l,"spdy")||f_(l,"quic")||f_(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Kx(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,wx(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=FS(r,r.H?r.la:null,r.W),d.J){Hx(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(sx(p),ax(p)),r.g=d}else CS(r);0<n.l.length&&SS(n)}else"stop"!=a[0]&&"close"!=a[0]||LS(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?LS(n,7):bS(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Dw(4)}catch(a){}}function fx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gb(e)||"string"===typeof e)a_(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gb(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function hx(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hx)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];px(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)px(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function px(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(qb=$w.prototype).setTimeout=function(e){this.P=e},qb.gb=function(e){e=e.target;var t=this.L;t&&3==vS(e)?t.l():this.Ia(e)},qb.Ia=function(e){try{if(e==this.g)e:{var t=vS(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||S_||this.g&&(this.h.h||this.g.ga()||mS(this.g)))){this.I||4!=t||7==n||Dw(8==n||0>=r?3:2),sx(this);var i=this.g.ba();this.N=i;t:if(nx(this)){var a=mS(this.g);e="";var o=a.length,s=4==vS(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cx(this),ux(this);var u="";break t}this.h.i=new Kb.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u_(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Mw(12),cx(this),ux(this);break e}Aw(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lx(this,i)}this.U?(rx(this,t,u),S_&&this.i&&3==t&&(Iw(this.V,this.W,"tick",this.fb),this.W.start())):(Aw(this.j,this.m,u,null),lx(this,u)),4==t&&cx(this),this.i&&!this.I&&(4==t?OS(this.l,this):(this.i=!1,ax(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Mw(12)):(this.o=0,Mw(13)),cx(this),ux(this)}}}catch(t){}},qb.fb=function(){if(this.g){var e=vS(this.g),t=this.g.ga();this.C<t.length&&(sx(this),rx(this,e,t),this.i&&4!=e&&ax(this))}},qb.cancel=function(){this.I=!0,cx(this)},qb.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Dw(3),Mw(17)),cx(this),this.o=2,ux(this)):ox(this,this.Y-e)},(qb=hx.prototype).R=function(){dx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},qb.T=function(){return dx(this),this.g.concat()},qb.get=function(e,t){return px(this.h,e)?this.h[e]:t},qb.set=function(e,t){px(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},qb.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var vx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mx(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mx){this.g=void 0!==t?t:e.g,gx(this,e.j),this.s=e.s,kx(this,e.i),bx(this,e.m),this.l=e.l,t=e.h;var n=new Rx;n.i=t.i,t.g&&(n.g=new hx(t.g),n.h=t.h),_x(this,n),this.o=e.o}else e&&(n=String(e).match(vx))?(this.g=!!t,gx(this,n[1]||"",!0),this.s=Sx(n[2]||""),kx(this,n[3]||"",!0),bx(this,n[4]),this.l=Sx(n[5]||"",!0),_x(this,n[6]||"",!0),this.o=Sx(n[7]||"")):(this.g=!!t,this.h=new Rx(null,this.g))}function yx(e){return new mx(e)}function gx(e,t,n){e.j=n?Sx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kx(e,t,n){e.i=n?Sx(t,!0):t}function bx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _x(e,t,n){t instanceof Rx?(e.h=t,function(e,t){t&&!e.j&&(Ox(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dx(this,t),Mx(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ex(t,Nx)),e.h=new Rx(t,e.g))}function wx(e,t,n){e.h.set(t,n)}function xx(e){return wx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ex(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ix),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ix(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ex(t,Tx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ex(t,Tx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ex(n,"/"==n.charAt(0)?Ax:Cx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ex(n,Px)),e.join("")};var Tx=/[#\/\?@]/g,Cx=/[#\?:]/g,Ax=/[#\?]/g,Nx=/[#\?@]/g,Px=/#/g;function Rx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ox(e){e.g||(e.g=new hx,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dx(e,t){Ox(e),t=Fx(e,t),px(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,px((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dx(e)))}function Lx(e,t){return Ox(e),t=Fx(e,t),px(e.g.h,t)}function Mx(e,t,n){Dx(e,t),0<n.length&&(e.i=null,e.g.set(Fx(e,t),s_(n)),e.h+=n.length)}function Fx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qb=Rx.prototype).add=function(e,t){Ox(this),this.i=null,e=Fx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qb.forEach=function(e,t){Ox(this),this.g.forEach((function(n,r){a_(n,(function(n){e.call(t,n,r,this)}),this)}),this)},qb.T=function(){Ox(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qb.R=function(e){Ox(this);var t=[];if("string"===typeof e)Lx(this,e)&&(t=o_(t,this.g.get(Fx(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=o_(t,e[n])}return t},qb.set=function(e,t){return Ox(this),this.i=null,Lx(this,e=Fx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qb.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},qb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var jx=Sr((function e(t,n){wr(this,e),this.h=t,this.g=n}));function Ux(e){this.l=e||qx,Kb.PerformanceNavigationTiming?e=0<(e=Kb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Kb.g&&Kb.g.Ea&&Kb.g.Ea()&&Kb.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vx,qx=10;function Bx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zx(e){return e.h?1:e.g?e.g.size:0}function Wx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Kx(e,t){e.g?e.g.add(t):e.h=t}function Hx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gx(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Yr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return s_(e.i)}function Qx(){}function $x(){this.g=new Qx}function Yx(e,t,n){var r=n||"";try{fx(e,(function(e,n){var i=e;Qb(e)&&(i=uw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xx(e){this.l=e.$b||null,this.j=e.ib||!1}function Zx(e,t){aw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ux.prototype.cancel=function(){if(this.i=Gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Yr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qx.prototype.stringify=function(e){return Kb.JSON.stringify(e,void 0)},Qx.prototype.parse=function(e){return Kb.JSON.parse(e,void 0)},t_(Xx,qw),Xx.prototype.g=function(){return new Zx(this.l,this.j)},Xx.prototype.i=(Vx={},function(){return Vx}),t_(Zx,aw);var eS=0;function tS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function nS(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rS(e)}function rS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qb=Zx.prototype).open=function(e,t){if(this.readyState!=eS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rS(this)},qb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Kb).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},qb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nS(this)),this.readyState=eS},qb.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rS(this)),this.g&&(this.readyState=3,rS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Kb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},qb.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nS(this):rS(this),3==this.readyState&&tS(this)}},qb.Ua=function(e){this.g&&(this.response=this.responseText=e,nS(this))},qb.Ta=function(e){this.g&&(this.response=e,nS(this))},qb.ha=function(){this.g&&nS(this)},qb.setRequestHeader=function(e,t){this.v.append(e,t)},qb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var iS=Kb.JSON.parse;function aS(e){aw.call(this),this.headers=new hx,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oS,this.K=this.L=!1}t_(aS,aw);var oS="",sS=/^https?$/i,uS=["POST","PUT"];function cS(e){return"content-type"==e.toLowerCase()}function lS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fS(e),dS(e)}function fS(e){e.D||(e.D=!0,ow(e,"complete"),ow(e,"error"))}function hS(e){if(e.h&&"undefined"!=typeof Wb&&(!e.C[1]||4!=vS(e)||2!=e.ba()))if(e.v&&4==vS(e))_w(e.Fa,0,e);else if(ow(e,"readystatechange"),4==vS(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(vx)[1]||null;if(!a&&Kb.self&&Kb.self.location){var o=Kb.self.location.protocol;a=o.substr(0,o.length-1)}i=!sS.test(a?a.toLowerCase():"")}t=i}if(t)ow(e,"complete"),ow(e,"success");else{e.m=6;try{var s=2<vS(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",fS(e)}}finally{dS(e)}}}function dS(e,t){if(e.g){pS(e);var n=e.g,r=e.C[0]?Hb:null;e.g=null,e.C=null,t||ow(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Kb.clearTimeout(e.A),e.A=null)}function vS(e){return e.g?e.g.readyState:0}function mS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case oS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ft){return null}}function yS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return v_(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wx(e,t,n))}function gS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kS(e){this.za=0,this.l=[],this.h=new Cw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gS("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gS("baseRetryDelayMs",5e3,e),this.$a=gS("retryDelaySeedMs",1e4,e),this.Ya=gS("forwardChannelMaxRetries",2,e),this.ra=gS("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ux(e&&e.concurrentRequestLimit),this.Ca=new $x,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function bS(e){if(wS(e),3==e.G){var t=e.V++,n=yx(e.F);wx(n,"SID",e.J),wx(n,"RID",t),wx(n,"TYPE","terminate"),IS(e,n),(t=new $w(e,e.h,t,void 0)).K=2,t.v=xx(yx(n)),n=!1,Kb.navigator&&Kb.navigator.sendBeacon&&(n=Kb.navigator.sendBeacon(t.v.toString(),"")),!n&&Kb.Image&&((new Image).src=t.v,n=!0),n||(t.g=jS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ax(t)}MS(e)}function _S(e){e.g&&(NS(e),e.g.cancel(),e.g=null)}function wS(e){_S(e),e.u&&(Kb.clearTimeout(e.u),e.u=null),RS(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Kb.clearTimeout(e.m),e.m=null)}function xS(e,t){e.l.push(new jx(e.Za++,t)),3==e.G&&SS(e)}function SS(e){Bx(e.i)||e.m||(e.m=!0,vw(e.Ha,e),e.C=0)}function ES(e,t){var n;n=t?t.m:e.V++;var r=yx(e.F);wx(r,"SID",e.J),wx(r,"RID",n),wx(r,"AID",e.U),IS(e,r),e.o&&e.s&&yS(r,e.o,e.s),n=new $w(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=TS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Kx(e.i,n),ex(n,r,t)}function IS(e,t){e.j&&fx({},(function(e,n){wx(t,n,e)}))}function TS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zb(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Yx(l,o,"req"+c+"_")}catch(Et){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function CS(e){e.g||e.u||(e.Y=1,vw(e.Ga,e),e.A=0)}function AS(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=jw(Zb(e.Ga,e),DS(e,e.A)),e.A++,!0)}function NS(e){null!=e.B&&(Kb.clearTimeout(e.B),e.B=null)}function PS(e){e.g=new $w(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yx(e.oa);wx(t,"RID","rpc"),wx(t,"SID",e.J),wx(t,"CI",e.N?"0":"1"),wx(t,"AID",e.U),IS(e,t),wx(t,"TYPE","xmlhttp"),e.o&&e.s&&yS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=xx(yx(t)),n.s=null,n.U=!0,tx(n,e)}function RS(e){null!=e.v&&(Kb.clearTimeout(e.v),e.v=null)}function OS(e,t){var n=null;if(e.g==t){RS(e),NS(e),e.g=null;var r=2}else{if(!Wx(e.i,t))return;n=t.D,Hx(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ow(r=Rw(),new Fw(r,n,t,i)),SS(e)}else CS(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zx(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=jw(Zb(e.Ha,e,t),DS(e,e.C)),e.C++,!0))}(e,t)||2==r&&AS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:LS(e,5);break;case 4:LS(e,10);break;case 3:LS(e,6);break;default:LS(e,2)}}function DS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function LS(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zb(e.jb,e);n||(n=new mx("//www.google.com/images/cleardot.gif"),Kb.location&&"http"==Kb.location.protocol||gx(n,"https"),xx(n)),function(e,t){var n=new Cw;if(Kb.Image){var r=new Image;r.onload=e_(Jx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=e_(Jx,n,r,"TestLoadImage: error",!1,t),r.onabort=e_(Jx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=e_(Jx,n,r,"TestLoadImage: timeout",!1,t),Kb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mw(2);e.G=0,e.j&&e.j.va(t),MS(e),wS(e)}function MS(e){e.G=0,e.I=-1,e.j&&(0==Gx(e.i).length&&0==e.l.length||(e.i.i.length=0,s_(e.l),e.l.length=0),e.j.ua())}function FS(e,t,n){var r=function(e){return e instanceof mx?yx(e):new mx(e,void 0)}(n);if(""!=r.i)t&&kx(r,t+"."+r.i),bx(r,r.m);else{var i=Kb.location;r=function(e,t,n,r){var i=new mx(null,void 0);return e&&gx(i,e),t&&kx(i,t),n&&bx(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&v_(e.aa,(function(e,t){wx(r,t,e)})),t=e.D,n=e.sa,t&&n&&wx(r,t,n),wx(r,"VER",e.ma),IS(e,r),r}function jS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new aS(new Xx({ib:!0})):new aS(e.qa)).L=e.H,t}function US(){}function VS(){if(w_&&!(10<=Number(L_)))throw Error("Environmental error: no available transport.")}function qS(e,t){aw.call(this),this.g=new kS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!u_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!u_(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new WS(this)}function BS(e){Hw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zS(){Gw.call(this),this.status=1}function WS(e){this.g=e}(qb=aS.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ww.g(),this.C=this.u?Bw(this.u):Bw(Ww),this.g.onreadystatechange=Zb(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void lS(this,a)}e=n||"";var i=new hx(this.headers);r&&fx(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=cS,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Kb.FormData&&e instanceof Kb.FormData,!(0<=i_(uS,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pS(this),0<this.B&&((this.K=function(e){return w_&&O_()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zb(this.pa,this)):this.A=_w(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){lS(this,a)}},qb.pa=function(){"undefined"!=typeof Wb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ow(this,"timeout"),this.abort(8))},qb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ow(this,"complete"),ow(this,"abort"),dS(this))},qb.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dS(this,!0)),aS.Z.M.call(this)},qb.Fa=function(){this.s||(this.F||this.v||this.l?hS(this):this.cb())},qb.cb=function(){hS(this)},qb.ba=function(){try{return 2<vS(this)?this.g.status:-1}catch(Vx){return-1}},qb.ga=function(){try{return this.g?this.g.responseText:""}catch(Vx){return""}},qb.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),iS(t)}},qb.Da=function(){return this.m},qb.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(qb=kS.prototype).ma=8,qb.G=1,qb.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ft){}},qb.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $w(this,this.h,e,void 0),n=this.s;if(this.P&&(n?g_(n=m_(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=TS(this,t,r),wx(i=yx(this.F),"RID",e),wx(i,"CVER",22),this.D&&wx(i,"X-HTTP-Session-Id",this.D),IS(this,i),this.o&&n&&yS(i,this.o,n),Kx(this.i,t),this.Ra&&wx(i,"TYPE","init"),this.ja?(wx(i,"$req",r),wx(i,"SID","null"),t.$=!0,ex(t,i,null)):ex(t,i,r),this.G=2}}else 3==this.G&&(e?ES(this,e):0==this.l.length||Bx(this.i)||ES(this))},qb.Ga=function(){if(this.u=null,PS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=jw(Zb(this.bb,this),e)}},qb.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mw(10),_S(this),PS(this))},qb.ab=function(){null!=this.v&&(this.v=null,_S(this),AS(this),Mw(19))},qb.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Mw(2)):(this.h.info("Failed to ping google.com"),Mw(1))},(qb=US.prototype).xa=function(){},qb.wa=function(){},qb.va=function(){},qb.ua=function(){},qb.Oa=function(){},VS.prototype.g=function(e,t){return new qS(e,t)},t_(qS,aw),qS.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vw(Zb(e.hb,e,t))),Mw(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=FS(e,null,e.W),SS(e)},qS.prototype.close=function(){bS(this.g)},qS.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,xS(this.g,t)}else this.v?((t={}).__data__=uw(e),xS(this.g,t)):xS(this.g,e)},qS.prototype.M=function(){this.g.j=null,delete this.j,bS(this.g),delete this.g,qS.Z.M.call(this)},t_(BS,Hw),t_(zS,Gw),t_(WS,US),WS.prototype.xa=function(){ow(this.g,"a")},WS.prototype.wa=function(e){ow(this.g,new BS(e))},WS.prototype.va=function(e){ow(this.g,new zS(e))},WS.prototype.ua=function(){ow(this.g,"b")},VS.prototype.createWebChannel=VS.prototype.g,qS.prototype.send=qS.prototype.u,qS.prototype.open=qS.prototype.m,qS.prototype.close=qS.prototype.close,Uw.NO_ERROR=0,Uw.TIMEOUT=8,Uw.HTTP_ERROR=6,Vw.COMPLETE="complete",zw.EventType=Kw,Kw.OPEN="a",Kw.CLOSE="b",Kw.ERROR="c",Kw.MESSAGE="d",aw.prototype.listen=aw.prototype.N,aS.prototype.listenOnce=aS.prototype.O,aS.prototype.getLastError=aS.prototype.La,aS.prototype.getLastErrorCode=aS.prototype.Da,aS.prototype.getStatus=aS.prototype.ba,aS.prototype.getResponseJson=aS.prototype.Qa,aS.prototype.getResponseText=aS.prototype.ga,aS.prototype.send=aS.prototype.ea;var KS=zb.createWebChannelTransport=function(){return new VS},HS=zb.getStatEventTarget=function(){return Rw()},GS=zb.ErrorCode=Uw,QS=zb.EventType=Vw,$S=zb.Event=Nw,YS=zb.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JS=zb.FetchXmlHttpFactory=Xx,XS=zb.WebChannel=zw,ZS=zb.XhrIo=aS,eE="@firebase/firestore",tE=function(){function e(t){wr(this,e),this.uid=t}return Sr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tE.UNAUTHENTICATED=new tE(null),tE.GOOGLE_CREDENTIALS=new tE("google-credentials-uid"),tE.FIRST_PARTY=new tE("first-party-uid"),tE.MOCK_USER=new tE("mock-user");var nE="9.9.2",rE=new la("@firebase/firestore");function iE(){return rE.logLevel}function aE(e){if(rE.logLevel<=ra.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uE);rE.debug.apply(rE,["Firestore (".concat(nE,"): ").concat(e)].concat(ce(i)))}}function oE(e){if(rE.logLevel<=ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uE);rE.error.apply(rE,["Firestore (".concat(nE,"): ").concat(e)].concat(ce(i)))}}function sE(e){if(rE.logLevel<=ra.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uE);rE.warn.apply(rE,["Firestore (".concat(nE,"): ").concat(e)].concat(ce(i)))}}function uE(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nE,") INTERNAL ASSERTION FAILED: ")+e;throw oE(t),new Error(t)}function lE(e,t){e||cE()}function fE(e,t){return e}var hE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dE=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Sr(n)}(Ti),pE=Sr((function e(){var t=this;wr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vE=Sr((function e(t,n){wr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mE=function(){function e(){wr(this,e)}return Sr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tE.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yE=function(){function e(t){wr(this,e),this.token=t,this.changeListener=null}return Sr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gE=function(){function e(t){wr(this,e),this.t=t,this.currentUser=tE.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Sr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new pE;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new pE,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){aE("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(aE("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pE)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(aE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lE("string"==typeof n.accessToken),new vE(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lE(null===e||"string"==typeof e),new tE(e)}}]),e}(),kE=Sr((function e(t,n,r){wr(this,e),this.type="FirstParty",this.user=tE.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),bE=function(){function e(t,n,r){wr(this,e),this.h=t,this.l=n,this.m=r}return Sr(e,[{key:"getToken",value:function(){return Promise.resolve(new kE(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tE.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),_E=Sr((function e(t){wr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),wE=function(){function e(t){wr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Sr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&aE("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,aE("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){aE("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):aE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lE("string"==typeof t.token),e.p=t.token,new _E(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function xE(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var SE=function(){function e(){wr(this,e)}return Sr(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=xE(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function EE(e,t){return e<t?-1:e>t?1:0}function IE(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function TE(e){return e+"\0"}var CE=function(){function e(t,n){if(wr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dE(hE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dE(hE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dE(hE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dE(hE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Sr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?EE(this.nanoseconds,e.nanoseconds):EE(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),AE=function(){function e(t){wr(this,e),this.timestamp=t}return Sr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new CE(0,0))}},{key:"max",value:function(){return new e(new CE(253402300799,999999999))}}]),e}(),NE=function(){function e(t,n,r){wr(this,e),void 0===n?n=0:n>t.length&&cE(),void 0===r?r=t.length-n:r>t.length-n&&cE(),this.segments=t,this.offset=n,this.len=r}return Sr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),PE=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new dE(hE.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ce(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(NE),RE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,OE=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return RE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dE(hE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new dE(hE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new dE(hE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new dE(hE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(NE),DE=function(){function e(t){wr(this,e),this.path=t}return Sr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===PE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(PE.fromString(t))}},{key:"fromName",value:function(t){return new e(PE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(PE.emptyPath())}},{key:"comparator",value:function(e,t){return PE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new PE(t.slice()))}}]),e}(),LE=Sr((function e(t,n,r,i){wr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ME(e){return e.fields.find((function(e){return 2===e.kind}))}function FE(e){return e.fields.filter((function(e){return 2!==e.kind}))}LE.UNKNOWN_ID=-1;var jE=Sr((function e(t,n){wr(this,e),this.fieldPath=t,this.kind=n}));var UE=function(){function e(t,n){wr(this,e),this.sequenceNumber=t,this.offset=n}return Sr(e,null,[{key:"empty",value:function(){return new e(0,BE.min())}}]),e}();function VE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=AE.fromTimestamp(1e9===r?new CE(n+1,0):new CE(n,r));return new BE(i,DE.empty(),t)}function qE(e){return new BE(e.readTime,e.key,-1)}var BE=function(){function e(t,n,r){wr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Sr(e,null,[{key:"min",value:function(){return new e(AE.min(),DE.empty(),-1)}},{key:"max",value:function(){return new e(AE.max(),DE.empty(),-1)}}]),e}();function zE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=DE.comparator(e.documentKey,t.documentKey))?n:EE(e.largestBatchId,t.largestBatchId)}var WE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",KE=function(){function e(){wr(this,e),this.onCommittedListeners=[]}return Sr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function HE(e){return GE.apply(this,arguments)}function GE(){return GE=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hE.FAILED_PRECONDITION&&t.message===WE){e.next=2;break}throw t;case 2:aE("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}var QE=function(){function e(t){var n=this;wr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Sr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Yr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),$E=function(){function e(t,n){var r=this;wr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new pE,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new XE(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=rI(e.target.error);r.T.reject(new XE(t,n))}}return Sr(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(aE("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new eI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new XE(n,t)}}}]),e}(),YE=function(){function e(t,n,r){wr(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(ki())&&oE("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Sr(e,[{key:"k",value:function(){var e=Q(H().mark((function e(t){var n=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return aE("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new XE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dE(hE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dE(hE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new XE(t,n))},i.onupgradeneeded=function(e){aE("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){aE("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Q(H().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(H().mark((function e(){var n,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=$E.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),QE.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,aE("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return aE("SimpleDb","Removing database:",e),tI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ii())return!1;if(e.S())return!0;var t=ki(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/vexpenses-contatcs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com",REACT_APP_MAIL_API:"https://viacep.com.br/ws/",REACT_APP_USER_MAIL:"07785302561",REACT_APP_USER_PASSWORD:"ZaEc5qdRJnRxrq"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),JE=function(){function e(t){wr(this,e),this.$=t,this.B=!1,this.L=null}return Sr(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return tI(this.$.delete())}}]),e}(),XE=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,hE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Sr(n)}(dE);function ZE(e){return"IndexedDbTransactionError"===e.name}var eI=function(){function e(t){wr(this,e),this.store=t}return Sr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(aE("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(aE("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tI(n)}},{key:"add",value:function(e){return aE("SimpleDb","ADD",this.store.name,e,e),tI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),aE("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return aE("SimpleDb","DELETE",this.store.name,e),tI(this.store.delete(e))}},{key:"count",value:function(){return aE("SimpleDb","COUNT",this.store.name),tI(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new QE((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new QE((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){aE("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new QE((function(n,r){t.onerror=function(e){var t=rI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new QE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new JE(i),o=t(i.primaryKey,i.value,a);if(o instanceof QE){var s=o.catch((function(e){return a.done(),QE.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return QE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tI(e){return new QE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rI(e.target.error);n(t)}}))}var nI=!1;function rI(e){var t=YE.v(ki());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nI||(nI=!0,setTimeout((function(){throw r}),0)),r}}return e}var iI=function(){function e(t,n){wr(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Sr(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;aE("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=aE,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ZE(e.t4)){e.next=17;break}aE("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,HE(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),aI=function(){function e(t,n){wr(this,e),this.localStore=t,this.persistence=n}return Sr(e,[{key:"tt",value:function(){var e=Q(H().mark((function e(){var t,n=this,r=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return QE.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return aE("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return aE("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=qE(t);zE(r,n)>0&&(n=r)})),new BE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),oI=function(){function e(t,n){var r=this;wr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Sr(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function sI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}oI.ot=-1;var lI=function(){function e(t,n){wr(this,e),this.comparator=t,this.root=n||hI.EMPTY}return Sr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fI(this.root,e,this.comparator,!0)}}]),e}(),fI=function(){function e(t,n,r,i){wr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Sr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hI=function(){function e(t,n,r,i,a){wr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Sr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cE();if(this.right.isRed())throw cE();var e=this.left.check();if(e!==this.right.check())throw cE();return e+(this.isRed()?0:1)}}]),e}();hI.EMPTY=null,hI.RED=!0,hI.BLACK=!1,hI.EMPTY=new(function(){function e(){wr(this,e),this.size=0}return Sr(e,[{key:"key",get:function(){throw cE()}},{key:"value",get:function(){throw cE()}},{key:"color",get:function(){throw cE()}},{key:"left",get:function(){throw cE()}},{key:"right",get:function(){throw cE()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var dI=function(){function e(t){wr(this,e),this.comparator=t,this.data=new lI(this.comparator)}return Sr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new pI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new pI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),pI=function(){function e(t){wr(this,e),this.iter=t}return Sr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vI(e){return e.hasNext()?e.getNext():void 0}var mI=function(){function e(t){wr(this,e),this.fields=t,t.sort(OE.comparator)}return Sr(e,[{key:"unionWith",value:function(t){var n,r=new dI(OE.comparator),i=Yr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Yr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Yr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return IE(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var yI=function(e){function t(e){wr(this,t),this.binaryString=e}return Sr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return EE(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yI.EMPTY_BYTE_STRING=new yI("");var gI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kI(e){if(lE(!!e),"string"==typeof e){var t=0,n=gI.exec(e);if(lE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bI(e.seconds),nanos:bI(e.nanos)}}function bI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _I(e){return"string"==typeof e?yI.fromBase64String(e):yI.fromUint8Array(e)}function wI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xI(e){var t=e.mapValue.fields.__previous_value__;return wI(t)?xI(t):t}function SI(e){var t=kI(e.mapValue.fields.__local_write_time__.timestampValue);return new CE(t.seconds,t.nanos)}var EI=Sr((function e(t,n,r,i,a,o,s,u){wr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),II=function(){function e(t,n){wr(this,e),this.projectId=t,this.database=n||"(default)"}return Sr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function TI(e){return null==e}function CI(e){return 0===e&&1/e==-1/0}function AI(e){return"number"==typeof e&&Number.isInteger(e)&&!CI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var NI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PI={nullValue:"NULL_VALUE"};function RI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wI(e)?4:HI(e)?9007199254740991:10:cE()}function OI(e,t){if(e===t)return!0;var n=RI(e);if(n!==RI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return SI(e).isEqual(SI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=kI(e.timestampValue),r=kI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _I(e.bytesValue).isEqual(_I(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bI(e.geoPointValue.latitude)===bI(t.geoPointValue.latitude)&&bI(e.geoPointValue.longitude)===bI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bI(e.integerValue)===bI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bI(e.doubleValue),r=bI(t.doubleValue);return n===r?CI(n)===CI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return IE(e.arrayValue.values||[],t.arrayValue.values||[],OI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sI(n)!==sI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!OI(n[i],r[i])))return!1;return!0}(e,t);default:return cE()}}function DI(e,t){return void 0!==(e.values||[]).find((function(e){return OI(e,t)}))}function LI(e,t){if(e===t)return 0;var n=RI(e),r=RI(t);if(n!==r)return EE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return EE(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bI(e.integerValue||e.doubleValue),r=bI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return MI(e.timestampValue,t.timestampValue);case 4:return MI(SI(e),SI(t));case 5:return EE(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_I(e),r=_I(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=EE(n[i],r[i]);if(0!==a)return a}return EE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=EE(bI(e.latitude),bI(t.latitude));return 0!==n?n:EE(bI(e.longitude),bI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=LI(n[i],r[i]);if(a)return a}return EE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===NI.mapValue&&t===NI.mapValue)return 0;if(e===NI.mapValue)return 1;if(t===NI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=EE(r[o],a[o]);if(0!==s)return s;var u=LI(n[r[o]],i[a[o]]);if(0!==u)return u}return EE(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cE()}}function MI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return EE(e,t);var n=kI(e),r=kI(t),i=EE(n.seconds,r.seconds);return 0!==i?i:EE(n.nanos,r.nanos)}function FI(e){return jI(e)}function jI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=kI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_I(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,DE.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Yr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=jI(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Yr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(jI(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cE();var t,n}function UI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function VI(e){return!!e&&"integerValue"in e}function qI(e){return!!e&&"arrayValue"in e}function BI(e){return!!e&&"nullValue"in e}function zI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WI(e){return!!e&&"mapValue"in e}function KI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=KI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=KI(e.arrayValue.values[r]);return n}return Object.assign({},e)}function HI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function GI(e){return"nullValue"in e?PI:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?UI(II.empty(),DE.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cE()}function QI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?UI(II.empty(),DE.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?NI:cE()}function $I(e,t){var n=LI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function YI(e,t){var n=LI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var JI=function(){function e(t){wr(this,e),this.value=t}return Sr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!WI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=KI(t)}},{key:"setAll",value:function(e){var t=this,n=OE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=KI(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());WI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return OI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];WI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uI(t,(function(t,n){return e[t]=n}));var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(KI(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function XI(e){var t=[];return uI(e.fields,(function(e,n){var r=new OE([e]);if(WI(n)){var i=XI(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Yr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new mI(t)}var ZI=function(){function e(t,n,r,i,a,o){wr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Sr(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=JI.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=JI.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=AE.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,AE.min(),AE.min(),JI.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,AE.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,AE.min(),JI.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,AE.min(),JI.empty(),2)}}]),e}(),eT=Sr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;wr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function tT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new eT(e,t,n,r,i,a,o)}function nT(e){var t=fE(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+FI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),TI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return FI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return FI(e)})).join(",")),t.ut=n}return t.ut}function rT(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!OI(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_T(e.startAt,t.startAt)&&_T(e.endAt,t.endAt)}function iT(e){return DE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function aT(e,t){return e.filters.filter((function(e){return e instanceof uT&&e.field.isEqual(t)}))}function oT(e,t,n){var r,i=PI,a=!0,o=Yr(aT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=PI,c=!0;switch(s.op){case"<":case"<=":u=GI(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=PI}$I({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$I({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sT(e,t,n){var r,i=NI,a=!0,o=Yr(aT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=NI,c=!0;switch(s.op){case">=":case">":u=QI(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=NI}YI({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];YI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var uT=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Sr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(LI(t,this.value)):null!==t&&RI(this.value)===RI(t)&&this.at(LI(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cE()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new cT(e,t,r):"array-contains"===t?new dT(e,r):"in"===t?new pT(e,r):"not-in"===t?new vT(e,r):"array-contains-any"===t?new mT(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new lT(e,n):new fT(e,n)}}]),n}(function(){return Sr((function e(){wr(this,e)}))}()),cT=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this,e,r,i)).key=DE.fromName(i.referenceValue),a}return Sr(n,[{key:"matches",value:function(e){var t=DE.comparator(e.key,this.key);return this.at(t)}}]),n}(uT),lT=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,"in",r)).keys=hT("in",r),i}return Sr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uT),fT=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,"not-in",r)).keys=hT("not-in",r),i}return Sr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uT);function hT(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return DE.fromName(e.referenceValue)}))}var dT=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"array-contains",r)}return Sr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qI(t)&&DI(t.arrayValue,this.value)}}]),n}(uT),pT=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"in",r)}return Sr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&DI(this.value.arrayValue,t)}}]),n}(uT),vT=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"not-in",r)}return Sr(n,[{key:"matches",value:function(e){if(DI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!DI(this.value.arrayValue,t)}}]),n}(uT),mT=function(e){Zr(n,e);var t=ri(n);function n(e,r){return wr(this,n),t.call(this,e,"array-contains-any",r)}return Sr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return DI(t.value.arrayValue,e)}))}}]),n}(uT),yT=Sr((function e(t,n){wr(this,e),this.position=t,this.inclusive=n})),gT=Sr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";wr(this,e),this.field=t,this.dir=n}));function kT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bT(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?DE.comparator(DE.fromName(o.referenceValue),n.key):LI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function _T(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!OI(e.position[n],t.position[n]))return!1;return!0}var wT=Sr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;wr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function xT(e,t,n,r,i,a,o,s){return new wT(e,t,n,r,i,a,o,s)}function ST(e){return new wT(e)}function ET(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function IT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function TT(e){var t,n=Yr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function CT(e){return null!==e.collectionGroup}function AT(e){var t=fE(e);if(null===t.lt){t.lt=[];var n=TT(t),r=IT(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new gT(n)),t.lt.push(new gT(OE.keyField(),"asc"));else{var i,a=!1,o=Yr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new gT(OE.keyField(),u))}}}return t.lt}function NT(e){var t=fE(e);if(!t.ft)if("F"===t.limitType)t.ft=tT(t.path,t.collectionGroup,AT(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Yr(AT(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gT(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new yT(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new yT(t.startAt.position,t.startAt.inclusive):null;t.ft=tT(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function PT(e,t,n){return new wT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function RT(e,t){return rT(NT(e),NT(t))&&e.limitType===t.limitType}function OT(e){return"".concat(nT(NT(e)),"|lt:").concat(e.limitType)}function DT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(FI(t.value));var t})).join(", "),"]")),TI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return FI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return FI(e)})).join(",")),"Target(".concat(t,")")}(NT(e)),"; limitType=").concat(e.limitType,")")}function LT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):DE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Yr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Yr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bT(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,AT(e),t))&&!(e.endAt&&!function(e,t,n){var r=bT(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,AT(e),t))}(e,t)}function MT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function FT(e){return function(t,n){var r,i=!1,a=Yr(AT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=jT(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function jT(e,t,n){var r=e.field.isKeyField()?DE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?LI(r,i):cE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cE()}}function UT(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CI(t)?"-0":t}}function VT(e){return{integerValue:""+e}}function qT(e,t){return AI(t)?VT(t):UT(e,t)}var BT=Sr((function e(){wr(this,e),this._=void 0}));function zT(e,t,n){return e instanceof HT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof GT?QT(e,t):e instanceof $T?YT(e,t):function(e,t){var n=KT(e,t),r=XT(n)+XT(e._t);return VI(n)&&VI(e._t)?VT(r):UT(e.wt,r)}(e,t)}function WT(e,t,n){return e instanceof GT?QT(e,t):e instanceof $T?YT(e,t):n}function KT(e,t){return e instanceof JT?VI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var HT=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n)}(BT),GT=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).elements=e,r}return Sr(n)}(BT);function QT(e,t){var n,r=ZT(t),i=Yr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return OI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $T=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).elements=e,r}return Sr(n)}(BT);function YT(e,t){var n,r=ZT(t),i=Yr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!OI(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var JT=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Sr(n)}(BT);function XT(e){return bI(e.integerValue||e.doubleValue)}function ZT(e){return qI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eC=Sr((function e(t,n){wr(this,e),this.field=t,this.transform=n}));var tC=Sr((function e(t,n){wr(this,e),this.version=t,this.transformResults=n})),nC=function(){function e(t,n){wr(this,e),this.updateTime=t,this.exists=n}return Sr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iC=Sr((function e(){wr(this,e)}));function aC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yC(e.key,nC.none()):new lC(e.key,e.data,nC.none());var n,r=e.data,i=JI.empty(),a=new dI(OE.comparator),o=Yr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new fC(e.key,i,new mI(a.toArray()),nC.none())}function oC(e,t,n){e instanceof lC?function(e,t,n){var r=e.value.clone(),i=dC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fC?function(e,t,n){if(rC(e.precondition,t)){var r=dC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sC(e,t,n,r){return e instanceof lC?function(e,t,n,r){if(!rC(e.precondition,t))return n;var i=e.value.clone(),a=pC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fC?function(e,t,n,r){if(!rC(e.precondition,t))return n;var i=pC(e.fieldTransforms,r,t),a=t.data;return a.setAll(hC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uC(e,t){var n,r=null,i=Yr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=KT(a.transform,o||null);null!=s&&(null===r&&(r=JI.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function cC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&IE(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof GT&&t instanceof GT||e instanceof $T&&t instanceof $T?IE(e.elements,t.elements,OI):e instanceof JT&&t instanceof JT?OI(e._t,t._t):e instanceof HT&&t instanceof HT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lC=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return wr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Sr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),fC=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return wr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Sr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(iC);function hC(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dC(e,t,n){var r=new Map;lE(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,WT(o,s,n[i]))}return r}function pC(e,t,n){var r,i=new Map,a=Yr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,zT(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vC,mC,yC=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Sr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),gC=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Sr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),kC=Sr((function e(t){wr(this,e),this.count=t}));function bC(e){switch(e){default:return cE();case hE.CANCELLED:case hE.UNKNOWN:case hE.DEADLINE_EXCEEDED:case hE.RESOURCE_EXHAUSTED:case hE.INTERNAL:case hE.UNAVAILABLE:case hE.UNAUTHENTICATED:return!1;case hE.INVALID_ARGUMENT:case hE.NOT_FOUND:case hE.ALREADY_EXISTS:case hE.PERMISSION_DENIED:case hE.FAILED_PRECONDITION:case hE.ABORTED:case hE.OUT_OF_RANGE:case hE.UNIMPLEMENTED:case hE.DATA_LOSS:return!0}}function _C(e){if(void 0===e)return oE("GRPC error has no .code"),hE.UNKNOWN;switch(e){case vC.OK:return hE.OK;case vC.CANCELLED:return hE.CANCELLED;case vC.UNKNOWN:return hE.UNKNOWN;case vC.DEADLINE_EXCEEDED:return hE.DEADLINE_EXCEEDED;case vC.RESOURCE_EXHAUSTED:return hE.RESOURCE_EXHAUSTED;case vC.INTERNAL:return hE.INTERNAL;case vC.UNAVAILABLE:return hE.UNAVAILABLE;case vC.UNAUTHENTICATED:return hE.UNAUTHENTICATED;case vC.INVALID_ARGUMENT:return hE.INVALID_ARGUMENT;case vC.NOT_FOUND:return hE.NOT_FOUND;case vC.ALREADY_EXISTS:return hE.ALREADY_EXISTS;case vC.PERMISSION_DENIED:return hE.PERMISSION_DENIED;case vC.FAILED_PRECONDITION:return hE.FAILED_PRECONDITION;case vC.ABORTED:return hE.ABORTED;case vC.OUT_OF_RANGE:return hE.OUT_OF_RANGE;case vC.UNIMPLEMENTED:return hE.UNIMPLEMENTED;case vC.DATA_LOSS:return hE.DATA_LOSS;default:return cE()}}(mC=vC||(vC={}))[mC.OK=0]="OK",mC[mC.CANCELLED=1]="CANCELLED",mC[mC.UNKNOWN=2]="UNKNOWN",mC[mC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mC[mC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mC[mC.NOT_FOUND=5]="NOT_FOUND",mC[mC.ALREADY_EXISTS=6]="ALREADY_EXISTS",mC[mC.PERMISSION_DENIED=7]="PERMISSION_DENIED",mC[mC.UNAUTHENTICATED=16]="UNAUTHENTICATED",mC[mC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mC[mC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mC[mC.ABORTED=10]="ABORTED",mC[mC.OUT_OF_RANGE=11]="OUT_OF_RANGE",mC[mC.UNIMPLEMENTED=12]="UNIMPLEMENTED",mC[mC.INTERNAL=13]="INTERNAL",mC[mC.UNAVAILABLE=14]="UNAVAILABLE",mC[mC.DATA_LOSS=15]="DATA_LOSS";var wC=function(){function e(t,n){wr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Sr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){uI(this.inner,(function(t,n){var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return cI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xC=new lI(DE.comparator);function SC(){return xC}var EC=new lI(DE.comparator);function IC(){for(var e=EC,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function TC(e){var t=EC;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function CC(){return NC()}function AC(){return NC()}function NC(){return new wC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var PC=new lI(DE.comparator),RC=new dI(DE.comparator);function OC(){for(var e=RC,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var DC=new dI(EE);function LC(){return DC}var MC=function(){function e(t,n,r,i,a){wr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Sr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,FC.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(AE.min(),r,LC(),SC(),OC())}}]),e}(),FC=function(){function e(t,n,r,i,a){wr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Sr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(yI.EMPTY_BYTE_STRING,n,OC(),OC(),OC())}}]),e}(),jC=Sr((function e(t,n,r,i){wr(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),UC=Sr((function e(t,n){wr(this,e),this.targetId=t,this.It=n})),VC=Sr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qC=function(){function e(){wr(this,e),this.Tt=0,this.Et=WC(),this.At=yI.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Sr(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=OC(),t=OC(),n=OC();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cE()}})),new FC(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=WC()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),BC=function(){function e(t){wr(this,e),this.Ot=t,this.Ft=new Map,this.$t=SC(),this.Bt=zC(),this.Lt=new dI(EE)}return Sr(e,[{key:"Ut",value:function(e){var t,n=Yr(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Yr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:cE()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(iT(i))if(0===n){var a=new DE(i.path);this.Kt(t,a,ZI.newNoDocument(a,AE.min()))}else lE(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&iT(a.target)){var o=new DE(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,ZI.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=OC();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new MC(e,n,this.Lt,this.$t,r);return this.$t=SC(),this.Bt=zC(),this.Lt=new dI(EE),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new qC,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new dI(EE),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||aE("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new qC),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function zC(){return new lI(DE.comparator)}function WC(){return new lI(DE.comparator)}var KC={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GC=Sr((function e(t,n){wr(this,e),this.databaseId=t,this.dt=n}));function QC(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $C(e,t){return e.dt?t.toBase64():t.toUint8Array()}function YC(e,t){return QC(e,t.toTimestamp())}function JC(e){return lE(!!e),AE.fromTimestamp(function(e){var t=kI(e);return new CE(t.seconds,t.nanos)}(e))}function XC(e,t){return function(e){return new PE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ZC(e){var t=PE.fromString(e);return lE(wA(t)),t}function eA(e,t){return XC(e.databaseId,t.path)}function tA(e,t){var n=ZC(t);if(n.get(1)!==e.databaseId.projectId)throw new dE(hE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dE(hE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new DE(aA(n))}function nA(e,t){return XC(e.databaseId,t)}function rA(e){var t=ZC(e);return 4===t.length?PE.emptyPath():aA(t)}function iA(e){return new PE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aA(e){return lE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function oA(e,t,n){return{name:eA(e,t),fields:n.value.mapValue.fields}}function sA(e,t,n){var r=tA(e,t.name),i=JC(t.updateTime),a=new JI({mapValue:{fields:t.fields}}),o=ZI.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function uA(e,t){return"found"in t?function(e,t){lE(!!t.found),t.found.name,t.found.updateTime;var n=tA(e,t.found.name),r=JC(t.found.updateTime),i=new JI({mapValue:{fields:t.found.fields}});return ZI.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){lE(!!t.missing),lE(!!t.readTime);var n=tA(e,t.missing),r=JC(t.readTime);return ZI.newNoDocument(n,r)}(e,t):cE()}function cA(e,t){var n;if(t instanceof lC)n={update:oA(e,t.key,t.value)};else if(t instanceof yC)n={delete:eA(e,t.key)};else if(t instanceof fC)n={update:oA(e,t.key,t.data),updateMask:_A(t.fieldMask)};else{if(!(t instanceof gC))return cE();n={verify:eA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof HT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof GT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $T)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof JT)return{fieldPath:t.field.canonicalString(),increment:n._t};throw cE()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:YC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cE()}(e,t.precondition)),n}function lA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nC.updateTime(JC(e.updateTime)):void 0!==e.exists?nC.exists(e.exists):nC.none()}(t.currentDocument):nC.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lE("REQUEST_TIME"===t.setToServerValue),n=new HT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new GT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $T(i)}else"increment"in t?n=new JT(e,t.increment):cE();var a=OE.fromServerFormat(t.fieldPath);return new eC(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tA(e,t.update.name),a=new JI({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mI(t.map((function(e){return OE.fromServerFormat(e)})))}(t.updateMask);return new fC(i,a,o,n,r)}return new lC(i,a,n,r)}if(t.delete){var s=tA(e,t.delete);return new yC(s,n)}if(t.verify){var u=tA(e,t.verify);return new gC(u,n)}return cE()}function fA(e,t){return{documents:[nA(e,t.path)]}}function hA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(zI(e.value))return{unaryFilter:{field:yA(e.field),op:"IS_NAN"}};if(BI(e.value))return{unaryFilter:{field:yA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zI(e.value))return{unaryFilter:{field:yA(e.field),op:"IS_NOT_NAN"}};if(BI(e.value))return{unaryFilter:{field:yA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yA(e.field),op:mA(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yA(e.field),direction:vA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||TI(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dA(e){var t=rA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lE(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=pA(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new gT(gA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return TI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new yT(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new yT(n,t)}(n.endAt)),xT(t,i,s,o,u,"F",c,l)}function pA(e){return e?void 0!==e.unaryFilter?[bA(e)]:void 0!==e.fieldFilter?[kA(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pA(e)})).reduce((function(e,t){return e.concat(t)})):cE():[]}function vA(e){return KC[e]}function mA(e){return HC[e]}function yA(e){return{fieldPath:e.canonicalString()}}function gA(e){return OE.fromServerFormat(e.fieldPath)}function kA(e){return uT.create(gA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cE()}}(e.fieldFilter.op),e.fieldFilter.value)}function bA(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gA(e.unaryFilter.field);return uT.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gA(e.unaryFilter.field);return uT.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gA(e.unaryFilter.field);return uT.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gA(e.unaryFilter.field);return uT.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cE()}}function _A(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function xA(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=EA(t)),t=SA(e.get(n),t);return EA(t)}function SA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function EA(e){return e+"\x01\x01"}function IA(e){var t=e.length;if(lE(t>=2),2===t)return lE("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),PE.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cE(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cE()}a=o+2}return new PE(r)}var TA=["userId","batchId"];function CA(e,t){return[e,xA(t)]}function AA(e,t,n){return[e,xA(t),n]}var NA={},PA=["prefixPath","collectionGroup","readTime","documentId"],RA=["prefixPath","collectionGroup","documentId"],OA=["collectionGroup","readTime","prefixPath","documentId"],DA=["canonicalId","targetId"],LA=["targetId","path"],MA=["path","targetId"],FA=["collectionId","parent"],jA=["indexId","uid"],UA=["uid","sequenceNumber"],VA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qA=["indexId","uid","orderedDocumentKey"],BA=["userId","collectionPath","documentId"],zA=["userId","collectionPath","largestBatchId"],WA=["userId","collectionGroup","largestBatchId"],KA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),HA=[].concat(ce(KA),["documentOverlays"]),GA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QA=GA,$A=[].concat(QA,["indexConfiguration","indexState","indexEntries"]),YA=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Sr(n)}(KE);function JA(e,t){var n=fE(e);return YE.N(n.ee,t)}var XA=function(){function e(t,n,r,i){wr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Sr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&oC(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Yr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sC(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Yr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sC(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=AC();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=aC(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(AE.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),OC())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&IE(this.mutations,e.mutations,(function(e,t){return cC(e,t)}))&&IE(this.baseMutations,e.baseMutations,(function(e,t){return cC(e,t)}))}}]),e}(),ZA=function(){function e(t,n,r,i){wr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Sr(e,null,[{key:"from",value:function(t,n,r){lE(t.mutations.length===r.length);for(var i=PC,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),eN=function(){function e(t,n){wr(this,e),this.largestBatchId=t,this.mutation=n}return Sr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),tN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:AE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:AE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yI.EMPTY_BYTE_STRING;wr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Sr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nN=Sr((function e(t){wr(this,e),this.ne=t}));function rN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:eA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:QC(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:aN(t.version)};else{if(!t.isUnknownDocument())return cE();r.unknownDocument={path:n.path.toArray(),version:aN(t.version)}}return r}function iN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function oN(e){var t=new CE(e.seconds,e.nanoseconds);return AE.fromTimestamp(t)}function sN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lA(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lA(e.ne,t)})),s=CE.fromMillis(t.localWriteTimeMs);return new XA(t.batchId,s,n,o)}function uN(e){var t,n,r=oN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?oN(e.lastLimboFreeSnapshotVersion):AE.min();return void 0!==e.query.documents?(lE(1===(n=e.query).documents.length),t=NT(ST(rA(n.documents[0])))):t=function(e){return NT(dA(e))}(e.query),new tN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,yI.fromBase64String(e.resumeToken))}function cN(e,t){var n,r=aN(t.snapshotVersion),i=aN(t.lastLimboFreeSnapshotVersion);n=iT(t.target)?fA(e.ne,t.target):hA(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nT(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function lN(e){var t=dA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?PT(t,t.limit,"L"):t}function fN(e,t){return new eN(t.largestBatchId,lA(e.ne,t.overlayMutation))}function hN(e,t){var n=t.path.lastSegment();return[e,xA(t.path.popLast()),n]}function dN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:aN(r.readTime),documentKey:xA(r.documentKey.path),largestBatchId:r.largestBatchId}}var pN=function(){function e(){wr(this,e)}return Sr(e,[{key:"getBundleMetadata",value:function(e,t){return vN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:oN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return vN(e).put({bundleId:(n=t).id,createTime:aN(JC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return mN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lN(t.bundledQuery),readTime:oN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return mN(e).put(function(e){return{name:e.name,readTime:aN(JC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vN(e){return JA(e,"bundles")}function mN(e){return JA(e,"namedQueries")}var yN=function(){function e(t,n){wr(this,e),this.wt=t,this.userId=n}return Sr(e,[{key:"getOverlay",value:function(e,t){var n=this;return gN(e).get(hN(this.userId,t)).next((function(e){return e?fN(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=CC();return QE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new eN(t,a);i.push(r.ie(e,o))})),QE.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(xA(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(gN(e).W("collectionPathOverlayIndex",i))})),QE.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=CC(),a=xA(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gN(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=fN(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=CC(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gN(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=fN(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return gN(e).put(function(e,t,n){var r=u(hN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cA(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function gN(e){return JA(e,"documentOverlays")}var kN=function(){function e(){wr(this,e)}return Sr(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(bI(e.integerValue));else if("doubleValue"in e){var n=bI(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),CI(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(_I(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?HI(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):cE()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),DE.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function bN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function _N(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kN.ye=new kN;var wN=function(){function e(){wr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Sr(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=_N(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=_N(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xN=function(){function e(t){wr(this,e),this.Oe=t}return Sr(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),SN=function(){function e(t){wr(this,e),this.Oe=t}return Sr(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),EN=function(){function e(){wr(this,e),this.Oe=new wN,this.Fe=new xN(this.Oe),this.$e=new SN(this.Oe)}return Sr(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),IN=function(){function e(t,n,r,i){wr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Sr(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function TN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=CN(e.arrayValue,t.arrayValue))?n:0!==(n=CN(e.directionalValue,t.directionalValue))?n:DE.comparator(e.documentKey,t.documentKey)}function CN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var AN=function(){function e(t){wr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Yr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Sr(e,[{key:"Ge",value:function(e){var t=ME(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=FE(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Yr(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),NN=function(){function e(){wr(this,e),this.ze=new PN}return Sr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),QE.resolve()}},{key:"getCollectionParents",value:function(e,t){return QE.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return QE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return QE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return QE.resolve(null)}},{key:"getIndexType",value:function(e,t){return QE.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return QE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return QE.resolve(null)}},{key:"getMinOffset",value:function(e,t){return QE.resolve(BE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return QE.resolve(BE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return QE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return QE.resolve()}}]),e}(),PN=function(){function e(){wr(this,e),this.index={}}return Sr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dI(PE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new dI(PE.comparator)).toArray()}}]),e}(),RN=new Uint8Array(0),ON=function(){function e(t,n){wr(this,e),this.user=t,this.databaseId=n,this.He=new PN,this.Je=new wC((function(e){return nT(e)}),(function(e,t){return rT(e,t)})),this.uid=t.uid||""}return Sr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:xA(i)};return DN(e).put(a)}return QE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[TE(t),""],!1,!0);return DN(e).K(r).next((function(e){var r,i=Yr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(IA(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=MN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=FN(e);return a.next((function(e){o.put(dN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=MN(e),r=FN(e),i=LN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=LN(e),i=!0,a=new Map;return QE.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=OC(),o=[];return QE.forEach(a,(function(i,a){var s;aE("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(nT(t)));var u=function(e,t){var n=ME(t);if(void 0===n)return null;var r,i=Yr(aT(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Yr(FE(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Yr(aT(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Yr(FE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oT(e,o.fieldPath,e.startAt):sT(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new yT(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Yr(FE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?sT(e,o.fieldPath,e.endAt):oT(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new yT(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return QE.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=DE.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return QE.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.nn(t[u/c]):RN,h=s.sn(e,f,n[u%c],r),d=s.rn(e,f,i[u%c],a),p=o.map((function(t){return s.sn(e,f,t,!0)}));l.push.apply(l,ce(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new IN(e,DE.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new IN(e,DE.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new AN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Yr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return QE.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new dI(OE.comparator),r=!1,i=Yr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=Yr(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new EN,i=Yr(FE(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);kN.ye.re(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new EN;return kN.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new EN;return kN.ye.re(UI(this.databaseId,t),n.Be(function(e){var t=FE(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new EN);var i,a=0,o=Yr(FE(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Yr(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.cn(t,u.fieldPath)&&qI(c))r=this.an(r,u,c);else{var h=f.Be(u.kind);kN.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=ce(e),a=[],o=Yr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Yr(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new EN;f.seed(l.Me()),kN.ye.re(u,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uT&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=MN(e),i=FN(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return QE.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new UE(t.sequenceNumber,new BE(oN(t.readTime),new DE(IA(t.documentKey)),t.largestBatchId)):UE.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new jE(OE.fromServerFormat(n),r)}));return new LE(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:EE(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=MN(e),a=FN(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return QE.forEach(t,(function(t){return a.put(dN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return QE.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?QE.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),QE.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?QE.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return LN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return LN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=LN(e),i=new dI(TN);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new IN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new dI(TN),r=this.on(t,e);if(null==r)return n;var i=ME(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qI(a)){var o,s=Yr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new IN(t.indexId,e.key,this.nn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new IN(t.indexId,e.key,RN,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;aE("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=vI(a),u=vI(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=vI(o)):l?(i(s),s=vI(a)):(s=vI(a),u=vI(o))}}(r,i,TN,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),QE.waitFor(o)}},{key:"ln",value:function(e){var t=1;return FN(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return TN(e,t)})).filter((function(e,t,n){return!t||0!==TN(e,n[t-1])}));var r=[];r.push(e);var i,a=Yr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=TN(o,e),u=TN(o,t);if(0===s)r[0]=e.Le();else if(s>0&&u<0)r.push(o),r.push(o.Le());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,RN,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,RN,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(jN)}},{key:"getMinOffset",value:function(e,t){var n=this;return QE.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||cE()}))})).next(jN)}}]),e}();function DN(e){return JA(e,"collectionParents")}function LN(e){return JA(e,"indexEntries")}function MN(e){return JA(e,"indexConfiguration")}function FN(e){return JA(e,"indexState")}function jN(e){lE(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;zE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new BE(t.readTime,t.documentKey,n)}var UN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VN=function(){function e(t,n,r){wr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Sr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){lE(1===s)})));var c,l=[],f=Yr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=AA(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return QE.waitFor(a).next((function(){return l}))}function BN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cE();t=e.noDocument}return JSON.stringify(t).length}VN.DEFAULT_COLLECTION_PERCENTILE=10,VN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,VN.DEFAULT=new VN(41943040,VN.DEFAULT_COLLECTION_PERCENTILE,VN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),VN.DISABLED=new VN(-1,0,0);var zN=function(){function e(t,n,r,i){wr(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Sr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return KN(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=HN(e),o=KN(e);return o.add({}).next((function(s){lE("number"==typeof s);var u,c=new XA(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cA(e.ne,t)})),i=n.mutations.map((function(t){return cA(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new dI((function(e,t){return EE(e.canonicalString(),t.canonicalString())})),d=Yr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=AA(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,NA))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=c.keys()})),QE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return KN(e).get(t).next((function(e){return e?(lE(e.userId===n.userId),sN(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?QE.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return KN(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lE(t.batchId>=r),a=sN(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return KN(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return KN(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return sN(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=CA(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return HN(e).J({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=IA(l);if(c===n.userId&&t.path.isEqual(h))return KN(e).get(f).next((function(e){if(!e)throw cE();lE(e.userId===n.userId),a.push(sN(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dI(EE),i=[];return t.forEach((function(t){var a=CA(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=HN(e).J({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=IA(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),QE.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=CA(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new dI(EE);return HN(e).J({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=IA(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(KN(e).get(t).next((function(e){if(null===e)throw cE();lE(e.userId===n.userId),r.push(sN(n.wt,e))})))})),QE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qN(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),QE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return QE.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return HN(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=IA(e[1]);i.push(a)}else r.done()})).next((function(){lE(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return WN(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return GN(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return lE(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function WN(e,t,n){var r=CA(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return HN(e).J({range:a,H:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function KN(e){return JA(e,"mutations")}function HN(e){return JA(e,"documentMutations")}function GN(e){return JA(e,"mutationQueues")}var QN=function(){function e(t){wr(this,e),this.En=t}return Sr(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),$N=function(){function e(t,n){wr(this,e),this.referenceDelegate=t,this.wt=n}return Sr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new QN(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return AE.fromTimestamp(new CE(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return YN(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return lE(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return YN(e).J((function(o,s){var u=uN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return QE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return YN(e).J((function(e,n){var r=uN(n);t(r)}))}},{key:"bn",value:function(e){return JN(e).get("targetGlobalKey").next((function(e){return lE(null!==e),e}))}},{key:"Pn",value:function(e,t){return JN(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return YN(e).put(cN(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nT(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return YN(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=uN(n);rT(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=XN(e);return t.forEach((function(t){var o=xA(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),QE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=XN(e);return QE.forEach(t,(function(t){var a=xA(t.path);return QE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=XN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=XN(e),i=OC();return r.J({range:n,H:!0},(function(e,t,n){var r=IA(e[1]),a=new DE(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=xA(t.path),r=IDBKeyRange.bound([n],[TE(n)],!1,!0),i=0;return XN(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return YN(e).get(t).next((function(e){return e?uN(e):null}))}}]),e}();function YN(e){return JA(e,"targets")}function JN(e){return JA(e,"targetGlobal")}function XN(e){return JA(e,"targetDocuments")}function ZN(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=EE(r,o);return 0===c?EE(i,s):c}var eP=function(){function e(t){wr(this,e),this.Sn=t,this.buffer=new dI(ZN),this.Dn=0}return Sr(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ZN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),tP=function(){function e(t,n,r){wr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Sr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;aE("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ZE(e.t0)){e.next=12;break}aE("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,HE(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),nP=function(){function e(t,n){wr(this,e),this.Mn=t,this.params=n}return Sr(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return QE.resolve(oI.ot);var r=new eP(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(aE("LruGarbageCollector","Garbage collection skipped; disabled"),QE.resolve(UN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(aE("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),UN):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(aE("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),iE()<=ra.DEBUG&&aE("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),QE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),rP=function(){function e(t,n){wr(this,e),this.db=t,this.garbageCollector=function(e,t){return new nP(e,t)}(this,n)}return Sr(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return iP(e,n)}},{key:"removeReference",value:function(e,t,n){return iP(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return iP(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return GN(e).Y((function(r){return WN(e,r,t).next((function(e){return e&&(n=!0),QE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,s){if(s<=t){var u=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,AE.min()),XN(e).delete([0,xA(o.path)])}))}));i.push(u)}})).next((function(){return QE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return iP(e,t)}},{key:"Ln",value:function(e,t){var n,r=XN(e),i=oI.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==oI.ot&&t(new DE(IA(n)),i),i=c,n=s):i=oI.ot})).next((function(){i!==oI.ot&&t(new DE(IA(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function iP(e,t){return XN(e).put(function(e,t){return{targetId:0,path:xA(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var aP=function(){function e(){wr(this,e),this.changes=new wC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Sr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ZI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?QE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),oP=function(){function e(t){wr(this,e),this.wt=t}return Sr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return lP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return lP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],iN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ZI.newInvalidDocument(t);return lP(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fP(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:ZI.newInvalidDocument(t)};return lP(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fP(t))},(function(e,i){r={document:n.Kn(t,i),size:BN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=SC();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=SC(),i=new lI(DE.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,BN(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return QE.resolve();var r=new dI(dP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(fP(r.first()),fP(r.last())),a=r.getIterator(),o=a.getNext();return lP(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=DE.fromSegments([].concat(ce(t.prefixPath),[t.collectionGroup,t.documentId]));o&&dP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(fP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),iN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lP(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=SC(),i=Yr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(DE.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=SC(),o=hP(t,n),s=hP(t,BE.max());return lP(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Kn(DE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new uP(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return cP(e).get("remoteDocumentGlobalKey").next((function(e){return lE(!!e),e}))}},{key:"qn",value:function(e,t){return cP(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sA(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=DE.fromSegments(t.noDocument.path),i=oN(t.noDocument.readTime);n=ZI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cE();var a=DE.fromSegments(t.unknownDocument.path),o=oN(t.unknownDocument.version);n=ZI.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new CE(e[0],e[1]);return AE.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(AE.min()))return n}return ZI.newInvalidDocument(e)}}]),e}();function sP(e){return new oP(e)}var uP=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new wC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Sr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new dI((function(e,t){return EE(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=rN(t.zn.wt,o);i=i.add(a.path.popLast());var c=BN(u);r+=c-s.size,n.push(t.zn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=rN(t.zn.wt,o.convertToNoDocument(AE.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),QE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(aP);function cP(e){return JA(e,"remoteDocumentGlobal")}function lP(e){return JA(e,"remoteDocumentsV14")}function fP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function hP(e,t){var n=t.documentKey.path.toArray();return[e,iN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dP(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=EE(n[a],r[a]))return i;return(i=EE(n.length,r.length))||((i=EE(n[n.length-2],r[r.length-2]))||EE(n[n.length-1],r[r.length-1]))}var pP=Sr((function e(t,n){wr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),vP=function(){function e(t,n,r,i){wr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Sr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&sC(r.mutation,e,mI.empty(),CE.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,OC()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OC(),i=CC();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=IC();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=CC();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,OC())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=SC(),a=NC(),o=NC();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fC)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),sC(o.mutation,t,o.mutation.getFieldMask(),CE.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new pP(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=NC(),i=new lI((function(e,t){return e-t})),a=OC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Yr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||mI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||OC()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=AC();c.forEach((function(e){if(!a.has(e)){var n=aC(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return QE.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return DE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):QE.resolve(CC()),s=-1,u=a;return o.next((function(t){return QE.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?QE.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,OC())})).next((function(e){return{batchId:s,changes:TC(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new DE(t)).next((function(e){var t=IC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=IC();return this.indexManager.getCollectionParents(e,i).next((function(o){return QE.forEach(o,(function(o){var s=function(e,t){return new wT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ZI.newInvalidDocument(n)))}));var n=IC();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&sC(a.mutation,i,mI.empty(),CE.now()),LT(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):QE.resolve(ZI.newInvalidDocument(t))}}]),e}(),mP=function(){function e(t){wr(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Sr(e,[{key:"getBundleMetadata",value:function(e,t){return QE.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:JC(n.createTime)}),QE.resolve()}},{key:"getNamedQuery",value:function(e,t){return QE.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:lN(e.bundledQuery),readTime:JC(e.readTime)}}(t)),QE.resolve()}}]),e}(),yP=function(){function e(){wr(this,e),this.overlays=new lI(DE.comparator),this.Xn=new Map}return Sr(e,[{key:"getOverlay",value:function(e,t){return QE.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=CC();return QE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),QE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),QE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=CC(),i=t.length+1,a=new DE(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return QE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new lI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=CC(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=CC(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return QE.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new eN(t,n));var a=this.Xn.get(t);void 0===a&&(a=OC(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),gP=function(){function e(){wr(this,e),this.Zn=new dI(kP.ts),this.es=new dI(kP.ns)}return Sr(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kP(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new kP(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new DE(new PE([])),r=new kP(n,e),i=new kP(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new DE(new PE([])),n=new kP(t,e),r=new kP(t,e+1),i=OC();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kP(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kP=function(){function e(t,n){wr(this,e),this.key=t,this.ls=n}return Sr(e,null,[{key:"ts",value:function(e,t){return DE.comparator(e.key,t.key)||EE(e.ls,t.ls)}},{key:"ns",value:function(e,t){return EE(e.ls,t.ls)||DE.comparator(e.key,t.key)}}]),e}(),bP=function(){function e(t,n){wr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new dI(kP.ts)}return Sr(e,[{key:"checkEmpty",value:function(e){return QE.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new XA(i,t,n,r);this.mutationQueue.push(a);var o,s=Yr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new kP(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return QE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return QE.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return QE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return QE.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return QE.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kP(t,0),i=new kP(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),QE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dI(EE);return t.forEach((function(e){var t=new kP(e,0),i=new kP(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),QE.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;DE.isDocumentKey(i)||(i=i.child(""));var a=new kP(new DE(i),0),o=new dI(EE);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),QE.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lE(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return QE.forEach(t.mutations,(function(i){var a=new kP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kP(t,0),r=this.ds.firstAfterOrEqual(n);return QE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,QE.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),_P=function(){function e(t){wr(this,e),this.ps=t,this.docs=new lI(DE.comparator),this.size=0}return Sr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return QE.resolve(n?n.document.mutableCopy():ZI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=SC();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ZI.newInvalidDocument(e))})),QE.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=SC(),i=new DE(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||zE(qE(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return QE.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cE()}},{key:"Is",value:function(e,t){return QE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new wP(this)}},{key:"getSize",value:function(e){return QE.resolve(this.size)}}]),e}(),wP=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).zn=e,r}return Sr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),QE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(aP),xP=function(){function e(t){wr(this,e),this.persistence=t,this.Ts=new wC((function(e){return nT(e)}),rT),this.lastRemoteSnapshotVersion=AE.min(),this.highestTargetId=0,this.Es=0,this.As=new gP,this.targetCount=0,this.Rs=QN.An()}return Sr(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),QE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return QE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return QE.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),QE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),QE.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new QN(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,QE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),QE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,QE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),QE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return QE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return QE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),QE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),QE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),QE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return QE.resolve(n)}},{key:"containsKey",value:function(e,t){return QE.resolve(this.As.containsKey(t))}}]),e}(),SP=function(){function e(t,n){var r=this;wr(this,e),this.bs={},this.overlays={},this.Ps=new oI(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new xP(this),this.indexManager=new NN,this.remoteDocumentCache=new _P((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new nN(n),this.Ds=new mP(this.wt)}return Sr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new yP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new bP(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;aE("MemoryPersistence","Starting transaction:",e);var i=new EP(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return QE.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),EP=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Sr(n)}(KE),IP=function(){function e(t){wr(this,e),this.persistence=t,this.ks=new gP,this.Ms=null}return Sr(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw cE()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),QE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),QE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),QE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return QE.forEach(this.Fs,(function(r){var i=DE.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,AE.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return QE.or([function(){return QE.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),TP=function(){function e(t){wr(this,e),this.wt=t}return Sr(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new $E("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TA,{unique:!0}),e.createObjectStore("documentMutations")}(e),CP(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=QE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),CP(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:AE.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TA,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return QE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:BA});t.createIndex("collectionPathOverlayIndex",zA,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",WA,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:PA});t.createIndex("documentKeyIndex",RA),t.createIndex("collectionGroupIndex",OA)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:jA}).createIndex("sequenceNumberIndex",UA,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:VA}).createIndex("documentKeyIndex",qA,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=BN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return QE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return QE.forEach(r,(function(r){lE(r.userId===n.userId);var i=sN(t.wt,r);return qN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new PE(n),o=function(e){return[0,xA(e)]}(a);r.push(t.get(o).next((function(n){return n?QE.resolve():function(n){return t.put({targetId:0,path:xA(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return QE.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:FA});var n=t.store("collectionParents"),r=new PN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:xA(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new PE(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],IA(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=uN(r),a=cN(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new DE(PE.fromString(i.document.name).popFirst(5)):i.noDocument?DE.fromSegments(i.noDocument.path):i.unknownDocument?DE.fromSegments(i.unknownDocument.path):cE()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return QE.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=sP(this.wt),a=new SP(IP.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:OC();sN(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),QE.forEach(r,(function(e,r){var o=new tE(r),s=yN.se(n.wt,o),u=a.getIndexManager(o),c=zN.se(o,n.wt,u,a.referenceDelegate);return new vP(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new YA(t,oI.ot),e).next()}))}))}}]),e}();function CP(e){e.createObjectStore("targetDocuments",{keyPath:LA}).createIndex("documentTargetsIndex",MA,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DA,{unique:!0}),e.createObjectStore("targetGlobal")}var AP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NP=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(wr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new dE(hE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rP(this,i),this.ei=n+"main",this.wt=new nN(u),this.ni=new YE(this.ei,this.Hs,new TP(this.wt)),this.Vs=new $N(this.referenceDelegate,this.wt),this.remoteDocumentCache=sP(this.wt),this.Ds=new pN,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&oE("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Sr(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dE(hE.FAILED_PRECONDITION,AP);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new oI(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Q(H().mark((function n(r){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Q(H().mark((function t(n){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return RP(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(ZE(t))return aE("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return aE("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return PP(e).get("owner").next((function(e){return QE.resolve(t.di(e))}))}},{key:"_i",value:function(e){return RP(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Q(H().mark((function e(){var t,n,r,i,a=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=JA(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return QE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Yr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?QE.resolve(!0):PP(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new dE(hE.FAILED_PRECONDITION,AP);return!1}}return!(!t.networkEnabled||!t.inForeground)||RP(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&aE("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Q(H().mark((function e(){var t=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new YA(e,oI.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return RP(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return zN.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ON(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yN.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;aE("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?$A:14===i?QA:13===i?GA:12===i?HA:11===i?KA:void cE();return this.ni.runTransaction(e,o,s,(function(i){return a=new YA(i,r.Ps?r.Ps.next():oI.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw oE("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new dE(hE.FAILED_PRECONDITION,WE);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return PP(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dE(hE.FAILED_PRECONDITION,AP)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return PP(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=PP(e);return n.get("owner").next((function(e){return t.di(e)?(aE("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):QE.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(oE("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!_i()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return aE("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return oE("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t_){oE("Failed to set zombie client id.",t_)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(t_){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return YE.V()}}]),e}();function PP(e){return JA(e,"owner")}function RP(e){return JA(e,"clientMetadata")}function OP(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DP=function(){function e(t,n,r,i){wr(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Sr(e,null,[{key:"Vi",value:function(t,n){var r,i=OC(),a=OC(),o=Yr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),LP=function(){function e(){wr(this,e),this.Si=!1}return Sr(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(ET(t))return QE.resolve(null);var r=NT(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=PT(t,null,"F"),r=NT(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=OC.apply(void 0,ce(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,PT(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return ET(t)||r.isEqual(AE.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(iE()<=ra.DEBUG&&aE("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DT(t)),i.Oi(e,o,t,VE(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new dI(FT(e));return t.forEach((function(t,r){LT(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return iE()<=ra.DEBUG&&aE("QueryEngine","Using full collection scan to execute query:",DT(t)),this.Di.getDocumentsMatchingQuery(e,t,BE.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),MP=function(){function e(t,n,r,i){wr(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new lI(EE),this.Bi=new wC((function(e){return nT(e)}),rT),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Sr(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vP(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function FP(e,t,n,r){return new MP(e,t,n,r)}function jP(e,t){return UP.apply(this,arguments)}function UP(){return UP=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=OC(),u=Yr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Yr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Yr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Yr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),UP.apply(this,arguments)}function VP(e,t){var n=fE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=QE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lE(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=OC(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function qP(e){var t=fE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function BP(e,t){var n=fE(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(yI.EMPTY_BYTE_STRING,AE.min()).withLastLimboFreeSnapshotVersion(AE.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=SC(),u=OC();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(zP(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(AE.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return QE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function zP(e,t,n){var r=OC(),i=OC();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=SC();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(AE.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):aE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function WP(e,t){var n=fE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function KP(e,t){var n=fE(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,QE.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new tN(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function HP(e,t,n){return GP.apply(this,arguments)}function GP(){return GP=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fE(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ZE(e.t1)){e.next=12;break}throw e.t1;case 12:aE("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),GP.apply(this,arguments)}function QP(e,t,n){var r=fE(e),i=AE.min(),a=OC();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fE(e),i=r.Bi.get(n);return void 0!==i?QE.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,NT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:AE.min(),n?a:OC())})).next((function(e){return JP(r,MT(t),e),{documents:e,ji:a}}))}))}function $P(e,t){var n=fE(e),r=fE(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function YP(e,t){var n=fE(e),r=n.Li.get(t)||AE.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,VE(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return JP(n,t,e),e}))}function JP(e,t,n){var r=AE.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function XP(e,t,n,r){return ZP.apply(this,arguments)}function ZP(){return ZP=Q(H().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fE(t),o=OC(),s=SC(),u=Yr(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,KP(a,function(e){return NT(ST(PE.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zP(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),ZP.apply(this,arguments)}function eR(e,t){return tR.apply(this,arguments)}function tR(){return tR=Q(H().mark((function e(t,n){var r,i,a,o=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:OC(),e.next=3,KP(t,NT(lN(n.bundledQuery)));case 3:return i=e.sent,a=fE(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=JC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(yI.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),tR.apply(this,arguments)}function nR(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rR(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function iR(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var aR=function(){function e(t,n,r,i){wr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Sr(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dE(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(oE("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),oR=function(){function e(t,n,r){wr(this,e),this.targetId=t,this.state=n,this.error=r}return Sr(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dE(i.error.code,i.error.message))),a?new e(t,i.state,r):(oE("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),sR=function(){function e(t,n){wr(this,e),this.clientId=t,this.activeTargetIds=n}return Sr(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=LC(),o=0;i&&o<r.activeTargetIds.length;++o)i=AI(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(oE("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),uR=function(){function e(t,n){wr(this,e),this.clientId=t,this.onlineState=n}return Sr(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(oE("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),cR=function(){function e(){wr(this,e),this.activeTargetIds=LC()}return Sr(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lR=function(){function e(t,n,r,i,a){wr(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new lI(EE),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=nR(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new cR),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Sr(e,[{key:"start",value:function(){var e=Q(H().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Yr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(nR(this.persistenceKey,i)))&&(o=sR.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),c=Yr(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(iR(this.persistenceKey,e));if(n){var r=oR.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(iR(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return aE("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){aE("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){aE("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(aE("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void oE("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Q(H().mark((function e(){var r,i,a,o,s,u,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=oI.ot;if(null!=e)try{var n=JSON.parse(e);lE("number"==typeof n),t=n}catch(e){oE("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==oI.ot&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new aR(this.currentUser,e,t,n),i=rR(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=rR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=iR(this.persistenceKey,e),i=new oR(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return sR.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return aR.Ji(new tE(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return oR.Ji(r,t)}},{key:"wr",value:function(e){return uR.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:aE("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=LC();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),fR=function(){function e(){wr(this,e),this.Fr=new cR,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Sr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new cR,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),hR=function(){function e(){wr(this,e)}return Sr(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),dR=function(){function e(){var t=this;wr(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Sr(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){aE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Yr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){aE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Yr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vR=function(){function e(t){wr(this,e),this.jr=t.jr,this.Wr=t.Wr}return Sr(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),mR=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Sr(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ZS;o.listenOnce(QS.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case GS.NO_ERROR:var t=o.getResponseJson();aE("Connection","XHR received:",JSON.stringify(t)),i(t);break;case GS.TIMEOUT:aE("Connection",'RPC "'+e+'" timed out'),a(new dE(hE.DEADLINE_EXCEEDED,"Request time out"));break;case GS.HTTP_ERROR:var n=o.getStatus();if(aE("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hE).indexOf(t)>=0?t:hE.UNKNOWN}(r.status);a(new dE(s,r.message))}else a(new dE(hE.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new dE(hE.UNAVAILABLE,"Connection failed."));break;default:cE()}}finally{aE("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=KS(),a=HS(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new JS({})),this.uo(o.initMessageHeaders,t,n),bi()||xi()||ki().indexOf("Electron/")>=0||Si()||ki().indexOf("MSAppHost/")>=0||wi()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");aE("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new vR({jr:function(e){l?aE("Connection","Not sending because WebChannel is closed:",e):(c||(aE("Connection","Opening WebChannel transport."),u.open(),c=!0),aE("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,XS.EventType.OPEN,(function(){l||aE("Connection","WebChannel transport opened.")})),h(u,XS.EventType.CLOSE,(function(){l||(l=!0,aE("Connection","WebChannel transport closed"),f.eo())})),h(u,XS.EventType.ERROR,(function(e){l||(l=!0,sE("Connection","WebChannel transport errored:",e),f.eo(new dE(hE.UNAVAILABLE,"The operation could not be completed")))})),h(u,XS.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];lE(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){aE("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vC[e];if(void 0!==t)return _C(t)}(a),s=i.message;void 0===o&&(o=hE.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new dE(o,s)),u.close()}else aE("Connection","WebChannel received:",n),f.no(n)}})),h(a,$S.STAT_EVENT,(function(e){e.stat===YS.PROXY?aE("Connection","Detected buffering proxy"):e.stat===YS.NOPROXY&&aE("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){wr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Sr(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);aE("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return aE("RestConnection","Received: ",e),e}),(function(t){throw sE("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nE,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=pR[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function yR(){return"undefined"!=typeof window?window:null}function gR(){return"undefined"!=typeof document?document:null}function kR(e){return new GC(e,!0)}var bR=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;wr(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Sr(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&aE("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),_R=function(){function e(t,n,r,i,a,o,s,u){wr(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new bR(t,n)}return Sr(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===hE.RESOURCE_EXHAUSTED?(oE(n.toString()),oE("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===hE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new dE(hE.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return aE("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(aE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wR=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return wr(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return Sr(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(lE(void 0===t||"string"==typeof t),yI.fromBase64String(t||"")):(lE(void 0===t||t instanceof Uint8Array),yI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?hE.UNKNOWN:_C(e.code);return new dE(t,e.message||"")}(o);n=new VC(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=tA(e,u.document.name),l=JC(u.document.updateTime),f=new JI({mapValue:{fields:u.document.fields}}),h=ZI.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new jC(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tA(e,v.document),y=v.readTime?JC(v.readTime):AE.min(),g=ZI.newNoDocument(m,y),k=v.removedTargetIds||[];n=new jC([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=tA(e,b.document),w=b.removedTargetIds||[];n=new jC([],w,_,null)}else{if(!("filter"in t))return cE();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new kC(S),I=x.targetId;n=new UC(I,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return AE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?AE.min():t.readTime?JC(t.readTime):AE.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=iA(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=iT(r)?{documents:fA(e,r)}:{query:hA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=$C(e,t.resumeToken):t.snapshotVersion.compareTo(AE.min())>0&&(n.readTime=QC(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cE()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=iA(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(_R),xR=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return wr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return Sr(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Io(ei(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(lE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(lE(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?JC(e.updateTime):JC(t);return n.isEqual(AE.min())&&(n=JC(t)),new tC(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=JC(e.commitTime);return this.listener.Jo(n,t)}return lE(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=iA(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cA(t.wt,e)}))};this.Oo(n)}}]),n}(_R),SR=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a){var o;return wr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Sr(n,[{key:"tu",value:function(){if(this.Zo)throw new dE(hE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dE(hE.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.bo.ao(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hE.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dE(hE.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Sr((function e(){wr(this,e)}))}()),ER=function(){function e(t,n){wr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Sr(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(oE(t),this.su=!1):aE("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),IR=Sr((function e(t,n,r,i,a){var o=this;wr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=FR(o),!e.t0){e.next=5;break}return aE("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fE(t)).lu.add(4),e.next=4,AR(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,TR(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new ER(r,i)}));function TR(e){return CR.apply(this,arguments)}function CR(){return CR=Q(H().mark((function e(t){var n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!FR(t)){e.next=18;break}n=Yr(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),CR.apply(this,arguments)}function AR(e){return NR.apply(this,arguments)}function NR(){return NR=Q(H().mark((function e(t){var n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yr(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),NR.apply(this,arguments)}function PR(e,t){var n=fE(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),MR(n)?LR(n):hO(n).Co()&&OR(n,t))}function RR(e,t){var n=fE(e),r=hO(n);n.hu.delete(t),r.Co()&&DR(n,t),0===n.hu.size&&(r.Co()?r.ko():FR(n)&&n._u.set("Unknown"))}function OR(e,t){e.wu.Nt(t.targetId),hO(e).Qo(t)}function DR(e,t){e.wu.Nt(t),hO(e).jo(t)}function LR(e){e.wu=new BC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),hO(e).start(),e._u.iu()}function MR(e){return FR(e)&&!hO(e).Do()&&e.hu.size>0}function FR(e){return 0===fE(e).lu.size}function jR(e){e.wu=void 0}function UR(e){return VR.apply(this,arguments)}function VR(){return VR=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){OR(t,e)}));case 1:case"end":return e.stop()}}),e)}))),VR.apply(this,arguments)}function qR(e,t){return BR.apply(this,arguments)}function BR(){return BR=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jR(t),MR(t)?(t._u.uu(n),LR(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),BR.apply(this,arguments)}function zR(e,t,n){return WR.apply(this,arguments)}function WR(){return WR=Q(H().mark((function e(t,n,r){var i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof VC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Yr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),aE("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,KR(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jC?t.wu.Ut(n):n instanceof UC?t.wu.zt(n):t.wu.Gt(n),r.isEqual(AE.min())){e.next=29;break}return e.prev=14,e.next=17,qP(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(yI.EMPTY_BYTE_STRING,n.snapshotVersion)),DR(e,t);var r=new tN(n.target,t,1,n.sequenceNumber);OR(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),aE("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,KR(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),WR.apply(this,arguments)}function KR(e,t,n){return HR.apply(this,arguments)}function HR(){return HR=Q(H().mark((function e(t,n,r){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ZE(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,AR(t);case 5:t._u.set("Offline"),r||(r=function(){return qP(t.localStore)}),t.asyncQueue.enqueueRetryable(Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aE("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,TR(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),HR.apply(this,arguments)}function GR(e,t){return t().catch((function(n){return KR(e,n,t)}))}function QR(e){return $R.apply(this,arguments)}function $R(){return $R=Q(H().mark((function e(t){var n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fE(t),r=dO(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!YR(n)){e.next=19;break}return e.prev=3,e.next=6,WP(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,JR(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,KR(n,e.t0);case 17:e.next=2;break;case 19:XR(n)&&ZR(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),$R.apply(this,arguments)}function YR(e){return FR(e)&&e.au.length<10}function JR(e,t){e.au.push(t);var n=dO(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function XR(e){return FR(e)&&!dO(e).Do()&&e.au.length>0}function ZR(e){dO(e).start()}function eO(e){return tO.apply(this,arguments)}function tO(){return tO=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dO(t).Xo();case 1:case"end":return e.stop()}}),e)}))),tO.apply(this,arguments)}function nO(e){return rO.apply(this,arguments)}function rO(){return rO=Q(H().mark((function e(t){var n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dO(t),r=Yr(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rO.apply(this,arguments)}function iO(e,t,n){return aO.apply(this,arguments)}function aO(){return aO=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ZA.from(i,n,r),e.next=3,GR(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,QR(t);case 5:case"end":return e.stop()}}),e)}))),aO.apply(this,arguments)}function oO(e,t){return sO.apply(this,arguments)}function sO(){return sO=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dO(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bC(i=n.code)||i===hE.ABORTED){e.next=7;break}return r=t.au.shift(),dO(t).No(),e.next=5,GR(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,QR(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XR(t)&&ZR(t);case 5:case"end":return e.stop()}}),e)}))),sO.apply(this,arguments)}function uO(e,t){return cO.apply(this,arguments)}function cO(){return cO=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fE(t)).asyncQueue.verifyOperationInProgress(),aE("RemoteStore","RemoteStore received new credentials"),i=FR(r),r.lu.add(3),e.next=6,AR(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,TR(r);case 12:case"end":return e.stop()}}),e)}))),cO.apply(this,arguments)}function lO(e,t){return fO.apply(this,arguments)}function fO(){return fO=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fE(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,TR(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,AR(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fO.apply(this,arguments)}function hO(e){return e.mu||(e.mu=function(e,t,n){var r=fE(e);return r.tu(),new wR(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:UR.bind(null,e),Jr:qR.bind(null,e),Go:zR.bind(null,e)}),e.fu.push(function(){var t=Q(H().mark((function t(n){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),MR(e)?LR(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:jR(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function dO(e){return e.gu||(e.gu=function(e,t,n){var r=fE(e);return r.tu(),new xR(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:eO.bind(null,e),Jr:oO.bind(null,e),Yo:nO.bind(null,e),Jo:iO.bind(null,e)}),e.fu.push(function(){var t=Q(H().mark((function t(n){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,QR(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(aE("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var pO=function(){function e(t,n,r,i,a){wr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Sr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dE(hE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vO(e,t){if(oE("AsyncQueue","".concat(t,": ").concat(e)),ZE(e))return new dE(hE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mO=function(){function e(t){wr(this,e),this.comparator=t?function(e,n){return t(e,n)||DE.comparator(e.key,n.key)}:function(e,t){return DE.comparator(e.key,t.key)},this.keyedMap=IC(),this.sortedSet=new lI(this.comparator)}return Sr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yO=function(){function e(){wr(this,e),this.yu=new lI(DE.comparator)}return Sr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):cE():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gO=function(){function e(t,n,r,i,a,o,s,u){wr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Sr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&RT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mO.emptySet(n),a,r,i,!0,!1)}}]),e}(),kO=Sr((function e(){wr(this,e),this.Iu=void 0,this.listeners=[]})),bO=Sr((function e(){wr(this,e),this.queries=new wC((function(e){return OT(e)}),RT),this.onlineState="Unknown",this.Tu=new Set}));function _O(e,t){return wO.apply(this,arguments)}function wO(){return wO=Q(H().mark((function e(t,n){var r,i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fE(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=vO(e.t0,"Initialization of query '".concat(DT(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&TO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wO.apply(this,arguments)}function xO(e,t){return SO.apply(this,arguments)}function SO(){return SO=Q(H().mark((function e(t,n){var r,i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fE(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function EO(e,t){var n,r=fE(e),i=!1,a=Yr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Yr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&TO(r)}function IO(e,t,n){var r=fE(e),i=r.queries.get(t);if(i){var a,o=Yr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function TO(e){e.Tu.forEach((function(e){e.next()}))}var CO=function(){function e(t,n,r){wr(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Sr(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Yr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=gO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),AO=function(){function e(t,n){wr(this,e),this.payload=t,this.byteLength=n}return Sr(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),NO=function(){function e(t){wr(this,e),this.wt=t}return Sr(e,[{key:"Wi",value:function(e){return tA(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?sA(this.wt,e.document,!1):ZI.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return JC(e)}}]),e}(),PO=function(){function e(t,n,r){wr(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RO(t)}return Sr(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=PE.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new NO(this.wt),i=Yr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),u=Yr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||OC()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Q(H().mark((function e(){var t,n,r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XP(this.localStore,new NO(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Yr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,eR(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function RO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OO=Sr((function e(t){wr(this,e),this.key=t})),DO=Sr((function e(t){wr(this,e),this.key=t})),LO=function(){function e(t,n){wr(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=OC(),this.mutatedKeys=OC(),this.Lu=FT(t),this.Uu=new mO(this.Lu)}return Sr(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new yO,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=LT(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cE()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new gO(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new yO,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=OC(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new DO(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new OO(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=OC();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return gO.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),MO=Sr((function e(t,n,r){wr(this,e),this.query=t,this.targetId=n,this.view=r})),FO=Sr((function e(t){wr(this,e),this.key=t,this.Xu=!1})),jO=function(){function e(t,n,r,i,a,o){wr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new wC((function(e){return OT(e)}),RT),this.ec=new Map,this.nc=new Set,this.sc=new lI(DE.comparator),this.ic=new Map,this.rc=new gP,this.oc={},this.uc=new Map,this.cc=QN.Rn(),this.onlineState="Unknown",this.ac=void 0}return Sr(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function UO(e,t){return VO.apply(this,arguments)}function VO(){return VO=Q(H().mark((function e(t,n){var r,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RD(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,KP(r.localStore,NT(n));case 8:return s=e.sent,r.isPrimaryClient&&PR(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,qO(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function qO(e,t,n,r){return BO.apply(this,arguments)}function BO(){return BO=Q(H().mark((function e(t,n,r,i){var a,o,s,u,c,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Q(H().mark((function e(t,n,r,i){var a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,QP(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uD(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,QP(t.localStore,n,!0);case 3:return a=e.sent,o=new LO(n,a.ji),s=o.Ku(a.documents),u=FC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),uD(t,r,c.zu),l=new MO(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}function zO(e,t){return WO.apply(this,arguments)}function WO(){return WO=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fE(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!RT(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,HP(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),RR(r.remoteStore,i.targetId),oD(r,i.targetId)})).catch(HE);case 9:e.next=14;break;case 11:return oD(r,i.targetId),e.next=14,HP(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function KO(e,t,n){return HO.apply(this,arguments)}function HO(){return HO=Q(H().mark((function e(t,n,r){var i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fE(e),a=CE.now(),o=t.reduce((function(e,t){return e.add(t.key)}),OC());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=SC(),u=OC();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Yr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=uC(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new fC(c.key,l,XI(l.value.mapValue),nC.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:TC(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new lI(EE)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fD(i,a.changes);case 9:return e.next=11,QR(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),HO.apply(this,arguments)}function GO(e,t){return QO.apply(this,arguments)}function QO(){return QO=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),e.prev=1,e.next=4,BP(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(lE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?lE(n.Xu):e.removedDocuments.size>0&&(lE(n.Xu),n.Xu=!1))})),e.next=8,fD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,HE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),QO.apply(this,arguments)}function $O(e,t,n){var r=fE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fE(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Yr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&TO(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YO(e,t,n){return JO.apply(this,arguments)}function JO(){return JO=Q(H().mark((function e(t,n,r){var i,a,o,s,u,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fE(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new lI(DE.comparator)).insert(o,ZI.newNoDocument(o,AE.min())),u=OC().add(o),c=new MC(AE.min(),new Map,new dI(EE),s,u),e.next=9,GO(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),lD(i),e.next=16;break;case 14:return e.next=16,HP(i.localStore,n,!1).then((function(){return oD(i,n,r)})).catch(HE);case 16:case"end":return e.stop()}}),e)}))),JO.apply(this,arguments)}function XO(e,t){return ZO.apply(this,arguments)}function ZO(){return ZO=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),i=n.batch.batchId,e.prev=1,e.next=4,VP(r.localStore,n);case 4:return a=e.sent,aD(r,i,null),iD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,HE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZO.apply(this,arguments)}function eD(e,t,n){return tD.apply(this,arguments)}function tD(){return tD=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fE(t),e.prev=1,e.next=4,function(e,t){var n=fE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,aD(i,n,r),iD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,HE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tD.apply(this,arguments)}function nD(e,t){return rD.apply(this,arguments)}function rD(){return rD=Q(H().mark((function e(t,n){var r,i,a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FR((r=fE(t)).remoteStore)||aE("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rD.apply(this,arguments)}function iD(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function aD(e,t,n){var r=fE(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function oD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Yr(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||sD(e,t)}))}function sD(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(RR(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),lD(e))}function uD(e,t,n){var r,i=Yr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof OO?(e.rc.addReference(a.key,t),cD(e,a)):a instanceof DO?(aE("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||sD(e,a.key)):cE()}}catch(o){i.e(o)}finally{i.f()}}function cD(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(aE("SyncEngine","New document in limbo: "+n),e.nc.add(r),lD(e))}function lD(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new DE(PE.fromString(t)),r=e.cc.next();e.ic.set(r,new FO(n)),e.sc=e.sc.insert(n,r),PR(e.remoteStore,new tN(NT(ST(n.path)),r,2,oI.ot))}}function fD(e,t,n){return hD.apply(this,arguments)}function hD(){return hD=Q(H().mark((function e(t,n,r){var i,a,o,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fE(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=DP.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Q(H().mark((function e(t,n){var r,i,a,o,s,u,c,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return QE.forEach(n,(function(t){return QE.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return QE.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ZE(e.t0)){e.next=10;break}throw e.t0;case 10:aE("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Yr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hD.apply(this,arguments)}function dD(e,t){return pD.apply(this,arguments)}function pD(){return pD=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fE(t)).currentUser.isEqual(n)){e.next=11;break}return aE("SyncEngine","User change. New user:",n.toKey()),e.next=5,jP(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new dE(hE.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fD(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}function vD(e,t){var n=fE(e),r=n.ic.get(t);if(r&&r.Xu)return OC().add(r.key);var i=OC(),a=n.ec.get(t);if(!a)return i;var o,s=Yr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function mD(e,t){return yD.apply(this,arguments)}function yD(){return yD=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),e.next=3,QP(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&uD(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),yD.apply(this,arguments)}function gD(e,t){return kD.apply(this,arguments)}function kD(){return kD=Q(H().mark((function e(t,n){var r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),e.abrupt("return",YP(r.localStore,n).then((function(e){return fD(r,e)})));case 2:case"end":return e.stop()}}),e)}))),kD.apply(this,arguments)}function bD(e,t,n,r){return _D.apply(this,arguments)}function _D(){return _D=Q(H().mark((function e(t,n,r,i){var a,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fE(t),e.next=3,function(e,t){var n=fE(e),r=fE(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):QE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,QR(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(aD(a,n,i||null),iD(a,n),function(e,t){fE(fE(e).mutationQueue).In(t)}(a.localStore,n)):cE();case 11:return e.next=13,fD(a,o);case 13:e.next=16;break;case 15:aE("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function wD(e,t){return xD.apply(this,arguments)}function xD(){return xD=Q(H().mark((function e(t,n){var r,i,a,o,s,u,c,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RD(r=fE(t)),OD(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,SD(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,lO(r.remoteStore,!0);case 9:o=Yr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,PR(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return oD(r,t),HP(r.localStore,t,!0)})),RR(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,SD(r,c);case 21:return function(e){var t=fE(e);t.ic.forEach((function(e,n){RR(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new lI(DE.comparator)}(r),r.ac=!1,e.next=25,lO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),xD.apply(this,arguments)}function SD(e,t,n){return ED.apply(this,arguments)}function ED(){return ED=Q(H().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fE(t),a=[],o=[],s=Yr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,KP(i.localStore,NT(f[0]));case 11:l=e.sent,h=Yr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,mD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,$P(i.localStore,c);case 36:return y=e.sent,e.next=39,KP(i.localStore,y);case 39:return l=e.sent,e.next=42,qO(i,ID(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ED.apply(this,arguments)}function ID(e){return xT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function TD(e){var t=fE(e);return fE(fE(t.localStore).persistence).Ri()}function CD(e,t,n,r){return AD.apply(this,arguments)}function AD(){return AD=Q(H().mark((function e(t,n,r,i){var a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fE(t)).ac){e.next=3;break}return e.abrupt("return",void aE("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,YP(a.localStore,MT(o[0]));case 10:return s=e.sent,u=MC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,fD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,HP(a.localStore,n,!0);case 17:return oD(a,n,i),e.abrupt("break",20);case 19:cE();case 20:case"end":return e.stop()}}),e)}))),AD.apply(this,arguments)}function ND(e,t,n){return PD.apply(this,arguments)}function PD(){return PD=Q(H().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=RD(t)).ac){e.next=45;break}a=Yr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ec.has(s)){e.next=10;break}return aE("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,$P(i.localStore,s);case 12:return u=e.sent,e.next=15,KP(i.localStore,u);case 15:return c=e.sent,e.next=18,qO(i,ID(u),c.targetId,!1);case 18:PR(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Yr(r),e.prev=30,h=H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,HP(i.localStore,t,!1).then((function(){RR(i.remoteStore,t),oD(i,t)})).catch(HE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),PD.apply(this,arguments)}function RD(e){var t=fE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YO.bind(null,t),t.Zu.Go=EO.bind(null,t.eventManager),t.Zu.lc=IO.bind(null,t.eventManager),t}function OD(e){var t=fE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,t),t}function DD(e,t,n){var r=fE(e);(function(){var e=Q(H().mark((function e(t,n,r){var i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fE(e),r=JC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(RO(i)),a=new PO(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,fD(t,u.Ou,void 0);case 31:return e.next=33,function(e,t){var n=fE(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sE("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var LD=function(){function e(){wr(this,e),this.synchronizeTabs=!1}return Sr(e,[{key:"initialize",value:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=kR(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return FP(this.persistence,new LP,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new SP(IP.Os,this.wt)}},{key:"dc",value:function(e){return new fR}},{key:"terminate",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MD=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Sr(n,[{key:"initialize",value:function(){var e=Q(H().mark((function e(t){var r=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(ei(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,OD(this.yc.syncEngine);case 6:return e.next=8,QR(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return FP(this.persistence,new LP,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new tP(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new aI(t,this.persistence);return new iI(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=OP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?VN.withCacheSize(this.cacheSizeBytes):VN.DEFAULT;return new NP(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yR(),gR(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new fR}}]),n}(LD),FD=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Sr(n,[{key:"initialize",value:function(){var e=Q(H().mark((function e(t){var r,i=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(ei(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof lR,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:bD.bind(null,r),Mr:CD.bind(null,r),Or:ND.bind(null,r),Ri:TD.bind(null,r),Nr:gD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wD(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=yR();if(!lR.V(t))throw new dE(hE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=OP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lR(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(MD),jD=function(){function e(){wr(this,e)}return Sr(e,[{key:"initialize",value:function(){var e=Q(H().mark((function e(t,n){var r=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $O(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),e.next=12,lO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bO}},{key:"createDatastore",value:function(e){var t,n=kR(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mR(t));return function(e,t,n,r){return new SR(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $O(o.syncEngine,e,0)},a=dR.V()?new dR:new hR,new IR(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new jO(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fE(t),aE("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,AR(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function UD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Q(H().mark((function r(){var i;return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var VD=function(){function e(t){wr(this,e),this.observer=t,this.muted=!1}return Sr(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):oE("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qD=function(){function e(t,n){var r=this;wr(this,e),this.Ec=t,this.wt=n,this.metadata=new pE,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Sr(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Q(H().mark((function e(){var t,n,r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new AO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Q(H().mark((function e(){var t,n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Q(H().mark((function e(){var t,n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),BD=function(){function e(t){wr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Sr(e,[{key:"lookup",value:function(){var e=Q(H().mark((function e(t){var n,r=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dE(hE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Q(H().mark((function e(t,n){var r,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),i=iA(r.wt)+"/documents",a={documents:n.map((function(e){return eA(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=uA(r.wt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());lE(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yC(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Q(H().mark((function e(){var t,n=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=DE.fromPath(t);n.mutations.push(new gC(r,n.precondition(r)))})),e.next=7,function(){var e=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fE(t),i=iA(r.wt)+"/documents",a={writes:n.map((function(e){return cA(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cE();t=AE.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dE(hE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nC.updateTime(t):nC.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(AE.min()))throw new dE(hE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nC.updateTime(t)}return nC.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zD=function(){function e(t,n,r,i,a){wr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new bR(this.asyncQueue,"transaction_retry")}return Sr(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Q(H().mark((function t(){var n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new BD(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!TI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!bC(t)}return!1}}]),e}(),WD=function(){function e(t,n,r,i){var a=this;wr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tE.UNAUTHENTICATED,this.clientId=SE.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aE("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return aE("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Sr(e,[{key:"getConfiguration",value:function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dE(hE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new pE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Q(H().mark((function n(){var r;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function KD(e,t){return HD.apply(this,arguments)}function HD(){return HD=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),aE("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,jP(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),HD.apply(this,arguments)}function GD(e,t){return QD.apply(this,arguments)}function QD(){return QD=Q(H().mark((function e(t,n){var r,i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,$D(t);case 3:return r=e.sent,aE("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return uO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return uO(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e){return YD.apply(this,arguments)}function YD(){return YD=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return aE("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,KD(t,new LD);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}function JD(e){return XD.apply(this,arguments)}function XD(){return XD=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return aE("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,GD(t,new jD);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),XD.apply(this,arguments)}function ZD(e){return $D(e).then((function(e){return e.persistence}))}function eL(e){return $D(e).then((function(e){return e.localStore}))}function tL(e){return JD(e).then((function(e){return e.remoteStore}))}function nL(e){return JD(e).then((function(e){return e.syncEngine}))}function rL(e){return iL.apply(this,arguments)}function iL(){return iL=Q(H().mark((function e(t){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=UO.bind(null,n.syncEngine),r.onUnlisten=zO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iL.apply(this,arguments)}function aL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function i(){return H().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VD({next:function(a){t.enqueueAndForget((function(){return xO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new dE(hE.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new dE(hE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new CO(ST(n.path),a,{includeMetadataChanges:!0,Du:!0});return _O(e,o)},i.next=3,rL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function i(){return H().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VD({next:function(n){t.enqueueAndForget((function(){return xO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dE(hE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new CO(n,a,{includeMetadataChanges:!0,Du:!0});return _O(e,o)},i.next=3,rL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sL=new Map;function uL(e,t,n){if(!n)throw new dE(hE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cL(e,t,n,r){if(!0===t&&!0===r)throw new dE(hE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lL(e){if(!DE.isDocumentKey(e))throw new dE(hE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fL(e){if(DE.isDocumentKey(e))throw new dE(hE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cE()}function dL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dE(hE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hL(e);throw new dE(hE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pL(e,t){if(t<=0)throw new dE(hE.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vL=function(){function e(t){var n;if(wr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dE(hE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dE(hE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Sr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mL=function(){function e(t,n,r){wr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vL({}),this._settingsFrozen=!1,t instanceof II?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dE(hE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new II(e.options.projectId)}(t))}return Sr(e,[{key:"app",get:function(){if(!this._app)throw new dE(hE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dE(hE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vL(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mE;switch(e.type){case"gapi":var t=e.client;return lE(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bE(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dE(hE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sL.get(e);t&&(aE("ComponentProvider","Removing Datastore"),sL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function yL(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dL(e,mL))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&sE("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=tE.MOCK_USER;else{o=gi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new dE(hE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new tE(u)}e._authCredentials=new yE(new vE(o,s))}}var gL=function(){function e(t,n,r){wr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Sr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bL(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kL=function(){function e(t,n,r){wr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Sr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bL=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this,e,r,ST(i)))._path=i,a.type="collection",a}return Sr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gL(this.firestore,null,new DE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kL);function _L(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xi(e),uL("collection","path",t),e instanceof mL){var a=PE.fromString.apply(PE,[t].concat(r));return fL(a),new bL(e,null,a)}if(!(e instanceof gL||e instanceof bL))throw new dE(hE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(PE.fromString.apply(PE,[t].concat(r)));return fL(o),new bL(e.firestore,null,o)}function wL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xi(e),1===arguments.length&&(t=SE.I()),uL("doc","path",t),e instanceof mL){var a=PE.fromString.apply(PE,[t].concat(r));return lL(a),new gL(e,null,new DE(a))}if(!(e instanceof gL||e instanceof bL))throw new dE(hE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(PE.fromString.apply(PE,[t].concat(r)));return lL(o),new gL(e.firestore,e instanceof bL?e.converter:null,new DE(o))}function xL(e,t){return e=Xi(e),t=Xi(t),(e instanceof gL||e instanceof bL)&&(t instanceof gL||t instanceof bL)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function SL(e,t){return e=Xi(e),t=Xi(t),e instanceof kL&&t instanceof kL&&e.firestore===t.firestore&&RT(e._query,t._query)&&e.converter===t.converter}var EL=function(){function e(){var t=this;wr(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new bR(this,"async_queue_retry"),this.Kc=function(){var e=gR();e&&aE("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=gR();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Sr(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=gR();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new pE;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Q(H().mark((function e(){var t=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ZE(e.t0)){e.next=12;break}throw e.t0;case 12:aE("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oE("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=pO.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&cE()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Q(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Yr(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Yr(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function IL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Yr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var TL=function(){function e(){wr(this,e),this._progressObserver={},this._taskCompletionResolver=new pE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Sr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CL=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new EL,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Sr(n,[{key:"_terminate",value:function(){return this._firestoreClient||NL(this),this._firestoreClient.terminate()}}]),n}(mL);function AL(e){return e._firestoreClient||NL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NL(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new EI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new WD(e._authCredentials,e._appCheckCredentials,e._queue,r)}function PL(e,t,n){var r=new pE;return e.asyncQueue.enqueue(Q(H().mark((function i(){var a;return H().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,KD(e,n);case 3:return i.next=5,GD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===hE.FAILED_PRECONDITION||e.code===hE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:sE("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function RL(e){return function(e){return e.asyncQueue.enqueue(Q(H().mark((function t(){var n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZD(e);case 2:return n=t.sent,t.next=5,tL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fE(e);return t.lu.delete(0),TR(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(AL(e=dL(e,CL)))}function OL(e){return function(e){return e.asyncQueue.enqueue(Q(H().mark((function t(){var n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZD(e);case 2:return n=t.sent,t.next=5,tL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fE(t)).lu.add(0),e.next=4,AR(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(AL(e=dL(e,CL)))}function DL(e,t){var n=AL(e=dL(e,CL)),r=new TL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new qD(e,t)}(function(e,t){if(e instanceof Uint8Array)return UD(e,t);if(e instanceof ArrayBuffer)return UD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,kR(t));e.asyncQueue.enqueueAndForget(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DD,t.next=3,nL(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LL(e,t){return function(e,t){return e.asyncQueue.enqueue(Q(H().mark((function n(){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fE(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,eL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(AL(e=dL(e,CL)),t).then((function(t){return t?new kL(e,null,t.query):null}))}function ML(e){if(e._initialized||e._terminated)throw new dE(hE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var FL=function(){function e(){wr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dE(hE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new OE(n)}return Sr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var jL=function(){function e(t){wr(this,e),this._byteString=t}return Sr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yI.fromBase64String(t))}catch(t){throw new dE(hE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yI.fromUint8Array(t))}}]),e}(),UL=Sr((function e(t){wr(this,e),this._methodName=t})),VL=function(){function e(t,n){if(wr(this,e),!isFinite(t)||t<-90||t>90)throw new dE(hE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dE(hE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Sr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return EE(this._lat,e._lat)||EE(this._long,e._long)}}]),e}(),qL=/^__.*__$/,BL=function(){function e(t,n,r){wr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Sr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fC(e,this.data,this.fieldMask,t,this.fieldTransforms):new lC(e,this.data,t,this.fieldTransforms)}}]),e}(),zL=function(){function e(t,n,r){wr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Sr(e,[{key:"toMutation",value:function(e,t){return new fC(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function WL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cE()}}var KL=function(){function e(t,n,r,i,a,o){wr(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Sr(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return fM(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(WL(this.Zc)&&qL.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),HL=function(){function e(t,n,r){wr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||kR(t)}return Sr(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new KL({Zc:e,methodName:t,ca:n,path:OE.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function GL(e){var t=e._freezeSettings(),n=kR(e._databaseId);return new HL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);sM("Data must be an object, but it was:",o,r);var s,u,c=aM(r,o);if(a.merge)s=new mI(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Yr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=uM(t,d,n);if(!o.contains(p))throw new dE(hE.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));hM(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new mI(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new BL(new JI(c),s,u)}var $L=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UL);function YL(e,t,n){return new KL({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var JL=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"_toFieldTransform",value:function(e){return new eC(e.path,new HT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UL),XL=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e)).ha=r,i}return Sr(n,[{key:"_toFieldTransform",value:function(e){var t=YL(this,e,!0),n=this.ha.map((function(e){return iM(e,t)})),r=new GT(n);return new eC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UL),ZL=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e)).ha=r,i}return Sr(n,[{key:"_toFieldTransform",value:function(e){var t=YL(this,e,!0),n=this.ha.map((function(e){return iM(e,t)})),r=new $T(n);return new eC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UL),eM=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e)).la=r,i}return Sr(n,[{key:"_toFieldTransform",value:function(e){var t=new JT(e.wt,qT(e.wt,this.la));return new eC(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UL);function tM(e,t,n,r){var i=e.aa(1,t,n);sM("Data must be an object, but it was:",i,r);var a=[],o=JI.empty();uI(r,(function(e,r){var s=lM(t,e,n);r=Xi(r);var u=i.ia(s);if(r instanceof $L)a.push(s);else{var c=iM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new mI(a);return new zL(o,s,i.fieldTransforms)}function nM(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[uM(t,r,n)],u=[i];if(a.length%2!=0)throw new dE(hE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(uM(t,a[c])),u.push(a[c+1]);for(var l=[],f=JI.empty(),h=s.length-1;h>=0;--h)if(!hM(l,s[h])){var d=s[h],p=u[h];p=Xi(p);var v=o.ia(d);if(p instanceof $L)l.push(d);else{var m=iM(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new mI(l);return new zL(f,y,o.fieldTransforms)}function rM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iM(n,e.aa(r?4:3,t))}function iM(e,t){if(oM(e=Xi(e)))return sM("Unsupported field value:",t,e),aM(e,t);if(e instanceof UL)return function(e,t){if(!WL(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Yr(e);try{for(a.s();!(n=a.n()).done;){var o=iM(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Xi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qT(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=CE.fromDate(e);return{timestampValue:QC(t.wt,n)}}if(e instanceof CE){var r=new CE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:QC(t.wt,r)}}if(e instanceof VL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jL)return{bytesValue:$C(t.wt,e._byteString)};if(e instanceof gL){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(hL(e)))}(e,t)}function aM(e,t){var n={};return cI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uI(e,(function(e,r){var i=iM(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof CE||e instanceof VL||e instanceof jL||e instanceof gL||e instanceof UL)}function sM(e,t,n){if(!oM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hL(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function uM(e,t,n){if((t=Xi(t))instanceof FL)return t._internalPath;if("string"==typeof t)return lM(e,t);throw fM("Field path arguments must be of type string or ",e,!1,void 0,n)}var cM=new RegExp("[~\\*/\\[\\]]");function lM(e,t,n){if(t.search(cM)>=0)throw fM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ii(FL,ce(t.split(".")))._internalPath}catch(r){throw fM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new dE(hE.INVALID_ARGUMENT,s+e+u)}function hM(e,t){return e.some((function(e){return e.isEqual(t)}))}var dM=function(){function e(t,n,r,i,a){wr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Sr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gL(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pM=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"data",value:function(){return Io(ei(n.prototype),"data",this).call(this)}}]),n}(dM);function vM(e,t){return"string"==typeof t?lM(e,t):t instanceof FL?t._internalPath:t._delegate._internalPath}var mM=function(){function e(t,n){wr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Sr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),yM=function(e){Zr(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return wr(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Sr(n,[{key:"exists",value:function(){return Io(ei(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new gM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dM),gM=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Io(ei(n.prototype),"data",this).call(this,e)}}]),n}(yM),kM=function(){function e(t,n,r,i){wr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mM(i.hasPendingWrites,i.fromCache),this.query=r}return Sr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new gM(n._firestore,n._userDataWriter,r.key,r,new mM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dE(hE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new gM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new gM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:bM(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function bM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cE()}}function _M(e,t){return e instanceof yM&&t instanceof yM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kM&&t instanceof kM&&e._firestore===t._firestore&&SL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function wM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dE(hE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xM=Sr((function e(){wr(this,e)}));function SM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var EM=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Sr(n,[{key:"_apply",value:function(e){var t=GL(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dE(hE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){MM(o,a);var u,c=[],l=Yr(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(LM(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=LM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||MM(o,a),s=rM(n,"where",o,"in"===a||"not-in"===a);var h=uT.create(i,a,s);return function(e,t){if(t.ht()){var n=TT(e);if(null!==n&&!n.isEqual(t.field))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=IT(e);null!==r&&FM(e,t.field,r)}var i=function(e,t){var n,r=Yr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new dE(hE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dE(hE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new kL(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(xM);var IM=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Sr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dE(hE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dE(hE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gT(t,n);return function(e,t){if(null===IT(e)){var n=TT(e);null!==n&&FM(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new kL(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(xM);var TM=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Sr(n,[{key:"_apply",value:function(e){return new kL(e.firestore,e.converter,PT(e._query,this.ma,this.ga))}}]),n}(xM);var CM=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Sr(n,[{key:"_apply",value:function(e){var t=DM(e,this.type,this.ya,this.pa);return new kL(e.firestore,e.converter,function(e,t){return new wT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(xM);function AM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CM("startAt",t,!0)}function NM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CM("startAfter",t,!1)}var PM=function(e){Zr(n,e);var t=ri(n);function n(e,r,i){var a;return wr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Sr(n,[{key:"_apply",value:function(e){var t=DM(e,this.type,this.ya,this.pa);return new kL(e.firestore,e.converter,function(e,t){return new wT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(xM);function RM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PM("endBefore",t,!1)}function OM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PM("endAt",t,!0)}function DM(e,t,n,r){if(n[0]=Xi(n[0]),n[0]instanceof dM)return function(e,t,n,r,i){if(!r)throw new dE(hE.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Yr(AT(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(UI(t,r.key));else{var c=r.data.field(u.field);if(wI(c))throw new dE(hE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new dE(hE.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new yT(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dE(hE.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new dE(hE.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!CT(e)&&-1!==c.indexOf("/"))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(PE.fromString(c));if(!DE.isDocumentKey(l))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new DE(l);s.push(UI(t,f))}else{var h=rM(n,r,c);s.push(h)}}return new yT(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function LM(e,t,n){if("string"==typeof(n=Xi(n))){if(""===n)throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(t)&&-1!==n.indexOf("/"))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(PE.fromString(n));if(!DE.isDocumentKey(r))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return UI(e,new DE(r))}if(n instanceof gL)return UI(e,n._key);throw new dE(hE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hL(n),"."))}function MM(e,t){if(!Array.isArray(e)||0===e.length)throw new dE(hE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new dE(hE.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function FM(e,t,n){if(!n.isEqual(t))throw new dE(hE.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var jM={maxAttempts:5},UM=function(){function e(){wr(this,e)}return Sr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(RI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_I(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cE()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uI(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new VL(bI(e.latitude),bI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(SI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=kI(e);return new CE(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=PE.fromString(e);lE(wA(n));var r=new II(n.get(1),n.get(3)),i=new DE(n.popFirst(5));return r.isEqual(t)||oE("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function VM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qM=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).firestore=e,r}return Sr(n,[{key:"convertBytes",value:function(e){return new jL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gL(this.firestore,null,t)}}]),n}(UM),BM=function(){function e(t,n){wr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GL(t)}return Sr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=zM(e,this._firestore),i=VM(r.converter,t,n),a=QL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nC.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=zM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Xi(t))||t instanceof FL?nM(this._dataReader,"WriteBatch.update",i._key,t,n,o):tM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nC.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=zM(e,this._firestore);return this._mutations=this._mutations.concat(new yC(t._key,nC.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dE(hE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function zM(e,t){if((e=Xi(e)).firestore!==t)throw new dE(hE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var WM=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).firestore=e,r}return Sr(n,[{key:"convertBytes",value:function(e){return new jL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gL(this.firestore,null,t)}}]),n}(UM);function KM(e){e=dL(e,gL);var t=dL(e.firestore,CL),n=AL(t),r=new WM(t);return function(e,t){var n=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function r(){return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Q(H().mark((function e(t,n,r){var i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fE(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dE(hE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new yM(t,r,e._key,n,new mM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function HM(e){e=dL(e,kL);var t=dL(e.firestore,CL),n=AL(t),r=new WM(t);return function(e,t){var n=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function r(){return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Q(H().mark((function e(t,n,r){var i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,QP(t,n,!0);case 3:i=e.sent,a=new LO(n,i.ji),o=a.Ku(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=vO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new kM(t,r,e,n)}))}function GM(e,t,n){e=dL(e,gL);var r=dL(e.firestore,CL),i=VM(e.converter,t,n);return JM(r,[QL(GL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nC.none())])}function QM(e,t,n){e=dL(e,gL);for(var r=dL(e.firestore,CL),i=GL(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return JM(r,[("string"==typeof(t=Xi(t))||t instanceof FL?nM(i,"updateDoc",e._key,t,n,o):tM(i,"updateDoc",e._key,t)).toMutation(e._key,nC.exists(!0))])}function $M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Xi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||IL(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(IL(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof gL)l=dL(e.firestore,CL),f=ST(e._key.path),c={next:function(t){n[u]&&n[u](XM(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=dL(e,kL);l=dL(p.firestore,CL),f=p._query;var v=new WM(l);c={next:function(e){n[u]&&n[u](new kM(l,v,p,e))},error:n[u+1],complete:n[u+2]},wM(e._query)}return function(e,t,n,r){var i=new VD(r),a=new CO(t,i,n);return e.asyncQueue.enqueueAndForget(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_O,t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xO,t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AL(l),f,h,c)}function YM(e,t){return function(e,t){var n=new VD(t);return e.asyncQueue.enqueueAndForget(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fE(e).Tu.add(t),t.next()},t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Q(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fE(e).Tu.delete(t)},t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AL(e=dL(e,CL)),IL(t)?t:{next:t})}function JM(e,t){return function(e,t){var n=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function r(){return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=KO,r.next=3,nL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(AL(e),t)}function XM(e,t,n){var r=n.docs.get(t._key),i=new WM(e);return new yM(e,i,t._key,r,new mM(n.hasPendingWrites,n.fromCache),t.converter)}var ZM=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Sr(n,[{key:"get",value:function(e){var t=this,r=zM(e,this._firestore),i=new WM(this._firestore);return Io(ei(n.prototype),"get",this).call(this,e).then((function(e){return new yM(t._firestore,i,r._key,e._document,new mM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){wr(this,e),this._firestore=t,this._transaction=n,this._dataReader=GL(t)}return Sr(e,[{key:"get",value:function(e){var t=this,n=zM(e,this._firestore),r=new qM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cE();var i=e[0];if(i.isFoundDocument())return new dM(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dM(t._firestore,r,n._key,null,n.converter);throw cE()}))}},{key:"set",value:function(e,t,n){var r=zM(e,this._firestore),i=VM(r.converter,t,n),a=QL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=zM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Xi(t))||t instanceof FL?nM(this._dataReader,"Transaction.update",i._key,t,n,o):tM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=zM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function eF(e,t,n){e=dL(e,CL);var r=Object.assign(Object.assign({},jM),n);return function(e){if(e.maxAttempts<1)throw new dE(hE.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function i(){var a;return H().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return JD(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new zD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(AL(e),(function(n){return t(new ZM(e,n))}),r)}function tF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XL("arrayUnion",t)}function nF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nE=e}(Ga),Va(new Zi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new CL(i,new gE(e.getProvider("auth-internal")),new wE(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Za(eE,"3.4.14",e),Za(eE,"3.4.14","esm2017")}();function rF(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dE("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iF(){if("undefined"===typeof Uint8Array)throw new dE("unimplemented","Uint8Arrays are not available in this environment.")}function aF(){if("undefined"==typeof atob)throw new dE("unimplemented","Blobs are unavailable in Firestore in this environment.")}var oF=function(){function e(t){wr(this,e),this._delegate=t}return Sr(e,[{key:"toBase64",value:function(){return aF(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return iF(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return aF(),new e(jL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return iF(),new e(jL.fromUint8Array(t))}}]),e}();function sF(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Yr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uF=function(){function e(){wr(this,e)}return Sr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ML(e=dL(e,CL));var n=AL(e),r=e._freezeSettings(),i=new jD;return PL(n,i,new MD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ML(e=dL(e,CL));var t=AL(e),n=e._freezeSettings(),r=new jD;return PL(t,r,new FD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dE(hE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new pE;return e._queue.enqueueAndForgetEvenWhileRestricted(Q(H().mark((function n(){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YE.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,YE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(OP(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),cF=function(){function e(t,n,r){var i=this;wr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof II||(this._appCompat=t)}return Sr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yL(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return RL(this._delegate)}},{key:"disableNetwork",value:function(){return OL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new pE;return e.asyncQueue.enqueueAndForget(Q(H().mark((function n(){return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nD,n.next=3,nL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(AL(e=dL(e,CL)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return YM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new xF(this,_L(this._delegate,e))}catch(t){throw vF(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new pF(this,wL(this._delegate,e))}catch(t){throw vF(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new bF(this,function(e,t){if(e=dL(e,mL),uL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dE(hE.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kL(e,null,function(e){return new wT(PE.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw vF(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return eF(this._delegate,(function(n){return e(new fF(t,n))}))}},{key:"batch",value:function(){var e=this;return AL(this._delegate),new hF(new BM(this._delegate,(function(t){return JM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return DL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LL(this._delegate,e).then((function(e){return e?new bF(t,e):null}))}}]),e}(),lF=function(e){Zr(n,e);var t=ri(n);function n(e){var r;return wr(this,n),(r=t.call(this)).firestore=e,r}return Sr(n,[{key:"convertBytes",value:function(e){return new oF(new jL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pF.forKey(t,this.firestore,null)}}]),n}(UM);var fF=function(){function e(t,n){wr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new lF(t)}return Sr(e,[{key:"get",value:function(e){var t=this,n=SF(e);return this._delegate.get(n).then((function(e){return new gF(t._firestore,new yM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SF(e);return n?(rF("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SF(e);return this._delegate.delete(t),this}}]),e}(),hF=function(){function e(t){wr(this,e),this._delegate=t}return Sr(e,[{key:"set",value:function(e,t,n){var r=SF(e);return n?(rF("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SF(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),dF=function(){function e(t,n,r){wr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Sr(e,[{key:"fromFirestore",value:function(e,t){var n=new gM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kF(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new lF(t),n),i.set(n,a)),a}}]),e}();dF.INSTANCES=new WeakMap;var pF=function(){function e(t,n){wr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lF(t)}return Sr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new xF(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new xF(this.firestore,_L(this._delegate,e))}catch(t){throw vF(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Xi(e))instanceof gL&&xL(this._delegate,e)}},{key:"set",value:function(e,t){t=rF("DocumentReference.set",t);try{return t?GM(this._delegate,e,t):GM(this._delegate,e)}catch(n){throw vF(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QM(this._delegate,e):QM.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw vF(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return JM(dL(e.firestore,CL),[new yC(e._key,nC.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mF(n),a=yF(n,(function(t){return new gF(e.firestore,new yM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $M(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dL(e,gL);var t=dL(e.firestore,CL);return aL(AL(t),e._key,{source:"server"}).then((function(n){return XM(t,e,n)}))}(this._delegate):function(e){e=dL(e,gL);var t=dL(e.firestore,CL);return aL(AL(t),e._key).then((function(n){return XM(t,e,n)}))}(this._delegate),t.then((function(e){return new gF(n.firestore,new yM(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dE("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new gL(n._delegate,r,new DE(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new gL(n._delegate,r,t))}}]),e}();function vF(e,t,n){return e.message=e.message.replace(t,n),e}function mF(e){var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sF(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function yF(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sF(e[0])?e[0]:sF(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gF=function(){function e(t,n){wr(this,e),this._firestore=t,this._delegate=n}return Sr(e,[{key:"ref",get:function(){return new pF(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return _M(this._delegate,e._delegate)}}]),e}(),kF=function(e){Zr(n,e);var t=ri(n);function n(){return wr(this,n),t.apply(this,arguments)}return Sr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cE()}(void 0!==t),t}}]),n}(gF),bF=function(){function e(t,n){wr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lF(t)}return Sr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,SM(this._delegate,function(e,t,n){var r=t,i=vM("where",e);return new EM(i,r,n)}(t,n,r)))}catch(i){throw vF(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,SM(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vM("orderBy",e);return new IM(n,t)}(t,n)))}catch(r){throw vF(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,SM(this._delegate,function(e){return pL("limit",e),new TM("limit",e,"F")}(t)))}catch(n){throw vF(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,SM(this._delegate,function(e){return pL("limitToLast",e),new TM("limitToLast",e,"L")}(t)))}catch(n){throw vF(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,SM(this._delegate,AM.apply(void 0,arguments)))}catch(t){throw vF(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,SM(this._delegate,NM.apply(void 0,arguments)))}catch(t){throw vF(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,SM(this._delegate,RM.apply(void 0,arguments)))}catch(t){throw vF(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,SM(this._delegate,OM.apply(void 0,arguments)))}catch(t){throw vF(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return SL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?HM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dL(e,kL);var t=dL(e.firestore,CL),n=AL(t),r=new WM(t);return oL(n,e._query,{source:"server"}).then((function(n){return new kM(t,r,e,n)}))}(this._delegate):function(e){e=dL(e,kL);var t=dL(e.firestore,CL),n=AL(t),r=new WM(t);return wM(e._query),oL(n,e._query).then((function(n){return new kM(t,r,e,n)}))}(this._delegate),t.then((function(e){return new wF(n.firestore,new kM(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mF(n),a=yF(n,(function(t){return new wF(e.firestore,new kM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $M(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),_F=function(){function e(t,n){wr(this,e),this._firestore=t,this._delegate=n}return Sr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new kF(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),wF=function(){function e(t,n){wr(this,e),this._firestore=t,this._delegate=n}return Sr(e,[{key:"query",get:function(){return new bF(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new kF(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _F(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new kF(n._firestore,r))}))}},{key:"isEqual",value:function(e){return _M(this._delegate,e._delegate)}}]),e}(),xF=function(e){Zr(n,e);var t=ri(n);function n(e,r){var i;return wr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Sr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new pF(this.firestore,e):null}},{key:"doc",value:function(e){try{return new pF(this.firestore,void 0===e?wL(this._delegate):wL(this._delegate,e))}catch(t){throw vF(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dL(e.firestore,CL),r=wL(e),i=VM(e.converter,t);return JM(n,[QL(GL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nC.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pF(t.firestore,e)}))}},{key:"isEqual",value:function(e){return xL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(dF.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(bF);function SF(e){return dL(e,gL)}var EF=function(){function e(){wr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ii(FL,n)}return Sr(e,[{key:"isEqual",value:function(e){return(e=Xi(e))instanceof FL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(OE.keyField().canonicalString())}}]),e}(),IF=function(){function e(t){wr(this,e),this._delegate=t}return Sr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new JL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new $L("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tF.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nF.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eM("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),TF={Firestore:cF,GeoPoint:VL,Timestamp:CE,Blob:oF,Transaction:fF,WriteBatch:hF,DocumentReference:pF,DocumentSnapshot:gF,Query:bF,QueryDocumentSnapshot:kF,QuerySnapshot:wF,CollectionReference:xF,FieldPath:EF,FieldValue:IF,setLogLevel:function(e){!function(e){rE.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Zi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},TF)))}(e,(function(e,t){return new cF(e,t,new uF)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(So);var CF,AF,NF=So.initializeApp($r),PF=NF.firestore(),RF=PF.collection("/contacts"),OF=Sr((function e(){wr(this,e),this.getAll=function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RF.doc(t).collection("list").orderBy("name").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.add=function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RF.doc(n).collection("list").add(t);case 3:return He.success("Contato adicionado com sucesso."),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),He.error("Erro ao adicionar contato"),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.update=function(){var e=Q(H().mark((function e(t,n,r){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RF.doc(r).collection("list").doc(t).set(n).then((function(){return He.success("Contato atualizado com sucesso."),!0})).catch((function(e){return He.error("Erro ao atualizar contato adicionado com sucesso."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.remove=function(){var e=Q(H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RF.doc(n).collection("list").doc(t).delete().then((function(){return He.success("Contato removido com sucesso."),!0})).catch((function(e){return He.error("Erro ao remover o contato."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.handleGoogleImport=function(){var e=Q(H().mark((function e(t,n){var r,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.totalItems){e.next=2;break}return e.abrupt("return",!0);case 2:return r=[],t.connections.map((function(e){var t={name:e.names?e.names[0].displayName.toUpperCase():"",phone:e.phoneNumbers?e.phoneNumbers.map((function(e){return e.value})):[],email:e.emailAddresses?e.emailAddresses[0].value:"",job:"",address:e.addresses?e.addresses.map((function(e){return{street:e.streetAddress,city:e.city,state:e.region,country:e.country,zip:e.postalCode}})).filter((function(e){return void 0!==e.street})):[],description:""};r.push(t)})),i=PF.batch(),a=function(e){return e.forEach((function(e){var t=RF.doc(n).collection("list").doc();i.set(t,e)})),i.commit()},e.abrupt("return",a(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),DF=new OF,LF=Bn.nav(CF||(CF=Ge(["\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\tjustify-content: start;\n\tpadding: 1.5em;\n\twidth: fit-content;\n\talign-items: center;\n\tbackground-color: #000000;\n\t@media screen and (max-width: 1024px) {\n\t\twidth: fit-content;\n\t\theight: auto;\n\t\tflex-direction: row;\n\t\tposition: fixed;\n\t\tpadding: 1em;\n\t\ttop: 0%;\n\t\tborder-bottom-right-radius: 5px;\n\t\tborder-top-right-radius: 5px;\n\t\tz-index: 99;\n\t\tbackground-color: #00000090;\n\t}\n"]))),MF=Bn.img(AF||(AF=Ge(["\n\t@media screen and (max-width: 1024px) {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tmargin-top: 0;\n\t\tmargin-left: 1em;\n\t}\n\tcursor: pointer;\n\t&:hover{\n\t\tcolor: ",";\n\t}\n\twidth: 25px;\n\theight: 25px;\n\tmargin-top: 1em;\n"])),Qe.colors.active);var FF=__webpack_require__.p+"static/media/logout.dbe8886ce150580623d70e01be2935d1.svg";var jF=__webpack_require__.p+"static/media/add.41cef245ee13526ee5f4f2de96720a6b.svg";var UF=__webpack_require__.p+"static/media/contact.a5a6dbc938c9d825b215088ad8f40405.svg";var VF,qF,BF,zF,WF,KF,HF,GF,QF,$F=__webpack_require__.p+"static/media/import.ddc48fdfe3d38a72e0db30e78f142da0.svg",YF=__webpack_require__(569),JF=__webpack_require__.n(YF),XF={getGoogleContacts:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JF().get("https://people.googleapis.com/v1/people/me/connections?pageSize=1000&personFields=names,phoneNumbers,addresses,emailAddresses",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ZF=XF,ej=function(){var e=(0,n.useContext)(ee).logout,t=(0,n.useContext)(ee).user,r=j(),i=function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Realmente deseja importar os seus contatos da sua conta google ?")){e.next=3;break}return e.next=3,ZF.getGoogleContacts(t.accessToken).then(function(){var e=Q(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DF.handleGoogleImport(n,t.data.googleId);case 2:He.success("Contatos importados com sucesso."),r("/search");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),He.error("Falha ao importar contatos do google.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,J.jsxs)(LF,{children:[(0,J.jsx)(MF,{src:UF,onClick:function(){return r("/search")}}),(0,J.jsx)(MF,{src:jF,onClick:function(){return r("/contact/add")}}),(0,J.jsx)(MF,{src:$F,onClick:i}),(0,J.jsx)(ne.GoogleLogout,{clientId:"".concat("365159753492-fhl8if6qu0v8907q6jqvbal197aviohr.apps.googleusercontent.com"),buttonText:"",render:function(e){return(0,J.jsx)(MF,{onClick:e.onClick,src:FF})},onLogoutSuccess:function(){e()?r("/"):He.error("Aconteceu um erro ao sair, tente novamente.")},onFailure:function(){He.error("Aconteceu um erro ao sair, tente novamente")}})]})},tj=Bn.div(VF||(VF=Ge(["\n\theight: 100%;\n\twidth: 100%;\n\t/* background-image: linear-gradient(90deg, ",", ","); */\n\t/* opacity: .1; */\n\tfilter: blur(6px);\n\tposition: absolute;\n\tz-index: -1;\n"])),Qe.colors.gradient.primary.from,Qe.colors.gradient.primary.to),nj=Bn.div(qF||(qF=Ge(["\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\t@media screen and (max-width: 1024px) {\n\t\tpadding-top: 2em;\n\t}\n"]))),rj=Bn.div(BF||(BF=Ge(["\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-space-between;\n\talign-items: space-between;\n\tbox-sizing: border-box;\n\t@media screen and (max-width: 1024px) {\n\t\tmargin-top: 2em;\n\t}\n"]))),ij=function(e){var t=e.children;return(0,J.jsxs)(nj,{children:[(0,J.jsx)(ej,{}),(0,J.jsxs)(tj,{children:[(0,J.jsx)(Wn,{size:200,position:"top: 35vh; left: 10vw; opacity: .3",type:1}),(0,J.jsx)(Wn,{size:300,position:"bottom: 0; right: 5%; opacity: .3;",type:2})]}),(0,J.jsxs)(rj,{children:[t,(0,J.jsx)(Hn,{})]})]})},aj=Bn.div(zF||(zF=Ge(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t/* justify-content: center; */\n\talign-items: center;\n\theight: 100%;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tpadding: 2em;\n"]))),oj=Bn.div(WF||(WF=Ge(["\n\twidth: 30%;\n\t@media screen and (max-width: 1024px) {\n\t\twidth: 100%;\n\t}\n"]))),sj=Bn.ul(KF||(KF=Ge(["\n\tlist-style: none;\n\toverflow: auto;\n\twidth: 100%;\n\tmax-height: 70vh;\n\tpadding: 0 .5em;\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\tflex-direction: column;\n"]))),uj=In(HF||(HF=Ge(["\n\tfrom{\n\t\topacity: 0;\n\t}\n\tto{\n\t\topacity: 1;\n\t}\n"]))),cj=Bn.li(GF||(GF=Ge(["\n\t&:nth-child(2n + 1) {\n\t\tbackground-color: rgba(0,0,0,.2);\n\t\t/* box-shadow: 2px 2px 4px #ff000055; */\n\t}\n\n\tanimation: "," .3s ease-in-out;\n\tcursor: pointer;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 95%;\n\tcolor: ",';\n\tfont-weight: bolder;\n\tfont-style: italic;\n\tfont-size: .8em;\n\tmargin: 1em 0;\n\tpadding: 1em 2em;\n\tborder-radius: 5px;\n\ttransition: all .2s ease-in-out;\n\tborder: 1px solid transparent;\n\tmargin-left: .5em;\n\t@media screen and (max-width: 1024px) {\n\t\tpadding: 1em;\n\t\tfont-size: .6em;\n\t\tflex-direction: column;\n\t\t& > *{\n\t\t\tmargin: .5em 0;\n\t\t}\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .5em;\n\t}\n\t&:hover{\n\t\tborder: 1px solid rgba(255,255,255,.1);\n\t}\n\t&:before{\n\t\tcontent: "','";\n\t\tfont-size: 1em;\n\t\tfont-weight: bolder;\n\t\tcolor: ',";\n\t\tposition: absolute;\n\t\tleft: 0;\n\t}\n"])),uj,Qe.colors.icons,(function(e){return e.char}),Qe.colors.icons),lj=function(){var e=j(),t=u((0,n.useState)([]),2),r=t[0],i=t[1],a=u((0,n.useState)([]),2),o=a[0],s=a[1],c=u((0,n.useState)(!0),2),l=c[0],f=c[1],h=(0,n.useContext)(ee).user,d=new Ir(o||[],["name","email","contact","job","address","address.cep","address.neighborhood","address.complement","address.street","address.state","address.city","description"],{caseSensitive:!1,sort:!0});(0,n.useEffect)((function(){var e=function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,DF.getAll(h.data.googleId).then((function(e){e.docs.map((function(e){var t=e.data();t.id=e.id,s((function(e){return[].concat(ce(e),[t])})),i((function(e){return[].concat(ce(e),[t])})),f(!1)})),f(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p="";return(0,J.jsxs)(aj,{children:[(0,J.jsx)(oj,{children:(0,J.jsx)(Pr,{autoCompleteItems:o,onChange:function(e){i(""!==e?d.search(e):o)},label:"Pesquisar"})}),(0,J.jsx)(sj,{children:l?(0,J.jsx)(Hr,{wrapperStyle:{justifyContent:"center",margin:"3em 0"},color:Qe.colors.active,height:35,width:35}):r.length>0?r.map((function(t){var n=t.name.toUpperCase(),r=n[0]!==p?n[0]:"";return p=n[0]!==p?n[0]:p,(0,J.jsxs)(cj,{char:r,onClick:function(){return e("/contact/edit/".concat(btoa(JSON.stringify(t))))},children:[(0,J.jsx)("span",{style:{textTransform:"uppercase"},children:t.name}),(0,J.jsx)("span",{children:t.phone[0]})]},t.id)})):0===o.length?(0,J.jsx)(cj,{onClick:function(){return e("/contact/add")},children:(0,J.jsx)("span",{style:{textAlign:"center",width:"100%"},children:"Nenhum contato cadastrado, clique aqui para adicionar seu primeiro contato"})}):(0,J.jsx)(cj,{children:(0,J.jsx)("span",{style:{textAlign:"center",width:"100%"},children:"Nenhum resultado encontrado para esta pesquisa"})})})]})},fj=function(){return(0,J.jsx)(ij,{children:(0,J.jsx)(lj,{})})},hj=Bn.button(QF||(QF=Ge(["\n\tbackground: none;\n\tcolor: inherit;\n\tborder: none;\n\tpadding: 0;\n\tfont: inherit;\n\toutline: inherit;\n\n\ttext-decoration: none;\n\tcursor: pointer;\n\tcolor: white;\n\ttext-transform: uppercase;\n\tpadding: 1em;\n\tborder: 2px solid white;\n\tfont-weight: bolder;\n\tborder-radius: 5px;\n\tmargin: 1em 0;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .7em;\n\t}\n\n"]))),dj=function(e){var t=e.onclick,n=e.label,r=e.submit;return(0,J.jsx)(hj,{type:r?"submit":"button",value:r?"submit":"button",onClick:r?function(){}:function(){return t()},children:n})},pj=["name"],vj=["_f"],mj=["_f"],yj=function(e){return"checkbox"===e.type},gj=function(e){return e instanceof Date},kj=function(e){return null==e},bj=function(e){return"object"===typeof e},_j=function(e){return!kj(e)&&!Array.isArray(e)&&bj(e)&&!gj(e)},wj=function(e){return _j(e)&&e.target?yj(e.target)?e.target.checked:e.target.value:e},xj=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Sj=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Ej=function(e){return void 0===e},Ij=function(e,t,n){if(!t||!_j(e))return n;var r=Sj(t.split(/[,[\].]+?/)).reduce((function(e,t){return kj(e)?e:e[t]}),e);return Ej(r)||r===e?Ej(e[t])?n:e[t]:r},Tj="blur",Cj="focusout",Aj="onBlur",Nj="onChange",Pj="onSubmit",Rj="onTouched",Oj="all",Dj="max",Lj="min",Mj="maxLength",Fj="minLength",jj="pattern",Uj="required",Vj="validate",qj=(n.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==Oj&&(t[i]=!r||Oj),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),Bj=function(e){return _j(e)&&!Object.keys(e).length},zj=function(e,t,n){e.name;var r=se(e,pj);return Bj(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||Oj)}))},Wj=function(e){return Array.isArray(e)?e:[e]};function Kj(e){var t=n.useRef(e);t.current=e,n.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var Hj=function(e){return"string"===typeof e},Gj=function(e,t,n,r){var i=Array.isArray(e);return Hj(e)?(r&&t.watch.add(e),Ij(n,e)):i?e.map((function(e){return r&&t.watch.add(e),Ij(n,e)})):(r&&(t.watchAll=!0),n)},Qj=function(e){return"function"===typeof e},$j=function(e){for(var t in e)if(Qj(e[t]))return!0;return!1};var Yj=function(e,t,n,r,i){return t?oe(oe({},n[e]),{},{types:oe(oe({},n[e]&&n[e].types?n[e].types:{}),{},ie({},r,i||!0))}):{}},Jj=function(e){return/^\w*$/.test(e)},Xj=function(e){return Sj(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function Zj(e,t,n){for(var r=-1,i=Jj(t)?[t]:Xj(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=_j(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var eU=function e(t,n,r){var i,a=Yr(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Ij(t,o);if(s){var u=s._f,c=se(s,vj);if(u&&n(u.name)){if(u.ref.focus&&Ej(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else _j(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},tU=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||ce(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},nU=function(e,t,n){var r=Sj(Ij(e,n));return Zj(r,"root",t[n]),Zj(e,n,r),e},rU=function(e){return"boolean"===typeof e},iU=function(e){return"file"===e.type},aU=function(e){return Hj(e)||n.isValidElement(e)},oU=function(e){return"radio"===e.type},sU=function(e){return e instanceof RegExp},uU={value:!1,isValid:!1},cU={value:!0,isValid:!0},lU=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ej(e[0].attributes.value)?Ej(e[0].value)||""===e[0].value?cU:{value:e[0].value,isValid:!0}:cU:uU}return uU},fU={isValid:!1,value:null},hU=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),fU):fU};function dU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(aU(e)||Array.isArray(e)&&e.every(aU)||rU(e)&&!e)return{type:n,message:aU(e)?e:"",ref:t}}var pU=function(e){return _j(e)&&!sU(e)?e:{value:e,message:""}},vU=function(){var e=Q(H().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h,d,p,v,m,y,g,k,b,_,w,x,S,E,I,T,C,A,N,P,R,O,D,L,M,F,j,U,V,q,B,z,W,K,G,Q,$,Y;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=u?u[0]:s,_=function(e){i&&b.reportValidity&&(b.setCustomValidity(rU(e)?"":e||" "),b.reportValidity())},w={},x=oU(s),S=yj(s),E=x||S,I=(y||iU(s))&&!s.value||""===n||Array.isArray(n)&&!n.length,T=Yj.bind(null,m,r,w),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mj,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fj,a=e?t:n;w[m]=oe({type:e?r:i,message:a,ref:s},T(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!E&&(I||kj(n))||rU(n)&&!n||S&&!lU(u).isValid||x&&!hU(u).isValid))){e.next=19;break}if(A=aU(c)?{value:!!c,message:c}:pU(c),N=A.value,P=A.message,!N){e.next=19;break}if(w[m]=oe({type:Uj,message:P,ref:b},T(Uj,P)),r){e.next=19;break}return _(P),e.abrupt("return",w);case 19:if(I||kj(h)&&kj(d)){e.next=28;break}if(D=pU(d),L=pU(h),kj(n)||isNaN(n)?(F=s.valueAsDate||new Date(n),Hj(D.value)&&(R=F>new Date(D.value)),Hj(L.value)&&(O=F<new Date(L.value))):(M=s.valueAsNumber||+n,kj(D.value)||(R=M>D.value),kj(L.value)||(O=M<L.value)),!R&&!O){e.next=28;break}if(C(!!R,D.message,L.message,Dj,Lj),r){e.next=28;break}return _(w[m].message),e.abrupt("return",w);case 28:if(!l&&!f||I||!(Hj(n)||a&&Array.isArray(n))){e.next=38;break}if(j=pU(l),U=pU(f),V=!kj(j.value)&&n.length>j.value,q=!kj(U.value)&&n.length<U.value,!V&&!q){e.next=38;break}if(C(V,j.message,U.message),r){e.next=38;break}return _(w[m].message),e.abrupt("return",w);case 38:if(!p||I||!Hj(n)){e.next=45;break}if(B=pU(p),z=B.value,W=B.message,!sU(z)||n.match(z)){e.next=45;break}if(w[m]=oe({type:jj,message:W,ref:s},T(jj,W)),r){e.next=45;break}return _(W),e.abrupt("return",w);case 45:if(!v){e.next=79;break}if(!Qj(v)){e.next=58;break}return e.next=49,v(n);case 49:if(K=e.sent,!(G=dU(K,b))){e.next=56;break}if(w[m]=oe(oe({},G),T(Vj,G.message)),r){e.next=56;break}return _(G.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!_j(v)){e.next=79;break}Q={},e.t0=H().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if($=e.t1.value,Bj(Q)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=dU,e.next=68,v[$](n);case 68:e.t3=e.sent,e.t4=b,e.t5=$,(Y=(0,e.t2)(e.t3,e.t4,e.t5))&&(Q=oe(oe({},Y),T($,Y.message)),_(Y.message),r&&(w[m]=Q)),e.next=61;break;case 75:if(Bj(Q)){e.next=79;break}if(w[m]=oe({ref:b},Q),r){e.next=79;break}return e.abrupt("return",w);case 79:return _(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var mU="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function yU(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(mU&&(e instanceof Blob||e instanceof FileList)||!n&&!_j(e))return e;for(var r in t=n?[]:{},e){if(Qj(e[r])){t=e;break}t[r]=yU(e[r])}}return t}var gU=function(e){return{isOnSubmit:!e||e===Pj,isOnBlur:e===Aj,isOnChange:e===Nj,isOnAll:e===Oj,isOnTouch:e===Rj}};function kU(e){for(var t in e)if(!Ej(e[t]))return!1;return!0}function bU(e,t){var n,r=Jj(t)?[t]:Xj(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=Ej(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var s=-1,u=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++s<c.length;){var f=c[s];u=u?u[f]:e[f],l===s&&(_j(u)&&Bj(u)||Array.isArray(u)&&kU(u))&&(n?delete n[f]:delete e[f]),n=u}}return e}function _U(){var e=[];return{get observers(){return e},next:function(t){var n,r=Yr(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var wU=function(e){return kj(e)||!bj(e)};function xU(e,t){if(wU(e)||wU(t))return e===t;if(gj(e)&&gj(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(gj(s)&&gj(u)||_j(s)&&_j(u)||Array.isArray(s)&&Array.isArray(u)?!xU(s,u):s!==u)return!1}}return!0}var SU=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},EU=function(e){return"select-multiple"===e.type},IU=function(e){return oU(e)||yj(e)},TU=function(e){return SU(e)&&e.isConnected};function CU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(_j(e)||n)for(var r in e)Array.isArray(e[r])||_j(e[r])&&!$j(e[r])?(t[r]=Array.isArray(e[r])?[]:{},CU(e[r],t[r])):kj(e[r])||(t[r]=!0);return t}function AU(e,t,n){var r=Array.isArray(e);if(_j(e)||r)for(var i in e)Array.isArray(e[i])||_j(e[i])&&!$j(e[i])?Ej(t)||wU(n[i])?n[i]=Array.isArray(e[i])?CU(e[i],[]):oe({},CU(e[i])):AU(e[i],kj(t)?{}:t[i],n[i]):n[i]=!xU(e[i],t[i]);return n}var NU=function(e,t){return AU(e,t,CU(t))},PU=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return Ej(e)?e:n?""===e||kj(e)?NaN:+e:r&&Hj(e)?new Date(e):i?i(e):e};function RU(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return iU(t)?t.files:oU(t)?hU(e.refs).value:EU(t)?ce(t.selectedOptions).map((function(e){return e.value})):yj(t)?lU(e.refs).value:PU(Ej(t.value)?e.ref.value:t.value,e)}var OU=function(e,t,n,r){var i,a={},o=Yr(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Ij(t,s);u&&Zj(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:ce(e),fields:a,shouldUseNativeValidation:r}},DU=function(e){return Ej(e)?void 0:sU(e)?e.source:_j(e)?sU(e.value)?e.value.source:e.value:e},LU=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function MU(e,t,n){var r=Ij(e,n);if(r||Jj(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=Ij(t,a),s=Ij(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var FU=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},jU=function(e,t){return!Sj(Ij(e,t)).length&&bU(e,t)},UU={mode:Pj,reValidateMode:Nj,shouldFocusError:!0};function VU(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=oe(oe({},UU),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=yU(n.defaultValues)||{},o=n.shouldUnregister?{}:yU(a),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:_U(),array:_U(),state:_U()},d=gU(n.mode),p=gU(n.reValidateMode),v=n.criteriaMode===Oj,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=Q(H().mark((function e(t){var a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=Bj,e.next=6,x();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,E(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,l&&Array.isArray(Ij(i,e))){var d=n(Ij(i,e),u.argA,u.argB);c&&Zj(i,e,d)}if(f.errors&&l&&Array.isArray(Ij(r.errors,e))){var p=n(Ij(r.errors,e),u.argA,u.argB);c&&Zj(r.errors,e,p),jU(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(Ij(r.touchedFields,e))){var v=n(Ij(r.touchedFields,e),u.argA,u.argB);c&&Zj(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=NU(a,o)),h.state.next({isDirty:T(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zj(o,e,t)},k=function(e,t){Zj(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var u=Ij(i,e);if(u){var c=Ij(o,e,Ej(n)?Ij(a,e):n);Ej(c)||r&&r.defaultChecked||t?Zj(o,e,t?c:RU(u._f)):N(e,c),s.mount&&y()}},_=function(e,t,n,i,o){var s=!1,u={name:e},c=Ij(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=u.isDirty=T(),s=l!==u.isDirty}if(f.dirtyFields&&(!n||i)){var d=Ij(r.dirtyFields,e);xU(Ij(a,e),t)?bU(r.dirtyFields,e):Zj(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,s=s||d!==Ij(r.dirtyFields,e)}return n&&!c&&(Zj(r.touchedFields,e,n),u.touchedFields=r.touchedFields,s=s||f.touchedFields&&c!==n),s&&o&&h.state.next(u),s?u:{}},w=function(){var n=Q(H().mark((function n(i,a,o,s){var u,d,p;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=Ij(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return k(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?Zj(r.errors,i,o):bU(r.errors,i)),(o?xU(u,o):!u)&&Bj(s)&&!d||(p=oe(oe(oe({},s),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=oe(oe({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),x=function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(oe({},o),n.context,OU(t||u.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Q(H().mark((function e(t){var n,i,a,o,s,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(n=e.sent,i=n.errors,t){a=Yr(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=Ij(i,s))?Zj(r.errors,s,u):bU(r.errors,s)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Q(H().mark((function e(t,i){var a,s,c,l,f,h,d,p=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=H().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(s=e.t1.value,!(c=t[s])){e.next=21;break}if(l=c._f,f=se(c,mj),!l){e.next=17;break}return h=u.array.has(l.name),e.next=11,vU(c,Ij(o,l.name),v,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(Ij(d,l.name)?h?nU(r.errors,d,l.name):Zj(r.errors,l.name,d[l.name]):bU(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,E(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e,t=Yr(u.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Ij(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!TU(e)})):!TU(r._f.ref))&&V(n)}}catch(a){t.e(a)}finally{t.f()}u.unMount=new Set},T=function(e,t){return e&&t&&Zj(o,e,t),!xU(L(),a)},C=function(e,t,n){var r=oe({},s.mount?o:Ej(t)?a:Hj(e)?ie({},e,t):t);return Gj(e,u,r,n)},A=function(e){return Sj(Ij(s.mount?o:a,e,t.shouldUnregister?Ij(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ij(i,e),a=t;if(r){var s=r._f;s&&(!s.disabled&&Zj(o,e,PU(t,s)),a=mU&&SU(s.ref)&&kj(t)?"":t,EU(s.ref)?ce(s.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):s.refs?yj(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):s.refs[0]&&(s.refs[0].checked=!!a):s.refs.forEach((function(e){return e.checked=e.value===a})):iU(s.ref)?s.ref.value="":(s.ref.value=a,s.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&_(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&D(e)},P=function e(t,n,r){for(var a in n){var o=n[a],s="".concat(t,".").concat(a),c=Ij(i,s);!u.array.has(t)&&wU(o)&&(!c||c._f)||gj(o)?N(s,o,r):e(s,o,r)}},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Ij(i,e),c=u.array.has(e),l=yU(t);Zj(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=NU(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:T(e,l)}))):!s||s._f||kj(l)?N(e,l,n):P(e,l,n),tU(e,u)&&h.state.next({}),h.watch.next({name:e})},O=function(){var t=Q(H().mark((function t(a){var s,c,f,m,g,k,b,S,E,I,T,C,A,N,P;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.target,c=s.name,!(f=Ij(i,c))){t.next=39;break}if(k=s.type?RU(f._f):wj(a),b=a.type===Tj||a.type===Cj,S=!LU(f._f)&&!n.resolver&&!Ij(r.errors,c)&&!f._f.deps||FU(b,Ij(r.touchedFields,c),r.isSubmitted,p,d),E=tU(c,u,b),Zj(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),I=_(c,k,b,!1),T=!Bj(I)||E,!b&&h.watch.next({name:c,type:a.type}),!S){t.next=15;break}return t.abrupt("return",T&&h.state.next(oe({name:c},E?{}:I)));case 15:if(!b&&E&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,x([c]);case 21:C=t.sent,A=C.errors,N=MU(r.errors,i,c),P=MU(A,i,N.name||c),m=P.error,c=P.name,g=Bj(A),t.next=37;break;case 30:return t.next=32,vU(f,Ij(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&D(f._f.deps),w(c,g,m,I);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=Q(H().mark((function e(t){var a,o,s,c,l,d=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=Wj(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,S(Ej(t)?t:c);case 6:l=e.sent,o=Bj(l),s=t?!c.some((function(e){return Ij(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ij(i,t),e.next=3,E(n&&n._f?ie({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,E(i);case 20:s=o=e.sent;case 21:return h.state.next(oe(oe(oe({},!Hj(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!s&&eU(i,(function(e){return Ij(r.errors,e)}),t?c:u.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=oe(oe({},a),s.mount?o:{});return Ej(e)?t:Hj(e)?Ij(t,e):e.map((function(e){return Ij(t,e)}))},M=function(e,t){return{invalid:!!Ij((t||r).errors,e),isDirty:!!Ij((t||r).dirtyFields,e),isTouched:!!Ij((t||r).touchedFields,e),error:Ij((t||r).errors,e)}},F=function(e){e?Wj(e).forEach((function(e){return bU(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},j=function(e,t,n){var a=(Ij(i,e,{_f:{}})._f||{}).ref;Zj(r.errors,e,oe(oe({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},U=function(e,t){return Qj(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},V=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Yr(e?Wj(e):u.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;u.mount.delete(l),u.array.delete(l),Ij(i,l)&&(s.keepValue||(bU(i,l),bU(o,l)),!s.keepError&&bU(r.errors,l),!s.keepDirty&&bU(r.dirtyFields,l),!s.keepTouched&&bU(r.touchedFields,l),!n.shouldUnregister&&!s.keepDefaultValue&&bU(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(oe(oe({},r),s.keepDirty?{isDirty:T()}:{})),!s.keepIsValid&&y()},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Ij(i,t),l=rU(r.disabled);return Zj(i,t,{_f:oe(oe({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),u.mount.add(t),c?l&&Zj(o,t,r.disabled?void 0:Ij(o,t,RU(c._f))):b(t,!0,r.value),oe(oe(oe({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:DU(r.min),max:DU(r.max),minLength:DU(r.minLength),maxLength:DU(r.maxLength),pattern:DU(r.pattern)}:{}),{},{name:t,onChange:O,onBlur:O,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=Ij(i,t);var l=Ej(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=IU(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;Zj(i,t,{_f:oe(oe({},c._f),f?{refs:[].concat(ce(h.filter(TU)),[l],ce(Array.isArray(Ij(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=Ij(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!xj(u.array,t)||!s.action)&&u.unMount.add(t)}))})},B=function(e,t){return function(){var a=Q(H().mark((function a(s){var c,l,f,d,p;return H().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),c=!0,l=yU(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,x();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,E(i);case 17:if(!Bj(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,s);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(oe({},r.errors),s);case 26:n.shouldFocusError&&eU(i,(function(e){return Ij(r.errors,e)}),u.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bj(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ij(i,e)&&(Ej(t.defaultValue)?R(e,Ij(a,e)):(R(e,t.defaultValue),Zj(a,e,t.defaultValue)),t.keepTouched||bU(r.touchedFields,e),t.keepDirty||(bU(r.dirtyFields,e),r.isDirty=t.defaultValue?T(e,Ij(a,e)):T()),t.keepError||(bU(r.errors,e),f.isValid&&y()),h.state.next(oe({},r)))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=yU(c),d=e&&!Bj(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=Yr(u.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;Ij(r.dirtyFields,m)?Zj(d,m,Ij(o,m)):R(m,Ij(d,m))}}catch(w){v.e(w)}finally{v.f()}}else{if(mU&&Ej(e)){var y,g=Yr(u.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=Ij(i,k);if(b&&b._f){var _=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(SU(_)){_.closest("form").reset();break}}catch(x){}}}}catch(w){g.e(w)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?yU(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||xU(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?NU(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ij(i,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:q,unregister:V,getFieldState:M,_executeSchema:x,_getWatch:C,_getDirty:T,_updateValid:y,_removeUnmounted:I,_updateFieldArray:g,_getFieldArray:A,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return a},get _names(){return u},set _names(e){u=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=oe(oe({},n),e)}},trigger:D,register:q,handleSubmit:B,watch:U,setValue:R,getValues:L,reset:W,resetField:z,clearErrors:F,unregister:V,setError:j,setFocus:K,getFieldState:M}}var qU=function(e){var t=e.defaultValues,r=e.children,i=e.onSubmit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.useRef(),r=u(n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),2),i=r[0],a=r[1];t.current?t.current.control._options=e:t.current=oe(oe({},VU(e)),{},{formState:i});var o=t.current.control,s=n.useCallback((function(e){zj(e,o._proxyFormState,!0)&&(o._formState=oe(oe({},o._formState),e),a(oe({},o._formState)))}),[o]);return Kj({subject:o._subjects.state,callback:s}),n.useEffect((function(){o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()})),t.current.formState=qj(i,o._proxyFormState),t.current}({defaultValues:t}),o=a.handleSubmit;return(0,J.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),o(i)()},children:n.Children.map(r,(function(e){return e.props.name?n.createElement(e.type,oe({},oe(oe({},e.props),{},{register:a.register,getValues:a.getValues,unregister:a.unregister,setValue:a.setValue,key:e.props.name}))):e}))})};var BU,zU,WU,KU,HU,GU,QU=__webpack_require__.p+"static/media/remove.037fb53c4b16c142bdc4f6aabe3e41a2.svg",$U=Bn.input(BU||(BU=Ge(["\n\tall: unset;\n\tborder-bottom: 1px solid rgba(255,255,255,.2);\n\t/* background-color: #cccccc10; */\n\t/* padding: 1em; */\n\t/* border-radius: 5px; */\n\twidth: 100%;\n\tcolor: black;\n\tfont-weight: 400;\n\tpadding-bottom: .2em;\n\tcolor: rgba(255,255,255,.7);\n\tfont-size: .8em;\n\ttransition: border  .5s ease-in-out;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .6em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .4em;\n\t}\n\t&:focus {\n\t\tborder-bottom: 1px solid rgba(255,255,255,1);\n\t}\n"]))),YU=Bn.h4(zU||(zU=Ge(["\n\tcolor: white;\n\tmargin-right: .5em;\n\ttext-transform: uppercase;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .8em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .5em;\n\t}\n"]))),JU=Bn.div(WU||(WU=Ge(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: end;\n\talign-items: end;\n\twidth: 100%;\n\tmargin-top: .2em;\n\n"]))),XU=Bn.img(KU||(KU=Ge(["\n\tcursor: pointer;\n\t&:hover{\n\t\tcolor: ",";\n\t}\n\twidth: 15px;\n\theight: 15px;\n"])),Qe.colors.active),ZU=Bn.img(HU||(HU=Ge(["\n\tcursor: pointer;\n\t&:hover{\n\t\tcolor: ",";\n\t}\n\twidth: 18px;\n\theight: 18px;\n\t/* margin-left: .5em; */\n"])),Qe.colors.active),eV=Bn.div(GU||(GU=Ge(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\tmargin: 0;\n\n"]))),tV=function(e){var t=e.label,r=e.unregister,i=(e.getValues,e.register),a=e.name,o=e.append,s=e.add,c=e.remove,l=e.mask,f=e.initialValue,h=u((0,n.useState)(!1),2),d=h[0],p=h[1];return(0,J.jsxs)(JU,{children:[(0,J.jsx)(YU,{children:t}),(0,J.jsx)($U,oe(oe({},i(a,{value:f||""})),{},{placeholder:t,onChange:function(e){var t=e.target.value;!function(e){p(!!(""!==e&&s&&void 0!==e||void 0!==f&&""!==f))}(t),e.target.value=l?l(t):t}})),d&&(0,J.jsx)(XU,{src:jF,onClick:function(){return o()}}),a.includes("phone")&&!s&&(0,J.jsx)(ZU,{onClick:function(){r(a),c(a)},src:QU})]})},nV=JF().create({baseURL:"https://viacep.com.br/ws/"});nV.interceptors.request.use((function(e){return e.headers.post["Access-Control-Allow-Origin"]="*",e.headers.get["Access-Control-Allow-Origin"]="*",e}));var rV,iV=nV,aV=function(){var e=Q(H().mark((function e(t,n,r){var i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iV[n](t,oe(oe({},r.data),{},{params:r.params}));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),oV={getAddress:function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aV("/".concat(t,"/json"),"get",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sV=oV,uV={cellphoneMask:function(e){return e.length<3?e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2"):e.replace(/\D/g,"").replace(/(\d{2})(\d)(\d)/,"($1) $2 $3").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")},cepMask:function(e){return e.replace(/[^0-9\\.]+/g,"")}},cV=function(e){e.label;var t=e.unregister,r=e.register,i=e.name,a=e.append,o=e.add,s=e.remove,c=e.setValue,l=(e.getValues,e.initialValue),f=u((0,n.useState)(!1),2),h=f[0],d=f[1],p=function(){var e=Q(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sV.getAddress(parseInt(t)).then((function(e){console.log("aki"),e.erro&&He.error("Endere\xe7o CEP inexistente"),console.log(e),c("neighborhood_".concat(i),e.bairro),c("street_".concat(i),e.logradouro),c("city_".concat(i),e.localidade),c("state_".concat(i),e.uf),c("complement_".concat(i),e.complemento)})).catch((function(e){He.error("Endere\xe7o CEP inexistente")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,J.jsxs)(eV,{children:[(0,J.jsxs)(JU,{children:[(0,J.jsx)(YU,{children:"CEP"}),(0,J.jsx)($U,oe(oe({maxLength:8},r("cep_".concat(i),{value:(null===l||void 0===l?void 0:l.cep)||""})),{},{onChange:function(e){var t=e.target.value;e.target.value=uV.cepMask(t),function(e){""!==e&&o&&void 0!==e||void 0!==(null===l||void 0===l?void 0:l.cep)&&""!==(null===l||void 0===l?void 0:l.cep)?d(!0):d(!1)}(t)},onKeyDown:function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,"Enter"!==t.code||!n){e.next=7;break}if(t.stopPropagation(),t.preventDefault(),8!==n.length){e.next=7;break}return e.next=7,p(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),placeholder:"45405105"})),(0,J.jsx)(YU,{children:"Bairro"}),(0,J.jsx)($U,oe(oe({},r("neighborhood_".concat(i),{value:(null===l||void 0===l?void 0:l.neighborhood)||""})),{},{placeholder:"Nossa senhora de f\xe1tima"})),h&&(0,J.jsx)(XU,{src:jF,onClick:function(){return a()}}),!o&&(0,J.jsx)(ZU,{onClick:function(){t("neighborhood_".concat(i)),t("complement_".concat(i)),t("street_".concat(i)),t("state_".concat(i)),t("city_".concat(i)),t("cep_".concat(i)),s(i)},src:QU})]}),(0,J.jsxs)(JU,{children:[(0,J.jsx)(YU,{children:"Complemento"}),(0,J.jsx)($U,oe(oe({},r("complement_".concat(i),{value:(null===l||void 0===l?void 0:l.complement)||""})),{},{placeholder:"complemento"})),(0,J.jsx)(YU,{children:"Rua"}),(0,J.jsx)($U,oe(oe({},r("street_".concat(i),{value:(null===l||void 0===l?void 0:l.street)||""})),{},{placeholder:"rua"}))]}),(0,J.jsxs)(JU,{children:[(0,J.jsx)(YU,{children:"Estado"}),(0,J.jsx)($U,oe(oe({},r("state_".concat(i),{value:(null===l||void 0===l?void 0:l.state)||""})),{},{placeholder:"BA"})),(0,J.jsx)(YU,{children:"Cidade"}),(0,J.jsx)($U,oe(oe({},r("city_".concat(i),{value:(null===l||void 0===l?void 0:l.city)||""})),{},{placeholder:"cidade"}))]})]})},lV=function(e,t){return Array.isArray(e)?e.every((function(e){return void 0!==e&&e})):Object.keys(e).every((function(n){return Array.isArray(t)&&!t.includes(n)||void 0!==e[n]&&e[n]}))},fV=new Uint8Array(16);function hV(){if(!rV&&!(rV="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rV(fV)}var dV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var pV=function(e){return"string"===typeof e&&dV.test(e)},vV=[],mV=0;mV<256;++mV)vV.push((mV+256).toString(16).substr(1));var yV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(vV[e[t+0]]+vV[e[t+1]]+vV[e[t+2]]+vV[e[t+3]]+"-"+vV[e[t+4]]+vV[e[t+5]]+"-"+vV[e[t+6]]+vV[e[t+7]]+"-"+vV[e[t+8]]+vV[e[t+9]]+"-"+vV[e[t+10]]+vV[e[t+11]]+vV[e[t+12]]+vV[e[t+13]]+vV[e[t+14]]+vV[e[t+15]]).toLowerCase();if(!pV(n))throw TypeError("Stringified UUID is invalid");return n};var gV,kV,bV,_V,wV,xV,SV,EV,IV,TV,CV,AV,NV,PV,RV,OV,DV,LV,MV,FV,jV,UV,VV=function(e,t,n){var r=(e=e||{}).random||(e.rng||hV)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return yV(r)},qV=(Bn.div(gV||(gV=Ge(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t/* justify-content: center; */\n\talign-items: center;\n\theight: 100%;\n\t/* width: 35%; */\n\twidth: auto;\n\tbox-sizing: border-box;\n\tpadding: 2em;\n"]))),Bn.div(kV||(kV=Ge(["\n\twidth: 30%;\n"]))),Bn.div(bV||(bV=Ge(["\n\theight: fit-content;\n\tbackground-color: rgba(0,0,0,.6);\n\t/* width: 35%; */\n\tpadding: 1.5em;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-around;\n\talign-items: center;\n\twidth: 100%;\n\tmin-width: 30%;\n\tmax-width: 70%;\n\tborder-radius: 5px;\n"])))),BV=(Bn.div(_V||(_V=Ge(["\n\twidth: 50%;\n\theight: 3px;\n\tbackground-color:  ",";\n\tborder-radius: 5px;\n\tmargin: 1em 0;\n"])),Qe.colors.icons),Bn.span(wV||(wV=Ge(["\n\tcolor: ",";\n\tfont-style: italic;\n\tfont-size: small;\n"])),Qe.colors.icons),Bn.h3(xV||(xV=Ge(["\n\tcolor: ",";\n\tfont-weight: bolder;\n\tmargin: 1em 0;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .8em;\n\t}\n\n"])),Qe.colors.icons)),zV=(Bn.h3(SV||(SV=Ge(["\n\tcolor: ",";\n\tfont-weight: bolder;\n"])),Qe.colors.icons),Bn.div(EV||(EV=Ge(["\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\t/* justify-content: center; */\n\t/* align-items: center; */\n"])))),WV=Bn.div(IV||(IV=Ge(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\talign-items: center;\n\theight: 100%;\n\t/* min-width: fit-content; */\n\tbox-sizing: border-box;\n\tpadding: 2em;\n"]))),KV=Bn.div(TV||(TV=Ge(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbox-sizing: border-box;\n\tjustify-content: end;\n\talign-items: end;\n"]))),HV=function(){var e=u((0,n.useState)([]),2),t=e[0],r=e[1],i=u((0,n.useState)([]),2),a=i[0],o=i[1],s=["name"],c=j(),l=(0,n.useContext)(ee).user,f=function(e){var t={},n=["cep","neighborhood","complement","street","state","city"],r={},i={};return Object.keys(e).map((function(a){var o=a.includes("_")?a.split("_")[0]:a;if(n.join("").includes(o)||"phone"===o||(t[a]=e[a]),a.includes("_")){var s=a.split("_")[1];a.includes("phone")?Array.isArray(i[s])?i[s].push(e[a]):i[s]=e[a]:(Array.isArray(r[s])||(r[s]=[]),r[s].push(e[a]))}})),i[0]=e.phone,r=Object.values(r).map((function(e){return!!e.every((function(e){return""!==e}))&&function(e,t){var n={};return t.forEach((function(t,r){n[t]=e[r]})),n}(e,n)})),r=r.filter((function(e){return e})),t.name=t.name.toUpperCase(),t.phone=Object.values(i),t.address=r,lV(t,s)?t:(He.error("Todos os campos devem ser preenchidos para realizar esta a\xe7\xe3o."),!1)},h=function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,DF.add(n,l.data.googleId).then((function(e){e&&c("/search")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){o((function(t){return t.filter((function(t){return t.key!==e&&t}))}))},p=function(e){r((function(t){return t.filter((function(t){return t.key!==e&&t}))}))};return(0,J.jsx)(WV,{children:(0,J.jsx)(qV,{children:(0,J.jsxs)(zV,{children:[(0,J.jsx)(BV,{children:"ADICIONAR CONTATO"}),(0,J.jsxs)(qU,{onSubmit:h,children:[(0,J.jsx)(tV,{name:"name",label:"Nome"}),(0,J.jsx)(tV,{name:"email",label:"Email"}),(0,J.jsx)(tV,{append:function e(){var t=VV();r((function(n){return[].concat(ce(n),[(0,J.jsx)(tV,{mask:uV.cellphoneMask,remove:p,append:e,name:"phone_".concat(t),label:"Contato"},"phone_".concat(t))])}))},mask:uV.cellphoneMask,add:!0,name:"phone",label:"Contato"},"phone"),t,(0,J.jsx)(tV,{name:"job",label:"Cargo"}),(0,J.jsx)(tV,{name:"description",label:"Descri\xe7\xe3o"}),(0,J.jsx)(cV,{append:function e(){var t=VV();o((function(n){return[].concat(ce(n),[(0,J.jsx)(cV,{remove:d,append:e,name:t,label:"Endere\xe7o"},t)])}))},add:!0,name:"0",label:"Endere\xe7o"},"address"),a,(0,J.jsx)(KV,{children:(0,J.jsx)(dj,{submit:!0,label:"Salvar"})})]})]})})})},GV=function(){return(0,J.jsx)(ij,{children:(0,J.jsx)(HV,{})})},QV=Bn.div(CV||(CV=Ge(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t/* justify-content: center; */\n\talign-items: center;\n\theight: 100%;\n\t/* width: 35%; */\n\twidth: auto;\n\tbox-sizing: border-box;\n\tpadding: 2em;\n\t@media screen and (max-width: 1024px) {\n\t\tpadding: 1em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tpadding: 0;\n\t}\n\n"]))),$V=(Bn.div(AV||(AV=Ge(["\n\twidth: 30%;\n"]))),Bn.div(NV||(NV=Ge(["\n\theight: fit-content;\n\tbackground-color: rgba(0,0,0,.6);\n\t/* width: 35%; */\n\tpadding: 1.5em;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-around;\n\talign-items: center;\n\tborder-radius: 5px;\n\tposition: relative;\n\t@media screen and (max-width: 1024px) {\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t}\n"])))),YV=Bn.div(PV||(PV=Ge(["\n\twidth: 50%;\n\theight: 3px;\n\tbackground-color:  ",";\n\tborder-radius: 5px;\n\tmargin: 1em 0;\n"])),Qe.colors.icons),JV=Bn.span(RV||(RV=Ge(["\n\tcolor: ",";\n\tfont-style: italic;\n\tfont-size: small;\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .5em;\n\t}\n"])),Qe.colors.icons),XV=Bn.h3(OV||(OV=Ge(["\n\tcolor: ",";\n\tfont-weight: bolder;\n\tmargin: 1em 0;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .8em;\n\t}\n\n"])),Qe.colors.icons),ZV=Bn.h3(DV||(DV=Ge(["\n\tcolor: ",";\n\tfont-weight: bolder;\n\ttext-align: center;\n\t@media screen and (max-width: 1024px) {\n\t\tfont-size: .8em;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tfont-size: .6em;\n\t}\n"])),Qe.colors.icons),eq=In(LV||(LV=Ge(["\n\tfrom{\n\t\topacity: 0;\n\t\twidth: 0;\n\t}\n\tto{\n\t\topacity: 1;\n\t\twidth: 100%;\n\t}\n"]))),tq=Bn.div(MV||(MV=Ge(["\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tanimation: "," .3s ease-in-out;\n\t/* justify-content: center; */\n\t/* align-items: center; */\n"])),eq),nq=Bn.div(FV||(FV=Ge(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\talign-items: center;\n\theight: 100%;\n\tmin-width: fit-content;\n\tmax-width: 100%;\n\tbox-sizing: border-box;\n\tpadding: 2em;\n\toverflow: auto;\n\t@media screen and (max-width: 1024px) {\n\t\tpadding: 1em;\n\t\tdisplay: block;\n\t\tmin-width: 100%;\n\t\t/* justify-content: unset; */\n\t\t/* align-items: unset; */\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tpadding: .5em;\n\t\t/* justify-content: unset; */\n\t\t/* align-items: unset; */\n\t}\n"]))),rq=Bn.div(jV||(jV=Ge(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbox-sizing: border-box;\n\tjustify-content: end;\n\talign-items: end;\n"]))),iq=Bn.img(UV||(UV=Ge(["\n\twidth: 20px;\n\theight: 20px;\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n\tcursor: pointer;\n"]))),aq=function(){var e=u((0,n.useState)(!1),2),t=e[0],r=e[1],i=u((0,n.useState)([]),2),a=i[0],o=i[1],s=u((0,n.useState)([]),2),c=s[0],l=s[1],f=u((0,n.useState)(),2),h=f[0],d=f[1],p=u((0,n.useState)(!0),2),v=p[0],m=p[1],y=function(){var e=(0,n.useContext)(_).matches,t=e[e.length-1];return t?t.params:{}}().userInfo,g=["name","email","job","phone"],k=j(),b=(0,n.useContext)(ee).user;(0,n.useEffect)((function(){var e=JSON.parse(atob(y||""));if(d(e),m(!1),e.address.length>1)for(var t=1;t<e.address.length;t++)E(e.address[t]);if(e.phone.length>1)for(var n=1;n<e.phone.length;n++)S(e.phone[n])}),[y]);var w=function(e){var t={},n=["cep","neighborhood","complement","street","state","city"],r={},i={};return Object.keys(e).map((function(a){var o=a.includes("_")?a.split("_")[0]:a;if(n.join("").includes(o)||"phone"===o||(t[a]=e[a]),a.includes("_")){var s=a.split("_")[1];a.includes("phone")?Array.isArray(i[s])?i[s].push(e[a]):i[s]=e[a]:(Array.isArray(r[s])||(r[s]=[]),r[s].push(e[a]))}})),i[0]=e.phone,r=Object.values(r).map((function(e){return!!e.every((function(e){return""!==e}))&&function(e,t){var n={};return t.forEach((function(t,r){n[t]=e[r]})),n}(e,n)})),r=r.filter((function(e){return e})),t.name=t.name.toUpperCase(),t.phone=Object.values(i),t.address=r,console.log(t),lV(t,g)?t:(He.error("Todos os campos devem ser preenchidos para realizar esta a\xe7\xe3o."),!1)},x=function(){var e=Q(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,DF.update((null===h||void 0===h?void 0:h.id)||"",n,b.data.googleId).then((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function e(t){var n=VV();o((function(r){return[].concat(ce(r),[(0,J.jsx)(tV,{initialValue:t||"",mask:uV.cellphoneMask,remove:T,append:e,name:"phone_".concat(n),label:"Contato"},"phone_".concat(n))])}))},E=function e(t){var n=VV();l((function(r){return[].concat(ce(r),[(0,J.jsx)(cV,{initialValue:t,remove:I,append:e,name:n,label:"Endere\xe7o"},n)])}))},I=function(e){l((function(t){return t.filter((function(t){return t.key!==e&&t}))}))},T=function(e){o((function(t){return t.filter((function(t){return t.key!==e&&t}))}))},C=function(){var e=Q(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Realmente deseja deletar este contato ?")){e.next=3;break}return e.next=3,DF.remove((null===h||void 0===h?void 0:h.id)||"",b.data.googleId).then((function(e){e&&k("/search")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,J.jsx)(nq,{children:v?(0,J.jsx)(Hr,{wrapperStyle:{justifyContent:"center",margin:"3em 0"},color:Qe.colors.active,height:35,width:35}):(0,J.jsxs)($V,{children:[(0,J.jsx)(iq,{onClick:C,src:QU}),(0,J.jsxs)(QV,{onClick:function(){return r(!t)},children:[(0,J.jsx)(ZV,{children:(null===h||void 0===h?void 0:h.name)||""}),(0,J.jsx)(YV,{}),(0,J.jsx)(JV,{children:(null===h||void 0===h?void 0:h.description)||""})]}),t&&(0,J.jsxs)(tq,{children:[(0,J.jsx)(XV,{children:"EDITAR USU\xc1RIO"}),(0,J.jsxs)(qU,{onSubmit:x,children:[(0,J.jsx)(tV,{initialValue:null===h||void 0===h?void 0:h.name,name:"name",label:"Nome"}),(0,J.jsx)(tV,{initialValue:null===h||void 0===h?void 0:h.email,name:"email",label:"Email"}),(0,J.jsx)(tV,{append:S,initialValue:null===h||void 0===h?void 0:h.phone[0],mask:uV.cellphoneMask,add:!0,name:"phone",label:"Contato"},"phone"),a,(0,J.jsx)(tV,{initialValue:null===h||void 0===h?void 0:h.job,name:"job",label:"Cargo"}),(0,J.jsx)(tV,{initialValue:null===h||void 0===h?void 0:h.description,name:"description",label:"Descri\xe7\xe3o"}),(0,J.jsx)(cV,{initialValue:null===h||void 0===h?void 0:h.address[0],name:"address",append:E,add:!0,label:" Endere\xe7o"},"address"),c,(0,J.jsx)(rq,{children:(0,J.jsx)(dj,{submit:!0,label:"Salvar"})})]})]})]})})},oq=function(){return(0,J.jsx)(ij,{children:(0,J.jsx)(aq,{})})},sq=function(){var e=(0,n.useContext)(ee).signedIn;return(0,J.jsx)(W,{children:(0,J.jsx)(B,{children:e?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(V,{path:"*",element:(0,J.jsx)(fj,{})}),(0,J.jsx)(V,{path:"/search",element:(0,J.jsx)(fj,{})}),(0,J.jsx)(V,{path:"/contact/add",element:(0,J.jsx)(GV,{})}),(0,J.jsx)(V,{path:"/contact/edit/:userInfo",element:(0,J.jsx)(oq,{})})]}):(0,J.jsx)(J.Fragment,{children:(0,J.jsx)(V,{path:"*",element:(0,J.jsx)(vr,{})})})})})},uq=document.getElementById("root");(0,r.s)(uq).render((0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(Z,{children:(0,J.jsx)(sq,{})}),(0,J.jsx)(Fe,{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}))}()})();
//# sourceMappingURL=main.3b86bede.js.map